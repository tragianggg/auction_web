var CS_CONF = {
    "projectId": 613,
    "status": 1,
    "hostnames": ["rolex.com", "rolex.cn"],
    "crossDomainTracking": 1,
    "crossDomainSingleIframeTracking": 1,
    "consentRequired": 0,
    "allowSubdomains": 1,
    "visitorCookieTimeout": 34164000000,
    "sampleRate": 100,
    "replayRecordingRate": 1,
    "validationRate": 1,
    "lastTrackingDraw": 1595863674,
    "trackerDomain": "c.contentsquare.net",
    "recordingDomain": "r.contentsquare.net",
    "useMalkaPipeline": 1,
    "ed": "l.contentsquare.net/log/web",
    "eMerchandisingEnabled": 0,
    "mouseMoveHeatmapEnabled": 0,
    "autoInsightsEnabled": 1,
    "jsErrorsEnabled": 1,
    "customErrorsEnabled": 0,
    "jsCustomErrorsEnabled": 0,
    "apiErrorsEnabled": 0,
    "customHashIdEnabled": 0,
    "recordingEncryptionEnabled": 0,
    "recordingEncryptionPublicKey": null,
    "recordingEncryptionPublicKeyId": 0,
    "secureCookiesEnabled": 0,
    "triggerSessionReplayEnabled": 0,
    "triggerSessionReplayRegex": null,
    "dynamicIdRegex": null,
    "whitelistedAttributes": [],
    "replayRecordingUnmaskedUrlRegex": null,
    "replayRecordingUnmaskedUrlRegexRules": [],
    "replayRecordingMaskedUrlRegexRules": [],
    "replayRecordingMaskedUrlRegex": null,
    "anonymisationMethod": null,
    "tagDeploymentMode": "CONTENTSQUARE",
    "experimental": null,
    "iframesTracking": 0,
    "textVisibilityEnabled": 0,
    "cookielessTrackingEnabled": 0,
    "malkaUrlEnabled": 0,
    "malkaEtrEnabled": 0,
    "pathComputationRules": {
        "reliableSelectors": [],
        "uniqueAttributes": [],
        "uniqueCssSelectors": []
    },
    "asyncSerializerEnabled": 1,
    "pendingInactivityTimeout": 5000,
    "accessibilityEnabled": 0,
    "uxaDomain": "app.contentsquare.com",
    "webviewsTrackingEnabled": 0,
    "taskSchedulerOptions": {
        "enabled": 1
    },
    "malkaQuotaServiceDomain": "q-aeu1.contentsquare.net",
    "malkaRecordingDomain": "k-aeu1.contentsquare.net"
};
var CS_INTEGRATIONS_CONF = {
    "adobe-target": {}
};
/* integration-adobe-target 3.5.4 */
! function(e) {
    var n = {};

    function t(r) {
        if (n[r]) return n[r].exports;
        var a = n[r] = {
            i: r,
            l: !1,
            exports: {}
        };
        return e[r].call(a.exports, a, a.exports, t), a.l = !0, a.exports
    }
    t.m = e, t.c = n, t.d = function(e, n, r) {
        t.o(e, n) || Object.defineProperty(e, n, {
            enumerable: !0,
            get: r
        })
    }, t.r = function(e) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
            value: "Module"
        }), Object.defineProperty(e, "__esModule", {
            value: !0
        })
    }, t.t = function(e, n) {
        if (1 & n && (e = t(e)), 8 & n) return e;
        if (4 & n && "object" == typeof e && e && e.__esModule) return e;
        var r = Object.create(null);
        if (t.r(r), Object.defineProperty(r, "default", {
                enumerable: !0,
                value: e
            }), 2 & n && "string" != typeof e)
            for (var a in e) t.d(r, a, function(n) {
                return e[n]
            }.bind(null, a));
        return r
    }, t.n = function(e) {
        var n = e && e.__esModule ? function() {
            return e.default
        } : function() {
            return e
        };
        return t.d(n, "a", n), n
    }, t.o = function(e, n) {
        return Object.prototype.hasOwnProperty.call(e, n)
    }, t.p = "", t(t.s = 1)
}([function(e) {
    e.exports = JSON.parse('{"name":"@contentsquare/integration-adobe-target-contentsquare","version":"3.5.4","scripts":{"build:snippet":"webpack"}}')
}, function(e, n, t) {
    "use strict";

    function r(e, n) {
        try {
            e()
        } catch (e) {
            window._uxa = window._uxa || [], _uxa.push(["logSnippetError", n, e.message])
        }
    }

    function a(e) {
        return "object" == typeof e && null !== e
    }

    function i(e, n, t) {
        if ((t = t || window) && n && e) {
            var r = !1,
                a = t[e];
            a ? n() : Object.defineProperty(t, e, {
                configurable: !0,
                enumerable: !0,
                get: function() {
                    return a
                },
                set: function(e) {
                    a = e, r || (r = !0, n())
                }
            })
        }
    }
    t.r(n);
    var o, u = t(0),
        c = u.name,
        p = u.version,
        s = function(e) {
            var n, t, a, i;
            if (r((function() {
                    var r = e.name;
                    a = e.version;
                    var o = r.replace("@contentsquare/integration-", "");
                    n = o + "-" + a;
                    var u = "-contentsquare";
                    i = new RegExp(u + "$").test(o), t = o.replace(/-contentsquare([^-contentsquare]*)$/, "$1"), i || (u = "-cap", i = new RegExp(u + "$").test(o), t = o.replace(/-cap([^-cap]*)$/, "$1"))
                }), "Shared-Function-readPackageJSON"), i) return {
                snippetBuildName: n,
                parameterName: t,
                snippetVersion: a
            }
        }(u);
    s && (o = s.parameterName, c = s.snippetBuildName, p = s.snippetVersion), r((function() {
        window._uxa = window._uxa || [], CS_CONF.integrations = CS_CONF.integrations || [], CS_CONF.integrations.push("Adobe Target - v" + p);
        var e = function(e, n) {
            if (a(window.CS_INTEGRATIONS_CONF) && a(window.CS_INTEGRATIONS_CONF[e])) return window.CS_INTEGRATIONS_CONF[e][n]
        }(o, "customObjectName");
        e && (e = e.trim());
        var n = [];

        function t(e) {
            for (var t = 0; t < e.length; t++) {
                var r = e[t],
                    a = "",
                    i = "";
                r.CampaignName && r.RecipeName ? (a = r.CampaignName, i = r.RecipeName) : r.campaign && r.experience ? (a = r.campaign, i = r.experience) : r["activity.name"] && r["experience.name"] && (a = r["activity.name"], i = r["experience.name"]), n.length && n.indexOf(a + "~~~~" + i) > -1 && (a = "", i = ""), a && i && (n.push(a + "~~~~" + i), u = i, o = "AB_AT_" + (o = a), _uxa.push(["trackDynamicVariable", {
                    key: o,
                    value: u
                }]))
            }
            var o, u
        }

        function u(n) {
            e || (e = "ttMETA"),
                function(e, n, t) {
                    t = t || window;
                    var r = e.split(".");
                    if (1 == r.length) i(e, n, t);
                    else {
                        var a = t,
                            o = 0;
                        const e = function() {
                            a = o > 0 ? a[r[o - 1]] : window, ++o >= r.length ? i(r[o - 1], n, a) : i(r[o - 1], e, a)
                        };
                        e()
                    }
                }(e, (function() {
                    setTimeout((function() {
                        r((function() {
                            t(window[e])
                        }), c)
                    }), 500)
                }))
        }
        window.adobe && adobe.target && adobe.target.event && document.addEventListener(adobe.target.event.REQUEST_SUCCEEDED, (function(e) {
            e && e.detail && e.detail.responseTokens && t(e.detail.responseTokens)
        })), _uxa.push(["afterPageView", function(e) {
            r((function() {
                u()
            }), c)
        }])
    }), c)
}]);
! function() {
    "use strict";
    var t = {
            d: function(n, i) {
                for (var r in i) t.o(i, r) && !t.o(n, r) && Object.defineProperty(n, r, {
                    enumerable: !0,
                    get: i[r]
                })
            },
            o: function(t, n) {
                return Object.prototype.hasOwnProperty.call(t, n)
            },
            r: function(t) {
                "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
                    value: "Module"
                }), Object.defineProperty(t, "__esModule", {
                    value: !0
                })
            }
        },
        n = {};
    t.r(n), t.d(n, {
        get: function() {
            return wt
        },
        getRequestParameters: function() {
            return yt
        }
    });
    var i = {};
    t.r(i), t.d(i, {
        getRequestParameters: function() {
            return hu
        }
    });
    var r = "cs-native-frame",
        s = {
            navigatorProperties: [{
                propertyName: "sendBeacon",
                binding: navigator
            }],
            nodeProperties: ["childNodes", "parentNode", "nextSibling", "firstChild"],
            elementProperties: ["shadowRoot"],
            elementPropertiesValues: ["matches", "mozMatchesSelector", "msMatchesSelector", "oMatchesSelector", "webkitMatchesSelector"],
            eventProperties: ["target"],
            imageProperties: ["src"],
            constructors: {
                Date: "csDate",
                JSON: "csJSON",
                Array: "csArray",
                String: "csString",
                URL: "csURL",
                MutationObserver: "csMutationObserver",
                screen: "csScreen"
            }
        };

    function e(t, n, i) {
        var r = function(t, n) {
            for (var i, r = t; r && !(i = Object.getOwnPropertyDescriptor(r, n));) r = Object.getPrototypeOf(r);
            return i
        }(t, n);
        if (!r) return function() {
            return this[n]
        };
        switch (i) {
            case "get":
                return r.get;
            case "set":
                return r.set;
            case "value":
                return r.value
        }
    }

    function u(t) {
        Object.keys(s.constructors).forEach((function(n) {
                window[s.constructors[n]] = t[n] instanceof Function && null == t[n].prototype ? t[n].bind(window) : t[n]
            })),
            function(t) {
                window.csquerySelector = {
                    1: t.Element.prototype.querySelector,
                    9: t.Document.prototype.querySelector,
                    11: t.DocumentFragment.prototype.querySelector
                }, window.csquerySelectorAll = {
                    1: t.Element.prototype.querySelectorAll,
                    9: t.Document.prototype.querySelectorAll,
                    11: t.DocumentFragment.prototype.querySelectorAll
                }
            }(t), ("Prototype" in window || /^((?!chrome|android).)*safari/i.test(navigator.userAgent)) && (window.csMutationObserver = window.WebKitMutationObserver || window.MutationObserver), o("csNode", s.nodeProperties, t.Node.prototype, "get"), o("csElement", s.elementProperties, t.Element.prototype, "get"), o("csElement", s.elementPropertiesValues, t.Element.prototype, "value", !1), o("csHTMLImageElement", s.imageProperties, t.HTMLImageElement.prototype, "set"), o("csEvent", s.eventProperties, t.Event.prototype, "get"), o("csNavigator", s.navigatorProperties, t.navigator, "value")
    }

    function o(t, n, i, r, s) {
        void 0 === s && (s = !0), n.forEach((function(n) {
            var u = "string" != typeof n && "binding" in n,
                o = u ? n.propertyName : n;
            (s || o in i) && (window["".concat(t + o)] = e(i, o, r), u && (window["".concat(t + o)] = window["".concat(t + o)].bind(n.binding)))
        }))
    }

    function h(t, n) {
        window.CSProtectnativeFunctionsLogs = window.CSProtectnativeFunctionsLogs || {}, window.CSProtectnativeFunctionsLogs[t] = n
    }
    if (! function() {
            try {
                var t = function() {
                    var t = document.createElement("iframe");
                    t.id = r, t.setAttribute("hidden", ""), t.setAttribute("title", "Intentionally blank"), t.setAttribute("sandbox", "allow-same-origin");
                    var n = document.createElement("cs-native-frame-holder");
                    if (n.setAttribute("hidden", ""), document.body.appendChild(n), Boolean(Element.prototype.attachShadow)) {
                        var i = n.attachShadow({
                            mode: "closed"
                        });
                        return i.innerHTML = t.outerHTML, i.firstElementChild.contentWindow
                    }
                    return n.innerHTML = t.outerHTML, n.firstElementChild.contentWindow
                }();
                return !!t && (window.CSPureWindow = t, u(window.CSPureWindow), !0)
            } catch (t) {
                return h("Warning", "failed to copy references from pure iframe: ".concat(t.message)), !1
            }
        }()) try {
        u(window)
    } catch (Js) {
        h("Critical", "failed to copy references from window: ".concat(Js.message))
    }

    function c(t) {
        return a(csString.prototype.toLowerCase.call(t.localName))
    }

    function a(t) {
        return csString.prototype.replace.call(t, /([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g, "\\$1")
    }

    function f(t) {
        return 1 === t.nodeType
    }

    function v(t) {
        return 3 === t.nodeType
    }

    function l(t) {
        return f(t) && "a" === t.localName
    }

    function d(t) {
        return function(t) {
            return f(t) && "link" === t.localName
        }(t) && -1 !== csString.prototype.indexOf.call(t.rel, "stylesheet")
    }

    function w(t) {
        return f(t) && "img" === t.localName
    }

    function y(t) {
        return f(t) && "style" === t.localName
    }

    function p(t) {
        return f(t) && "input" === t.localName
    }

    function m(t) {
        return f(t) && "textarea" === t.localName
    }

    function g(t) {
        switch (t.nodeType) {
            case 9:
            case 11:
                return !0;
            default:
                return !1
        }
    }

    function A(t) {
        return 9 === t.nodeType
    }

    function E(t) {
        return g(t) && "host" in t && "mode" in t
    }
    var S = ["annotation-xml", "color-profile", "font-face", "font-face-src", "font-face-uri", "font-face-format", "font-face-name", "missing-glyph"];
    var b = "detached";

    function T(t) {
        for (var n = t, i = [n]; null !== csNodeparentNode.apply(n);) n = csNodeparentNode.apply(n), csArray.prototype.push.call(i, n);
        return R(n) && csArray.prototype.push.call(i, b), {
            ancestors: i,
            selectionRoot: n
        }
    }

    function R(t) {
        return U.isValidElement(t)
    }
    var N = window.csElementmatches || window.csElementmatchesSelector || window.csElementmozMatchesSelector || window.csElementmsMatchesSelector || window.csElementoMatchesSelector || window.csElementwebkitMatchesSelector,
        k = 9;

    function O(t, n) {
        return !!n && csArray.prototype.some.call(n, (function(n) {
            return N.call(t, n)
        }))
    }
    var I = [/\d{4}/, /^ember\d+$/],
        C = "@",
        _ = "data-cs-override-id",
        L = "data-cs-dynamic-id";

    function x(t, n, i, r) {
        var s = r.dynamicIdRegex || null,
            e = r.dynamicElementNameRegex,
            u = c(t);
        e && (e.test(t.localName) && (u = csString.prototype.replace.call(u, e, "$1".concat(C))));
        if (function(t, n) {
                var i = P(t);
                return i && csString.prototype.match.call(i, /^[\w-]+$/) && M(_, i, n)
            }(t, i)) {
            var o = P(t);
            return {
                hasUniqueIdentifier: !0,
                elementSelector: "".concat(u, "[").concat(_, '="').concat(o, '"]')
            }
        }
        var h = function(t, n, i) {
            if (!i.uniqueAttributes) return {
                success: !1
            };
            for (var r = 0, s = i.uniqueAttributes; r < s.length; r++) {
                var e = s[r],
                    u = t.getAttribute(e);
                if (null !== u)
                    if (M(e, u, n)) return {
                        attributeName: e,
                        attributeValue: u,
                        success: !0
                    }
            }
            return {
                success: !1
            }
        }(t, i, r);
        if (h.success) return {
            hasUniqueIdentifier: !0,
            elementSelector: "".concat(u, "#UA[").concat(h.attributeName, '="').concat(h.attributeValue, '"]')
        };
        var f = function(t, n, i) {
            if (!i.uniqueCssSelectors) return;
            for (var r = 0, s = i.uniqueCssSelectors; r < s.length; r++) {
                var e = s[r];
                if (N.call(t, e) && D(e, n)) return e
            }
            return
        }(t, i, r);
        if (f) return {
            hasUniqueIdentifier: !0,
            elementSelector: "".concat(u, "#UCS[").concat(f, "]")
        };
        var v = function(t) {
            var n = t.getAttribute("id");
            return n ? a(n) : n
        }(t);
        if (function(t, n, i, r) {
                return n && ! function(t) {
                    return null !== P(t)
                }(t) && ! function(t, n, i) {
                    return t.hasAttribute(L) || function(t, n) {
                        var i = !1;
                        t && n && (i = n.test(t));
                        return t && (csArray.prototype.some.call(I, (function(n) {
                            return n.test(t)
                        })) || i)
                    }(n, i)
                }(t, n, r) && function(t, n) {
                    return t && M("id", t, n)
                }(n, i)
            }(t, v, i, s)) return {
            hasUniqueIdentifier: !0,
            elementSelector: "".concat(u, "#").concat(v)
        };
        var l = function(t, n) {
            if (!n.reliableSelectors) return;
            for (var i = 0, r = n.reliableSelectors; i < r.length; i++) {
                var s = r[i];
                if (N.call(t, s)) return s
            }
            return
        }(t, r);
        if (l) {
            var d = function(t, n, i) {
                if (t === b || t.nodeType === k) return 0;
                for (var r = 0, s = n.previousElementSibling; s;) N.call(s, i) && (r += 1), s = s.previousElementSibling;
                return r
            }(n, t, l);
            return {
                hasUniqueIdentifier: !1,
                elementSelector: "".concat(u, "[").concat(l, "](").concat(d, ")")
            }
        }
        var w = function(t, n, i) {
            if (t === b || t.nodeType === k) return 0;
            for (var r = i.dynamicElementNameRegex, s = !!(null == r ? void 0 : r.test(n.localName)), e = c(n), u = 0, o = n.previousElementSibling; o;)(c(o) === e || s && (null == r ? void 0 : r.test(o.localName))) && !O(o, i.reliableSelectors) && (u += 1), o = o.previousElementSibling;
            return u
        }(n, t, r);
        return {
            hasUniqueIdentifier: !1,
            elementSelector: "".concat(u, ":eq(").concat(w, ")")
        }
    }

    function P(t) {
        return t.getAttribute(_)
    }

    function M(t, n, i) {
        try {
            return 1 === window.csquerySelectorAll[i.nodeType].call(i, "[".concat(t, '="').concat(n, '"]')).length
        } catch (t) {
            if ("SyntaxError" !== t.name) throw t
        }
        return !1
    }

    function D(t, n) {
        try {
            return 1 === window.csquerySelectorAll[n.nodeType].call(n, t).length
        } catch (t) {
            if ("SyntaxError" !== t.name) throw t
        }
        return !1
    }
    var U, j = 11;

    function z(t, n, i) {
        var r = csArray.prototype.shift.call(t);
        if (0 === t.length) return q(r, i);
        var s = x(r, t[0], n, i),
            e = s.elementSelector,
            u = s.hasUniqueIdentifier;
        if (!i.fullPath && u) {
            var o = t[t.length - 1];
            return "".concat(q(o, i)).concat(e)
        }
        var h = z(t, n, i);
        return "".concat(h ? "".concat(h, ">") : "").concat(e)
    }

    function q(t, n) {
        if (t === b) return "|detached|";
        if (t.host) {
            var i = T(t.host),
                r = i.ancestors,
                s = i.selectionRoot;
            return "".concat(z(r, s, n), "|shadow-root|")
        }
        return t.nodeType === j ? "|fragment|" : ""
    }! function(t) {
        function n(t) {
            return !!t && "localName" in t && "getAttribute" in t && "hasAttribute" in t && "parentNode" in t
        }

        function i(t) {
            return t && "jquery" in t && 1 === t.length ? t[0] : t
        }
        t.INVALID_ELEMENT = "INVALID_ELEMENT", t.isValidElement = n, t.getElementPath = function(r, s) {
            void 0 === s && (s = {
                fullPath: !1,
                dynamicIdRegex: null
            });
            var e = i(r);
            if (e === document) return "";
            if (!n(e)) return t.INVALID_ELEMENT;
            var u = T(e);
            return z(u.ancestors, u.selectionRoot, s)
        }, t.getElementPathAndFirstAnchorParent = function(r, s) {
            void 0 === s && (s = {
                fullPath: !1,
                dynamicIdRegex: null
            });
            var e = i(r);
            if (e === document) return {
                path: "",
                firstAnchorParent: null
            };
            if (!n(e)) return {
                path: t.INVALID_ELEMENT,
                firstAnchorParent: null
            };
            var u = function(t) {
                    for (var n = t, i = [n], r = null; null !== csNodeparentNode.apply(n);) null === r && l(n) && (r = n), csArray.prototype.push.call(i, csNodeparentNode.apply(n)), n = csNodeparentNode.apply(n);
                    return R(n) && csArray.prototype.push.call(i, b), {
                        firstAnchorParent: r,
                        ancestors: i,
                        selectionRoot: n
                    }
                }(e),
                o = u.firstAnchorParent;
            return {
                path: z(u.ancestors, u.selectionRoot, s),
                firstAnchorParent: o
            }
        }
    }(U || (U = {})), window.CSPathComputation = window.CSPathComputation || U;
    var B = function(t, n) {
        return B = Object.setPrototypeOf || {
            __proto__: []
        }
        instanceof Array && function(t, n) {
            t.__proto__ = n
        } || function(t, n) {
            for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i])
        }, B(t, n)
    };

    function H(t, n) {
        if ("function" != typeof n && null !== n) throw new TypeError("Class extends value " + String(n) + " is not a constructor or null");

        function i() {
            this.constructor = t
        }
        B(t, n), t.prototype = null === n ? Object.create(n) : (i.prototype = n.prototype, new i)
    }
    var F = function() {
        return F = Object.assign || function(t) {
            for (var n, i = 1, r = arguments.length; i < r; i++)
                for (var s in n = arguments[i]) Object.prototype.hasOwnProperty.call(n, s) && (t[s] = n[s]);
            return t
        }, F.apply(this, arguments)
    };

    function G(t, n, i, r) {
        var s, e = arguments.length,
            u = e < 3 ? n : null === r ? r = Object.getOwnPropertyDescriptor(n, i) : r;
        if ("object" == typeof Reflect && "function" == typeof Reflect.decorate) u = Reflect.decorate(t, n, i, r);
        else
            for (var o = t.length - 1; o >= 0; o--)(s = t[o]) && (u = (e < 3 ? s(u) : e > 3 ? s(n, i, u) : s(n, i)) || u);
        return e > 3 && u && Object.defineProperty(n, i, u), u
    }

    function V(t, n, i, r) {
        return new(i || (i = Promise))((function(s, e) {
            function u(t) {
                try {
                    h(r.next(t))
                } catch (t) {
                    e(t)
                }
            }

            function o(t) {
                try {
                    h(r.throw(t))
                } catch (t) {
                    e(t)
                }
            }

            function h(t) {
                var n;
                t.done ? s(t.value) : (n = t.value, n instanceof i ? n : new i((function(t) {
                    t(n)
                }))).then(u, o)
            }
            h((r = r.apply(t, n || [])).next())
        }))
    }

    function J(t, n) {
        var i, r, s, e, u = {
            label: 0,
            sent: function() {
                if (1 & s[0]) throw s[1];
                return s[1]
            },
            trys: [],
            ops: []
        };
        return e = {
            next: o(0),
            throw: o(1),
            return: o(2)
        }, "function" == typeof Symbol && (e[Symbol.iterator] = function() {
            return this
        }), e;

        function o(e) {
            return function(o) {
                return function(e) {
                    if (i) throw new TypeError("Generator is already executing.");
                    for (; u;) try {
                        if (i = 1, r && (s = 2 & e[0] ? r.return : e[0] ? r.throw || ((s = r.return) && s.call(r), 0) : r.next) && !(s = s.call(r, e[1])).done) return s;
                        switch (r = 0, s && (e = [2 & e[0], s.value]), e[0]) {
                            case 0:
                            case 1:
                                s = e;
                                break;
                            case 4:
                                return u.label++, {
                                    value: e[1],
                                    done: !1
                                };
                            case 5:
                                u.label++, r = e[1], e = [0];
                                continue;
                            case 7:
                                e = u.ops.pop(), u.trys.pop();
                                continue;
                            default:
                                if (!(s = u.trys, (s = s.length > 0 && s[s.length - 1]) || 6 !== e[0] && 2 !== e[0])) {
                                    u = 0;
                                    continue
                                }
                                if (3 === e[0] && (!s || e[1] > s[0] && e[1] < s[3])) {
                                    u.label = e[1];
                                    break
                                }
                                if (6 === e[0] && u.label < s[1]) {
                                    u.label = s[1], s = e;
                                    break
                                }
                                if (s && u.label < s[2]) {
                                    u.label = s[2], u.ops.push(e);
                                    break
                                }
                                s[2] && u.ops.pop(), u.trys.pop();
                                continue
                        }
                        e = n.call(t, u)
                    } catch (t) {
                        e = [6, t], r = 0
                    } finally {
                        i = s = 0
                    }
                    if (5 & e[0]) throw e[1];
                    return {
                        value: e[0] ? e[1] : void 0,
                        done: !0
                    }
                }([e, o])
            }
        }
    }
    Object.create;

    function W(t, n, i) {
        if (i || 2 === arguments.length)
            for (var r, s = 0, e = n.length; s < e; s++) !r && s in n || (r || (r = Array.prototype.slice.call(n, 0, s)), r[s] = n[s]);
        return t.concat(r || Array.prototype.slice.call(n))
    }
    Object.create;
    var K = Number.MAX_SAFE_INTEGER || 9007199254740991;

    function Y() {}

    function X(t, n) {
        return 0 === csString.prototype.lastIndexOf.call(t, n, 0)
    }

    function $(t, n) {
        return -1 !== csString.prototype.indexOf.call(t, n, t.length - n.length)
    }
    var Z = 34164e6,
        Q = {
            percentage: function() {
                return Math.floor(1e4 * Math.random()) / 100
            },
            boolean: function(t) {
                return this.percentage() < t
            },
            integer: function(t) {
                return void 0 === t && (t = K), Math.floor(Math.random() * t)
            }
        },
        tt = "function" == typeof Symbol ? Symbol("json") : null;
    var nt, it, rt = tt ? function(t) {
            if (t[tt]) return t[tt];
            if (csArray.isArray(t)) {
                if (0 === t.length) return "[]";
                for (var n = "[" + rt(t[0]), i = 1; i < t.length; i++) n += "," + rt(t[i]);
                return n + "]"
            }
            return t[tt] = csJSON.stringify(t)
        } : csJSON.stringify,
        st = function() {
            function t(t) {
                var n;
                this.trackerDomain = t.trackerDomain, this.loggerDomain = t.ed, this.minLogLevel = t.logLevel, this.projectId = t.projectId, this.status = t.status, this.hostnames = t.hostnames, this.iframesTracking = !!t.iframesTracking, this.crossDomainTracking = !!t.crossDomainTracking, this.crossDomainSingleIframeTracking = !!t.crossDomainSingleIframeTracking, this.consentRequired = !!t.consentRequired, this.allowSubdomains = !!t.allowSubdomains, this.visitorCookieTimeout = t.visitorCookieTimeout || Z, this.sampleRate = t.sampleRate, this.replayRecordingRate = t.replayRecordingRate, this.validationRate = t.validationRate, this.lastTrackingDraw = t.lastTrackingDraw || 1, this.useHttps = !0, this.recordingDomain = t.recordingDomain, this.eMerchandisingEnabled = t.eMerchandisingEnabled, this.mouseMoveHeatmapEnabled = t.mouseMoveHeatmapEnabled, this.jsErrorsEnabled = t.jsErrorsEnabled, this.apiErrors = F({
                    enabled: null !== (n = t.apiErrorsEnabled) && void 0 !== n ? n : 0
                }, t.apiErrors), this.customErrorsEnabled = t.customErrorsEnabled, this.jsCustomErrorsEnabled = t.jsCustomErrorsEnabled, this.triggerSessionReplayEnabled = t.triggerSessionReplayEnabled, this.triggerSessionReplayRegex = this.t(t.triggerSessionReplayRegex), this.dynamicIdRegex = t.dynamicIdRegex ? new RegExp(t.dynamicIdRegex) : null, this.whitelistedAttributes = t.whitelistedAttributes || [], this.replayRecordingUnmaskedUrlRegex = this.t(t.replayRecordingUnmaskedUrlRegex), this.replayRecordingMaskedUrlRegex = this.t(t.replayRecordingMaskedUrlRegex), this.replayRecordingMaskedUrlRegexRules = t.replayRecordingMaskedUrlRegexRules || null, this.replayRecordingUnmaskedUrlRegexRules = t.replayRecordingUnmaskedUrlRegexRules || null, this.anonymisationMethod = t.anonymisationMethod || null, this.tagDeploymentMode = t.tagDeploymentMode, this.dualCollectionTagDomain = t.dualCollectionTagDomain || null, this.ptcDomain = t.ptcDomain || null, this.ptcGuid = t.ptcGuid || null, this.secureCookiesEnabled = !!t.secureCookiesEnabled, this.ptcSha512 = t.ptcSha512 || null, this.ptcSnapshotPath = t.ptcSnapshotPath || null, this.emitDebugEvents = !1, this.useMalkaPipeline = t.useMalkaPipeline, this.malkaQuotaServiceDomain = t.malkaQuotaServiceDomain || null, this.malkaRecordingDomain = t.malkaRecordingDomain || null, this.textVisibilityEnabled = t.textVisibilityEnabled, this.experimental = t.experimental || {}, this.malkaEtrEnabled = !!t.malkaEtrEnabled, this.malkaUrlEnabled = !!t.malkaUrlEnabled, this.cookielessTrackingEnabled = t.cookielessTrackingEnabled, this.customHashIdEnabled = !!t.customHashIdEnabled, this.encryptionEnabled = !!t.recordingEncryptionEnabled, this.encryptionPublicKey = t.recordingEncryptionPublicKey || null, this.pathComputationRules = t.pathComputationRules || {}, t.pathComputationRules && t.pathComputationRules.dynamicElementNameRegex && (this.pathComputationRules.dynamicElementNameRegex = new RegExp(t.pathComputationRules.dynamicElementNameRegex)), this.asyncSerializerEnabled = !!t.asyncSerializerEnabled, this.encryptionPublicKeyId = t.recordingEncryptionPublicKeyId, this.pendingInactivityTimeout = t.pendingInactivityTimeout || 5e3, this.accessibilityEnabled = !!t.accessibilityEnabled, t.taskSchedulerOptions && (this.taskSchedulerOptions = F(F({}, t.taskSchedulerOptions), {
                    enabled: !!t.taskSchedulerOptions.enabled
                })), this.uxaDomain = t.uxaDomain, this.isWebView = !1
            }
            return t.prototype.getTrackerUri = function() {
                return "".concat(this.i(), "://").concat(this.trackerDomain)
            }, t.prototype.getRecordingUri = function() {
                return "".concat(this.i(), "://").concat(this.useMalkaPipeline && this.malkaRecordingDomain ? this.malkaRecordingDomain : this.recordingDomain)
            }, t.prototype.getQuotaServiceUri = function() {
                return "".concat(this.i(), "://").concat(this.malkaQuotaServiceDomain)
            }, t.prototype.getLoggerUri = function() {
                return "".concat(this.i(), "://").concat(this.loggerDomain)
            }, t.prototype.i = function() {
                return this.useHttps ? "https" : "http"
            }, t.prototype.isProjectActive = function() {
                return 1 === this.status
            }, t.prototype.processOptionOverrides = function(t) {
                var n = this;
                t && t.forEach && t.forEach((function(t) {
                    var i = t[0],
                        r = t.slice(1);
                    if ("setOption" === i) {
                        var s = r[0],
                            e = r[1];
                        n.u(s, e)
                    }
                }))
            }, t.prototype.u = function(t, n) {
                "trackerDomain" === t && (this.trackerDomain = n), "recordingDomain" === t && (this.recordingDomain = n), "loggerDomain" === t && (this.loggerDomain = n), "malkaRecordingDomain" === t && (this.malkaRecordingDomain = n), "malkaQuotaServiceDomain" === t && (this.malkaQuotaServiceDomain = n), "minLogLevel" === t && (this.minLogLevel = n), "useHttps" === t && (this.useHttps = !!n), "isWebView" === t && (this.isWebView = n)
            }, t.prototype.t = function(t) {
                return t ? this.h(t) : null
            }, t.prototype.getRequestParameters = function() {
                return {
                    pid: "".concat(this.projectId)
                }
            }, t.prototype.updateDynamicFields = function(t, n) {
                "emitDebugEvents" === t && (this.emitDebugEvents = n), "minLogLevel" === t && (this.minLogLevel = n)
            }, t.prototype.h = function(t) {
                try {
                    var n = /^\/(.*)\/([gim]*)$/.exec(t);
                    if (n) {
                        var i = n[1],
                            r = n[2];
                        return new RegExp("^".concat(i, "$"), r)
                    }
                    return new RegExp("^".concat(t, "$"))
                } catch (t) {
                    return null
                }
            }, t
        }(),
        et = function() {
            function t(t, n) {
                this.g = t, this.A = n
            }
            return t.prototype.init = function() {
                this.S = this.g !== this.g.top, this.T = this.A.isWebView && this.g === this.g.top, this.A.iframesTracking && this.S || this.T ? this.R = !1 : this.R = !0
            }, t.prototype.isInIframeContext = function() {
                return this.S
            }, t.prototype.isTopWindowTracker = function() {
                return this.R
            }, t.prototype.isInWebViewContext = function() {
                return this.T
            }, t
        }();
    ! function(t) {
        t.debug = "debug", t.warn = "warn", t.error = "error", t.critical = "critical"
    }(nt || (nt = {})),
    function(t) {
        t.toQuery = function(t) {
            return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(t), (function(n) {
                return "".concat(encodeURIComponent(n), "=").concat(encodeURIComponent(t[n]))
            })), "&")
        }
    }(it || (it = {}));
    var ut = function() {
            function t(t, n) {
                this.domainUri = t, this.path = n, this.beforeRequestCallbacks = [], this.afterRequestCallbacks = []
            }
            return t.prototype.setRequestParametersProviders = function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                this.requestParametersProviders = t
            }, t.prototype.before = function(t) {
                csArray.prototype.push.call(this.beforeRequestCallbacks, t)
            }, t.prototype.after = function(t) {
                csArray.prototype.push.call(this.afterRequestCallbacks, t)
            }, t.prototype.retrieveParameters = function() {
                return this.requestParametersProviders ? csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders, (function(t) {
                    return t.getRequestParameters()
                })), (function(t, n) {
                    return F(F({}, t), n)
                })) : {}
            }, t
        }(),
        ot = function(t) {
            function n(n, i) {
                return t.call(this, n, i) || this
            }
            return H(n, t), n.prototype.send = function() {
                csArray.prototype.forEach.call(this.beforeRequestCallbacks, (function(t) {
                    return t()
                }));
                var t = this.retrieveParameters();
                this.N(t);
                var n = it.toQuery(t);
                this.O(n), csArray.prototype.forEach.call(this.afterRequestCallbacks, (function(t) {
                    return t()
                }))
            }, n.prototype.O = function(t) {
                var n = new window.Image(1, 1);
                n.onload = Y, n.onerror = Y, csHTMLImageElementsrc.call(n, "".concat(this.domainUri).concat(this.path ? "/".concat(this.path) : "", "?").concat(t))
            }, n.prototype.N = function(t) {
                t.r = csString.prototype.slice.call("".concat(Math.random()), 2, 8)
            }, n
        }(ut),
        ht = function() {
            function t(t, n) {
                this.I = t, this.C = n
            }
            return t.prototype.init = function() {
                this._ = new ot(this.I.getLoggerUri()), this._.setRequestParametersProviders(this, this.C)
            }, t.prototype.send = function(t) {
                this.L = t, this._.send()
            }, t.prototype.getRequestParameters = function() {
                return {
                    a: this.L.app,
                    l: this.L.level,
                    m: this.L.message,
                    s: this.L.stacktrace
                }
            }, t
        }(),
        ct = /[a-zA-Z0-9._%+-]+(?:@|%40)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,
        at = /[a-zA-Z0-9+_-](?:@|%40)/,
        ft = "([-A-Za-z0-9+/=_]|=[^=]|={3,})+",
        vt = new RegExp("(ey".concat(ft, "\\.ey").concat(ft, "\\.").concat(ft, ")"), "g"),
        lt = function() {
            function t() {}
            return t.prototype.anonymizeEmail = function(t) {
                return "string" == typeof t && at.test(t) ? csString.prototype.replace.call(t, ct, "CS_ANONYMIZED_EMAIL") : t
            }, t.prototype.anonymizeJwt = function(t) {
                return csString.prototype.replace.call(t, vt, "CS_ANONYMIZED_JWT")
            }, t.prototype.anonymizeFields = function(t, n) {
                var i = this;
                return csArray.prototype.forEach.call(n, (function(n) {
                    t[n] = i.anonymizeEmail(t[n])
                })), t
            }, t
        }(),
        dt = "13.28.5";

    function wt() {
        return dt
    }

    function yt() {
        return {
            v: dt
        }
    }
    var pt = function() {
        return void 0 !== window.performance && window.performance.now ? window.performance.timing.navigationStart + Math.round(window.performance.now()) : csDate.now()
    };

    function mt() {
        return Math.floor(pt() / 1e3)
    }
    var gt = function() {
        function t(t, n) {
            this.P = t, this.M = n
        }
        return t.prototype.getRequestParameters = function() {
            return F(F({
                d: "".concat(pt()),
                p: this.M.anonymizeEmail(window.location.href)
            }, this.P.getRequestParameters()), yt())
        }, t
    }();

    function At(t) {
        return Tt(t) && ("number" == typeof t || t instanceof Number) && !isNaN(t)
    }

    function Et(t) {
        return t === parseInt(t, 10)
    }

    function St(t) {
        return Tt(t) && ("string" == typeof t || t instanceof csString)
    }

    function bt(t) {
        return "object" == typeof t
    }

    function Tt(t) {
        return void 0 !== t
    }

    function Rt(t) {
        return Tt(t) && null !== t
    }

    function Nt(t) {
        return "function" == typeof t
    }

    function kt(t) {
        return t instanceof Element
    }

    function Ot(t) {
        return t instanceof Error
    }
    var It, Ct, _t = "snippet-",
        Lt = "implementation-snippet-";
    ! function(t) {
        t.IMPLEMENTATION = "implementation", t.DYNAMIC = "dynamic"
    }(It || (It = {})),
    function(t) {
        t[t.debug = 0] = "debug", t[t.warn = 1] = "warn", t[t.error = 2] = "error", t[t.critical = 3] = "critical"
    }(Ct || (Ct = {}));
    var xt = function() {
            function t(t, n, i) {
                var r;
                this.D = n, this.M = new lt, this.U = Ct[nt.warn], this.U = Ct[t.minLogLevel || nt.warn], this._ = i || new ht(t, new gt(t, this.M)), this.j = ((r = {})[nt.debug] = [], r[nt.warn] = [], r[nt.error] = [], r[nt.critical] = [], r), this.q = {
                    implementation: {},
                    dynamic: {}
                }, this._.init()
            }
            return t.prototype.send = function(t, n, i) {
                if (void 0 === n && (n = ""), void 0 === i && (i = nt.warn), this.B(i, n)) {
                    csArray.prototype.push.call(this.j[i], n || "");
                    var r = {
                        message: this.H(t, n),
                        stacktrace: this.F(t),
                        app: "uxa",
                        level: i
                    };
                    this._.send(r)
                }
            }, t.prototype.H = function(t, n) {
                var i = Ot(t) ? this.M.anonymizeEmail(t.message || t.toString()) : t;
                return n && (i += " ErrorCode: ".concat(n)), i
            }, t.prototype.F = function(t) {
                return Ot(t) ? "".concat(t.stack || "No stacktrace", " ").concat(this.G()) : this.G()
            }, t.prototype.G = function() {
                var t = this.D.getVisitorService(),
                    n = null == t ? void 0 : t.getVisitor();
                if (!n) return "No context";
                var i = this.D.getSessionService(),
                    r = i && i.getSession(),
                    s = {
                        userId: n.id,
                        sessionNumber: n.visitsCount,
                        pageNumber: r && r.pageNumber
                    };
                return csJSON.stringify(s)
            }, t.prototype.B = function(t, n) {
                if (Ct[t] < this.U) return !1;
                if (0 === (null == n ? void 0 : csString.prototype.indexOf.call(n, Lt, 0))) return this.V(n, It.IMPLEMENTATION);
                if (0 === (null == n ? void 0 : csString.prototype.indexOf.call(n, _t, 0))) return this.V(n, It.DYNAMIC);
                var i = this.j[t];
                return !(i.length >= 5) && (!n || !csArray.prototype.some.call(i, (function(t) {
                    return t === n
                })))
            }, t.prototype.V = function(t, n) {
                return t in this.q[n] ? !(this.q[n][t] >= 5) && (this.q[n][t] += 1, !0) : (this.q[n][t] = 1, !0)
            }, t
        }(),
        Pt = document.createElement("a"),
        Mt = /(:443|:80)$/;

    function Dt(t) {
        var n = zt(t);
        return null === n ? "" : decodeURIComponent(n.hostname)
    }

    function Ut(t, n) {
        return csArray.prototype.some.call(n, (function(n) {
            return $(t, ".".concat(n)) || t === n || "" === n
        }))
    }

    function jt(t) {
        return csString.prototype.replace.call(t, Mt, "")
    }

    function zt(t) {
        return X(t, "http://") || X(t, "https://") ? (Pt.href = t, {
            hash: Pt.hash,
            host: jt(Pt.host),
            hostname: Pt.hostname,
            href: Pt.href,
            origin: Pt.origin ? Pt.origin : jt("".concat(Pt.protocol, "//").concat(Pt.host)),
            pathname: (n = Pt.pathname, "/" === n[0] ? n : "/".concat(n)),
            port: Pt.port,
            protocol: Pt.protocol,
            search: Pt.search
        }) : null;
        var n
    }
    var qt, Bt, Ht, Ft, Gt = "CS_IFRAME_MESSAGE";
    ! function(t) {
        t.AfterPageView = "afterPageView", t.GetSessionKey = "getSessionKey"
    }(qt || (qt = {})),
    function(t) {
        t.Parent = "parent", t.Child = "child"
    }(Bt || (Bt = {})),
    function(t) {
        t.Discovery = "discovery", t.Stop = "stop", t.RecordingStatus = "recordingStatus", t.RecordingEvent = "recordingEvent", t.EndOfBufferedMessages = "endOfBufferedMessages", t.ChildLogMessage = "childLogMessage", t.AnalysisEvent = "analysisEvent", t.JavascriptError = "javascriptError", t.ApiError = "apiError", t.Assets = "assets", t.DetailedApiError = "detailedApiError", t.EmerchandisingMessage = "emerchandisingMessage", t.Commands = "commands", t.IntegrationCallback = "integrationCallback", t.TrackingContextResultMessage = "trackingContextResultMessage", t.TrackingContextRequestMessage = "trackingContextRequestMessage"
    }(Ht || (Ht = {})),
    function(t) {
        t.buildBaseMessage = function(t, n, i, r) {
            var s = {
                type: t,
                from: n,
                pid: i,
                signature: Gt
            };
            return void 0 !== r && r >= 0 && (s.id = r), s
        }, t.isMessageValid = function(t, n, i, r) {
            var s = Dt(t.origin);
            return !!t.data && !!t.data.type && t.data.signature === Gt && t.data.from === n && t.data.pid === i && Ut(s, r)
        }, t.sendPostMessage = function(t, n, i, r) {
            r ? t.postMessage(i, n, r) : t.postMessage(i, n)
        }, t.getNewChannelMessage = function() {
            return new MessageChannel
        }, t.sendChannelMessage = function(t, n) {
            t.postMessage(n)
        }, t.closeChannelPort = function(t) {
            t.close()
        }
    }(Ft || (Ft = {}));
    var Vt = function() {
            function t(t) {
                this.P = t
            }
            return t.prototype.send = function(t, n, i) {
                void 0 === n && (n = ""), void 0 === i && (i = nt.warn);
                var r = {
                        message: t,
                        errorCode: n,
                        level: i
                    },
                    s = Ft.buildBaseMessage(Ht.ChildLogMessage, Bt.Child, this.P.projectId);
                s.content = r, Ft.sendPostMessage(window.parent, "*", s)
            }, t
        }(),
        Jt = function() {
            function t() {}
            return t.prototype.setContext = function(t, n) {
                this.J = t, this.W = n
            }, t.prototype.getVisitorService = function() {
                return this.J
            }, t.prototype.getSessionService = function() {
                return this.W
            }, t
        }(),
        Wt = ["t.contentsquare.net", "clicktale"];
    window.addEventListener("error", (function(t) {
        "string" == typeof t.filename && csArray.prototype.some.call(Wt, (function(n) {
            return csString.prototype.indexOf.call(t.filename, n) > -1
        })) && Kt.error("Uncaught jsError: filename: ".concat(t.filename, " - lineno: ").concat(t.lineno, " - colno: ").concat(t.colno, " - message: ").concat(t.message, " "))
    }));
    var Kt = function() {
            function t() {}
            return t.whiteListFilename = function(t) {
                csArray.prototype.push.call(Wt, t)
            }, t.setStrategy = function(n) {
                t.K = n
            }, t.computeIsActive = function(n) {
                t.Y = Q.boolean(n), t.Y ? t.X = Q.boolean(10) : t.X = !1
            }, t.isLoggingActive = function() {
                return t.Y
            }, t.getStrategy = function() {
                return t.K
            }, t.debug = function(n, i) {
                void 0 === i && (i = ""), t.Y && this.K.send(n, i, nt.debug)
            }, t.warn = function(n, i) {
                void 0 === i && (i = ""), t.Y && this.K.send(n, i, nt.warn)
            }, t.error = function(n, i) {
                void 0 === i && (i = ""), t.Y && this.K.send(n, i, nt.error)
            }, t.critical = function(n, i) {
                void 0 === i && (i = ""), t.Y && this.K.send(n, i, nt.critical)
            }, t.tryToExecute = function(t, n) {
                var i = this;
                return function() {
                    for (var r = [], s = 0; s < arguments.length; s++) r[s] = arguments[s];
                    try {
                        var e = n.apply(void 0, r);
                        return Tt(window.Promise) && e instanceof window.Promise ? e.then((function(t) {
                            return t
                        }), (function(n) {
                            return i.error(n, t)
                        })) : e
                    } catch (n) {
                        try {
                            i.error(n, t)
                        } catch (t) {}
                    }
                }
            }, t.isPerfLoggingActive = function() {
                return t.X
            }, t.Y = !1, t.X = !1, t
        }(),
        Yt = {
            debug: function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n]
            },
            warn: function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n]
            },
            error: function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n]
            },
            critical: function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n]
            }
        };
    var Xt, $t, Zt, Qt, tn = function(t) {
        return function(n, i, r) {
            var s = (null == i ? void 0 : i.toString()) || "",
                e = t || "".concat(n.constructor && n.constructor.name, ".").concat(s);
            if (r) {
                var u = r.value;
                r.value = function() {
                    for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    return function(t, n) {
                        return function() {
                            for (var i = [], r = 0; r < arguments.length; r++) i[r] = arguments[r];
                            try {
                                var s = n.apply(void 0, i);
                                return Tt(window.Promise) && s instanceof window.Promise ? s.then((function(t) {
                                    return t
                                }), (function(n) {
                                    return Yt.error(n, t)
                                })) : s
                            } catch (n) {
                                try {
                                    Yt.error(n, t)
                                } catch (t) {}
                            }
                        }
                    }(e, u.bind(this)).apply(void 0, t)
                }
            }
        }
    };
    ! function(t) {
        function n(t) {
            var n = new RegExp("(^|;)[ ]*".concat(t, "=([^;]*)")).exec(document.cookie);
            return n ? decodeURIComponent(n[2]) : null
        }

        function i(n, i, s, e, u, o) {
            var h = encodeURIComponent("".concat(i)),
                c = s === t.CURRENT_DOMAIN ? void 0 : s,
                a = r(e),
                f = a ? ";expires=".concat(a.toUTCString()) : "",
                v = Rt(c) ? ";domain=".concat(c) : "",
                l = "".concat(n, "=").concat(h).concat(f).concat(";path=/").concat(v);
            return Tt(u) && u !== Zt.NotSet && (l = "".concat(l, ";SameSite=").concat(u)), Tt(o) && o === Qt.Yes && (l = "".concat(l, ";Secure")), document.cookie = l, !0
        }

        function r(t) {
            return At(t) ? new csDate(pt() + t) : t
        }

        function s(t, r) {
            n(t) && i(t, "", r, new csDate(0)), n(t) && i(t, "", r, new csDate(0), Zt.None, Qt.Yes)
        }
        t.CURRENT_DOMAIN = "CURRENT_DOMAIN", t.get = n, t.set = i, t.toExpireDate = r, t.remove = s, t.isCookiePresent = function() {
            return document.cookie.length > 0
        }, t.getRootDomain = function(t, r) {
            var e = "_cs_root-domain",
                u = n(e);
            if (null !== u && "1" !== u) return u;
            for (var o = csString.prototype.split.call(window.location.hostname, "."), h = csArray.prototype.pop.call(o); o.length && (null === u || "1" === u);) i(e, h = csArray.prototype.join.call([csArray.prototype.pop.call(o), h], "."), h, void 0, t, r), u = n(e);
            return s(e, h), h
        }
    }(Xt || (Xt = {})),
    function(t) {
        t.browserIsSafariV12 = function() {
            return window.navigator.vendor && csString.prototype.indexOf.call(window.navigator.vendor, "Apple") > -1 && window.navigator.appVersion && csString.prototype.indexOf.call(window.navigator.appVersion, "Version/12.") > -1
        }
    }($t || ($t = {})),
    function(t) {
        t.None = "None", t.Lax = "Lax", t.NotSet = "X"
    }(Zt || (Zt = {})),
    function(t) {
        t[t.Yes = 1] = "Yes", t[t.No = 0] = "No"
    }(Qt || (Qt = {}));
    var nn = function() {
            function t(t, n, i) {
                this.P = t, this.$ = n, this.Z = i, this.tt = !1, this.nt = Zt.NotSet, this.it = Qt.No
            }
            return t.prototype.getSameSiteFlag = function() {
                return this.nt
            }, t.prototype.getSecureFlag = function() {
                return this.it
            }, t.prototype.getDomain = function() {
                return this.st
            }, t.prototype.getRootDomain = function() {
                return this.et
            }, t.prototype.init = function() {
                if (!this.P.cookielessTrackingEnabled) {
                    var t = this.ut(),
                        n = this.ot();
                    this.tt = this.ht(t, n), this.tt ? (this.nt = t, this.it = n) : this.P.secureCookiesEnabled && "https:" === this.$.getUrlProtocol() && (this.it = Qt.Yes), this.et = this.at(), this.st = this.ft(this.et)
                }
            }, t.prototype.ht = function(n, i) {
                return !$t.browserIsSafariV12() && (Xt.set(t.COOKIE_TEST_FOR_SAME_SITE, "Test same site", t.CURRENT_DOMAIN, void 0, n, i), !!Xt.get(t.COOKIE_TEST_FOR_SAME_SITE) && (Xt.remove(t.COOKIE_TEST_FOR_SAME_SITE, t.CURRENT_DOMAIN), !0))
            }, t.prototype.ut = function() {
                return "http:" === this.$.getUrlProtocol() ? Zt.Lax : this.Z.isSameSiteNoneSecureNeeded() || this.P.crossDomainTracking ? Zt.None : Zt.Lax
            }, t.prototype.ot = function() {
                return "http:" === this.$.getUrlProtocol() ? Qt.No : this.P.secureCookiesEnabled || this.P.crossDomainTracking || this.Z.isSameSiteNoneSecureNeeded() ? Qt.Yes : Qt.No
            }, t.prototype.isSameSiteSupported = function() {
                return this.tt
            }, t.prototype.set = function(t, n, i) {
                var r = Xt.toExpireDate(i);
                Xt.set(t, n, this.st, r, this.getSameSiteFlag(), this.getSecureFlag())
            }, t.prototype.get = function(t) {
                var n = new RegExp("(^|;)[ ]*".concat(t, "=([^;]*)")).exec(document.cookie);
                return n ? decodeURIComponent(n[2]) : null
            }, t.prototype.delete = function(t, n) {
                var i = n || this.st;
                Xt.remove(t, i)
            }, t.prototype.at = function() {
                var t = this.Z.isSameSiteNoneSecureNeeded() && this.isSameSiteSupported(),
                    n = t ? Zt.None : void 0,
                    i = t ? Qt.Yes : void 0;
                return Xt.getRootDomain(n, i)
            }, t.prototype.ft = function(t) {
                return this.P.allowSubdomains ? t : Xt.CURRENT_DOMAIN
            }, t.CURRENT_DOMAIN = "CURRENT_DOMAIN", t.COOKIE_TEST_FOR_SAME_SITE = "_cs_same_site", t
        }(),
        rn = "_cs_t",
        sn = function() {
            function t(t, n) {
                this.vt = t, this.P = n, this.lt = !1, this.wt = !1
            }
            return t.prototype.init = function() {
                if (!this.P.cookielessTrackingEnabled && this.vt.isTopWindowTracker() && "cookie" in document) {
                    if (!this.vt.isInIframeContext() && Xt.isCookiePresent()) return this.lt = !0, void(this.wt = !1);
                    if (Xt.set(rn, "1", Xt.CURRENT_DOMAIN), null !== Xt.get(rn)) return this.lt = !0, this.wt = !1, void Xt.remove(rn, Xt.CURRENT_DOMAIN);
                    Xt.set(rn, "1", Xt.CURRENT_DOMAIN, void 0, Zt.None, Qt.Yes), null !== Xt.get(rn) && (this.lt = !0, this.wt = !0, Xt.remove(rn, Xt.CURRENT_DOMAIN))
                }
            }, t.prototype.areCookiesEnabled = function() {
                return this.lt
            }, t.prototype.isSameSiteNoneSecureNeeded = function() {
                return this.wt
            }, t
        }(),
        en = function() {
            function t() {}
            return t.check = function() {
                return void 0 === Object.assign || this.yt()
            }, t.yt = function() {
                try {
                    var t = {},
                        n = Object.assign(t, {
                            a: 1
                        }, {
                            b: 2,
                            c: {
                                d: 4
                            }
                        }),
                        i = {
                            a: 1,
                            b: 2,
                            c: {
                                d: 4
                            }
                        };
                    return csJSON.stringify(n) === csJSON.stringify(i) && csJSON.stringify(t) === csJSON.stringify(i)
                } catch (t) {
                    return !1
                }
            }, t
        }();
    var un, on = function() {
            function t(t, n) {
                this.P = t, this.Z = n
            }
            return t.prototype.canTrack = function() {
                return this.P.isProjectActive() && this.gt() && this.At() && this.Et()
            }, t.prototype.canTrackInChild = function() {
                return this.P.isProjectActive() && this.gt() && (this.At() || this.St())
            }, t.prototype.Et = function() {
                return this.P.cookielessTrackingEnabled ? function() {
                    var t = "CSSessionStorageTest";
                    try {
                        return sessionStorage.setItem(t, t), sessionStorage.getItem(t) === t && (sessionStorage.removeItem(t), !0)
                    } catch (t) {
                        return !1
                    }
                }() : this.Z.areCookiesEnabled()
            }, t.prototype.At = function() {
                return Ut(window.location.hostname, this.P.hostnames)
            }, t.prototype.gt = function() {
                return !this.bt() && this.Tt() && en.check()
            }, t.prototype.St = function() {
                return X(window.location.href, "about:srcdoc") && "about:" === window.location.protocol && "" === window.location.hostname
            }, t.prototype.bt = function() {
                return "visibilityState" in document && "prerender" === document.visibilityState
            }, t.prototype.Tt = function() {
                return "pageXOffset" in window && "pageYOffset" in window && "onpagehide" in window && "JSON" in window && "parse" in window.csJSON && "stringify" in window.csJSON && "addEventListener" in window && "removeEventListener" in window && "Node" in window && "filter" in csArray.prototype && "forEach" in csArray.prototype && "querySelectorAll" in document && "now" in csDate && "keys" in Object && "performance" in window && "Map" in window && "Set" in window && !!window.localStorage
            }, t
        }(),
        hn = function() {
            function t(t) {
                var n = this;
                this.Rt = !1, this.Nt = new Map, this.kt = new Map, this.Ot = new Map, this.It = "CS_WORKER_SIGNATURE";
                var i = "\n    const algorithm = ".concat(t.algorithm, ";\n    const compressor = (").concat(t.getCompressorSourceCode(), ")();\n    ").concat('!function(){"use strict";var e,t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function r(e,t,r,n){return new(r||(r=Promise))((function(o,s){function a(e){try{c(n.next(e))}catch(e){s(e)}}function i(e){try{c(n.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,i)}c((n=n.apply(e,t||[])).next())}))}function n(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}}Object.create,Object.create,function(e){e.UNCOMPRESSED="0",e.GZIP="2"}(e||(e={}));var o,s=function(){function r(e){var t=this;this.queryParams={},this.headers={},this.handleRecoveredRequests=function(e){for(var r=0,n=e;r<n.length;r++){var o=n[r],s=o.metadata,a=o.events;t.send(a,s)}},this.endpoint=e.endpoint,this.compressionOpts=e.compressionOpts,this.recoveryStorage=e.recoveryStorage,this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests)}return r.prototype.setQueryParams=function(e){var t=this;Object.keys(e).forEach((function(r){t.queryParams[r]=e[r]}))},r.prototype.removeQueryParams=function(e){var t=this;e?e.forEach((function(e){delete t.queryParams[e]})):this.queryParams={}},r.prototype.send=function(r,n){var o=this,s=n||t({},this.queryParams),a=!("ct"in s),i="string"!=typeof r&&!this.isArrayBuffer(r);"ct"in s||(this.compressionOpts&&a?s.ct=this.compressionOpts.compressionType:s.ct=e.UNCOMPRESSED);var c=i?JSON.stringify(r):r,u=Object.keys(s).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(s[e]))})).join("&"),h="".concat(this.endpoint,"?").concat(u);this.compressionOpts&&a&&"string"==typeof c?this.compressionOpts.compressor(c,this.compressionOpts.compressionOutputType,(function(e){return o.doSend(h,s,e)})):this.doSend(h,s,c)},r.prototype.onLoad=function(e){this.onLoadCallback=e},r.prototype.onError=function(e){this.onErrorCallback=e},r.prototype.onTimeout=function(e,t){this.onTimeoutCallback=e,this.timeout=t},r.prototype.abort=function(){this.abortCurrentXhrCall&&this.abortCurrentXhrCall()},r.prototype.setRequestHeader=function(e,t){this.headers[e]=t},r.prototype.getQueryParams=function(){return this.queryParams},r.prototype.isArrayBuffer=function(e){return e&&void 0!==e.byteLength},r.prototype.doSend=function(e,t,r){var n=this,o=new XMLHttpRequest,s=Object.keys(t).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))})).join("&");o.open("POST",e),o.onload=function(){if(n.recoveryStorage&&n.recoveryStorage.recover(n.handleRecoveredRequests),n.onLoadCallback){var e={params:t,responseText:o.responseText,status:o.status};n.onLoadCallback(e)}},o.onerror=function(){n.recoveryStorage&&n.recoveryStorage.save({key:s,metadata:t,events:r}),n.onErrorCallback&&n.onErrorCallback({params:t})},this.timeout&&this.onTimeoutCallback&&(o.timeout=this.timeout,o.ontimeout=function(){n.onTimeoutCallback()}),this.abortCurrentXhrCall=function(){return o.abort()},Object.keys(this.headers).forEach((function(e){o.setRequestHeader(e,n.headers[e])})),o.send(r)},r}(),a=function(){function e(e){this.maxStoredBytes=e,this.storageBytesUsed=0}return e.prototype.addString=function(e){this.storageBytesUsed+=2*e.length},e.prototype.addArrayBuffer=function(e){this.storageBytesUsed+=e.byteLength},e.prototype.isThresholdReached=function(){return this.storageBytesUsed>this.maxStoredBytes},e.prototype.reset=function(){this.storageBytesUsed=0},e}(),i=function(){function e(e){this.ramStorage={},this.byteSizeCounter=new a(e)}return e.prototype.save=function(e){var t=e.key,r=e.metadata,n=e.events;this.byteSizeCounter.isThresholdReached()||(this.byteSizeCounter.addString(t),"string"==typeof n?this.byteSizeCounter.addString(n):this.byteSizeCounter.addArrayBuffer(n),this.byteSizeCounter.isThresholdReached()||(this.ramStorage[t]={metadata:r,events:n}))},e.prototype.recover=function(e){var t=this,r=[];this.getStorageKeys().forEach((function(e){var n=t.ramStorage[e];void 0!==n&&(delete n.metadata.datatype,r.push(n),t.removeItem(e))})),0!==r.length&&(e(r),this.byteSizeCounter.reset())},e.prototype.getStorageKeys=function(){return Object.keys(this.ramStorage)},e.prototype.removeItem=function(e){delete this.ramStorage[e]},e}();!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",e[e.OPEN_FAILED=2]="OPEN_FAILED",e[e.READY=3]="READY"}(o||(o={}));var c=function(){function e(e,t,r){this.storageName=e,this.onOpenError=r,this.cacheState=o.NOT_STARTED,this.toBeSavedBuffer=[],this.recoveryInProgress=0,this.origin=self.origin,this.context="object"==typeof window?"":"worker-",this.byteSizeCounter=new a(t),this.init()}return e.prototype.init=function(){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return[4,this.openCache()];case 1:return e.sent(),this.cacheState===o.READY?this.flushToBeSavedBuffer():this.onOpenError(this.toBeSavedBuffer),[2]}}))}))},e.prototype.flushToBeSavedBuffer=function(){var e=this;this.toBeSavedBuffer.forEach((function(t){e.save(t)})),this.toBeSavedBuffer=[]},e.prototype.save=function(e){return r(this,void 0,void 0,(function(){var t,r,s;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.cacheState===o.OPEN_IN_PROGRESS?(this.toBeSavedBuffer.push(e),[2]):this.cacheState!==o.READY||this.byteSizeCounter.isThresholdReached()?[2]:(t=e.key,r=e.metadata,s=e.events,this.byteSizeCounter.addString(t),"string"==typeof s?this.byteSizeCounter.addString(s):this.byteSizeCounter.addArrayBuffer(s),this.byteSizeCounter.isThresholdReached()?[2]:[4,this.cache.put("".concat(this.origin,"/").concat(t),new Response(s,{headers:r}))]);case 1:case 2:return n.sent(),[3,3];case 3:return[2]}}))}))},e.prototype.recover=function(e){return r(this,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return this.cache?[3,2]:[4,this.openCache()];case 1:if(t.sent(),this.cacheState!==o.READY)return[2];t.label=2;case 2:return this.doRecover(e),[2]}}))}))},e.prototype.openCache=function(){return r(this,void 0,void 0,(function(){var e;return n(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.cacheState=o.OPEN_IN_PROGRESS,e=this,[4,self.caches.open("".concat(this.context).concat(this.storageName))];case 1:return e.cache=t.sent(),this.cacheState=o.READY,[3,3];case 2:return t.sent(),this.cacheState=o.OPEN_FAILED,[3,3];case 3:return[2]}}))}))},e.prototype.doRecover=function(e){return r(this,void 0,void 0,(function(){var t,r,o,s,a=this;return n(this,(function(n){switch(n.label){case 0:return n.trys.push([0,5,6,7]),this.recoveryInProgress++,this.recoveryInProgress>1?[2]:[4,this.cache.keys()];case 1:return 0===(t=n.sent()).length?[2]:[4,this.cache.matchAll()];case 2:return r=n.sent(),o=r.map((function(e){var t={};e.headers.forEach((function(e,r){t[r]=e})),delete t["content-type"];var r=t.datatype;return delete t.datatype,"json"===r||"base64"===r?e.text().then((function(e){return{metadata:t,events:e}})):e.arrayBuffer().then((function(e){return{metadata:t,events:e}}))})),[4,Promise.all(o)];case 3:return s=n.sent(),[4,Promise.all(t.map((function(e){return a.cache.delete(e)})))];case 4:return n.sent(),e(s),this.byteSizeCounter.reset(),[3,7];case 5:return n.sent(),[3,7];case 6:return this.recoveryInProgress--,[7];case 7:return[2]}}))}))},e}(),u=function(){function e(e){self.caches?this.setCachesStrategy(e):this.setRamStorageStrategy()}return e.prototype.save=function(e){this.storageStrategy.save(e)},e.prototype.recover=function(e){this.storageStrategy.recover(e)},e.prototype.setCachesStrategy=function(t){var r=this;this.storageStrategy=new c(t,e.MAX_SIZE,(function(e){r.setRamStorageStrategy(e)}))},e.prototype.setRamStorageStrategy=function(t){var r=this;this.storageStrategy=new i(e.MAX_SIZE),t&&t.forEach((function(e){r.storageStrategy.save(e)}))},e.MAX_SIZE=16777216,e}();!function(){var e="CS_WORKER_SIGNATURE",t=new Map,o=new u("csPersisted");function a(r){var n;if((n=r)&&n.WORKER_SIGNATURE===e)switch(r.type){case"CreatePostRequest":var a=r.endpoint,i=r.compressionOutputType,c=r.useRetry,u={endpoint:a};i&&(u.compressionOpts={compressor:compressor,compressionOutputType:i,compressionType:algorithm}),c&&(u.recoveryStorage=o);var h=new s(u);t.set(a,h),h.onLoad((function(t){var r={type:"onLoad",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)})),h.onError((function(t){var r={type:"onError",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)}));break;case"SetQueryParams":var p=r.endpoint,f=r.queryParams;(h=t.get(p))&&h.setQueryParams(f);break;case"RemoveQueryParams":p=r.endpoint,f=r.queryParams,(h=t.get(p))&&h.removeQueryParams(f);break;case"Send":p=r.endpoint;var y=r.payload;f=r.queryParams,(h=t.get(p))&&h.send(y,f);break;case"Abort":p=r.endpoint,(h=t.get(p))&&h.abort();break;case"SetHeader":p=r.endpoint;var d=r.headerName,l=r.headerValue;(h=t.get(p))&&h.setRequestHeader(d,l);break;case"SetTimeout":var v=r.endpoint,S=r.timeout;(h=t.get(v))&&h.onTimeout((function(){var t={type:"onTimeout",endpoint:v,WORKER_SIGNATURE:e};self.postMessage(t)}),S);break;default:throw new Error(JSON.stringify(r))}}self.addEventListener("message",(function(e){e.data.getReader?function(e,t){r(this,void 0,void 0,(function(){var r,o,s,a;return n(this,(function(n){switch(n.label){case 0:r=e.getReader(),n.label=1;case 1:return[4,r.read()];case 2:return o=n.sent(),s=o.done,a=o.value,s?[3,3]:(t(a),[3,1]);case 3:return[2]}}))}))}(e.data,a):a(e.data)}))}()}();');
                try {
                    this.Ct = this._t(i), this.Rt = !0, this.Lt() && (this.xt = new ReadableStream({
                        start: function(t) {
                            n.Pt = t
                        }
                    }), this.Ct.postMessage(this.xt, [this.xt]), this.postMessage = this.postMessageAsTransferable)
                } catch (t) {
                    this.Rt = !1
                }
            }
            return t.prototype.postMessage = function(t) {
                t.WORKER_SIGNATURE = this.It, this.Ct.postMessage(t)
            }, t.prototype.postMessageAsTransferable = function(t) {
                t.WORKER_SIGNATURE = this.It, this.Pt.enqueue(t)
            }, t.prototype._t = function(t) {
                var n = this,
                    i = window.csURL || window.webkitURL,
                    r = window.Blob,
                    s = window.Worker,
                    e = new r([t], {
                        type: "application/javascript"
                    }),
                    u = i.createObjectURL(e);
                Kt.whiteListFilename(u);
                var o = new s(u);
                return o.onmessage = function(t) {
                    var i = t.data,
                        r = i.type,
                        s = i.endpoint;
                    if (i.WORKER_SIGNATURE === n.It)
                        if ("onLoad" === r) {
                            var e = t.data.response;
                            (u = n.Nt.get(s)) && u(e)
                        } else if ("onError" === r) {
                        e = t.data.response;
                        (u = n.kt.get(s)) && u(e)
                    } else if ("onTimeout" === r) {
                        var u;
                        (u = n.Ot.get(s)) && u()
                    }
                }, o
            }, t.prototype.registerOnLoadCallback = function(t, n) {
                this.Nt.set(t, n)
            }, t.prototype.registerOnErrorCallback = function(t, n) {
                this.kt.set(t, n)
            }, t.prototype.registerOnTimeoutCallback = function(t, n) {
                this.Ot.set(t, n)
            }, t.prototype.isSupported = function() {
                return this.Rt
            }, t.prototype.Lt = function() {
                try {
                    var t = new ReadableStream;
                    return structuredClone(t, {
                        transfer: [t]
                    }), !0
                } catch (t) {
                    return !1
                }
            }, t
        }(),
        cn = function() {
            function t(t) {
                this.Mt = {}, this.Dt = t.endpoint, this.Ut = t.networkWorker, this.jt = t.compressionOutputType, this.zt = t.useRetry, this.Ut.postMessage({
                    type: "CreatePostRequest",
                    endpoint: this.Dt,
                    compressionOutputType: this.jt,
                    useRetry: this.zt
                })
            }
            return t.prototype.setQueryParams = function(t) {
                var n = this;
                this.Ut.postMessage({
                    type: "SetQueryParams",
                    endpoint: this.Dt,
                    queryParams: t
                }), csArray.prototype.forEach.call(Object.keys(t), (function(i) {
                    n.Mt[i] = t[i]
                }))
            }, t.prototype.getQueryParams = function() {
                return this.Mt
            }, t.prototype.removeQueryParams = function(t) {
                var n = this;
                this.Ut.postMessage({
                    type: "RemoveQueryParams",
                    endpoint: this.Dt,
                    queryParams: t
                }), t && csArray.prototype.forEach.call(t, (function(t) {
                    delete n.Mt[t]
                }))
            }, t.prototype.send = function(t, n) {
                this.Ut.postMessage({
                    type: "Send",
                    endpoint: this.Dt,
                    payload: t,
                    queryParams: n
                })
            }, t.prototype.abort = function() {
                this.Ut.postMessage({
                    type: "Abort",
                    endpoint: this.Dt
                })
            }, t.prototype.onLoad = function(t) {
                this.Ut.registerOnLoadCallback(this.Dt, t)
            }, t.prototype.onError = function(t) {
                this.Ut.registerOnErrorCallback(this.Dt, t)
            }, t.prototype.setRequestHeader = function(t, n) {
                this.Ut.postMessage({
                    type: "SetHeader",
                    endpoint: this.Dt,
                    headerName: t,
                    headerValue: n
                })
            }, t.prototype.onTimeout = function(t, n) {
                this.Ut.registerOnTimeoutCallback(this.Dt, t), this.Ut.postMessage({
                    type: "SetTimeout",
                    endpoint: this.Dt,
                    timeout: n
                })
            }, t
        }();
    ! function(t) {
        t.UNCOMPRESSED = "0", t.GZIP = "2"
    }(un || (un = {}));
    var an, fn, vn, ln, dn = function(t) {
            this.onError = t
        },
        wn = function() {
            function t(t) {
                var n = this;
                this.Mt = {}, this.qt = {}, this.Bt = function(t) {
                    for (var i = 0, r = t; i < r.length; i++) {
                        var s = r[i],
                            e = s.metadata,
                            u = s.events;
                        n.send(u, e)
                    }
                }, this.Dt = t.endpoint, this.Ht = t.compressionOpts, this.Ft = t.recoveryStorage, this.Ft && this.Ft.recover(this.Bt)
            }
            return t.prototype.setQueryParams = function(t) {
                var n = this;
                Object.keys(t).forEach((function(i) {
                    n.Mt[i] = t[i]
                }))
            }, t.prototype.removeQueryParams = function(t) {
                var n = this;
                t ? t.forEach((function(t) {
                    delete n.Mt[t]
                })) : this.Mt = {}
            }, t.prototype.send = function(t, n) {
                var i = this,
                    r = n || F({}, this.Mt),
                    s = !("ct" in r),
                    e = "string" != typeof t && !this.Gt(t);
                "ct" in r || (this.Ht && s ? r.ct = this.Ht.compressionType : r.ct = un.UNCOMPRESSED);
                var u = e ? JSON.stringify(t) : t,
                    o = Object.keys(r).map((function(t) {
                        return "".concat(encodeURIComponent(t), "=").concat(encodeURIComponent(r[t]))
                    })).join("&"),
                    h = "".concat(this.Dt, "?").concat(o);
                this.Ht && s && "string" == typeof u ? this.Ht.compressor(u, this.Ht.compressionOutputType, (function(t) {
                    return i.Vt(h, r, t)
                })) : this.Vt(h, r, u)
            }, t.prototype.onLoad = function(t) {
                this.Jt = t
            }, t.prototype.onError = function(t) {
                this.Wt = t
            }, t.prototype.onTimeout = function(t, n) {
                this.Kt = t, this.Yt = n
            }, t.prototype.abort = function() {
                this.Xt && this.Xt()
            }, t.prototype.setRequestHeader = function(t, n) {
                this.qt[t] = n
            }, t.prototype.getQueryParams = function() {
                return this.Mt
            }, t.prototype.Gt = function(t) {
                return t && void 0 !== t.byteLength
            }, t.prototype.Vt = function(t, n, i) {
                var r = this,
                    s = new XMLHttpRequest,
                    e = Object.keys(n).map((function(t) {
                        return "".concat(encodeURIComponent(t), "=").concat(encodeURIComponent(n[t]))
                    })).join("&");
                s.open("POST", t), s.onload = function() {
                    if (r.Ft && r.Ft.recover(r.Bt), r.Jt) {
                        var t = {
                            params: n,
                            responseText: s.responseText,
                            status: s.status
                        };
                        r.Jt(t)
                    }
                }, s.onerror = function() {
                    r.Ft && r.Ft.save({
                        key: e,
                        metadata: n,
                        events: i
                    }), r.Wt && r.Wt({
                        params: n
                    })
                }, this.Yt && this.Kt && (s.timeout = this.Yt, s.ontimeout = function() {
                    r.Kt()
                }), this.Xt = function() {
                    return s.abort()
                }, Object.keys(this.qt).forEach((function(t) {
                    s.setRequestHeader(t, r.qt[t])
                })), s.send(i)
            }, t
        }(),
        yn = function() {
            function t(t) {
                this.$t = t, this.Ut = new hn(this.$t)
            }
            return t.prototype.create = function(t, n, i, r) {
                if (this.Ut.isSupported() && n) return new cn({
                    networkWorker: this.Ut,
                    endpoint: t,
                    compressionOutputType: i,
                    useRetry: !!r
                });
                var s = i ? {
                    compressor: this.$t.compress,
                    compressionOutputType: i,
                    compressionType: this.$t.algorithm
                } : void 0;
                return new wn({
                    endpoint: t,
                    compressionOpts: s,
                    recoveryStorage: r
                })
            }, t
        }(),
        pn = function() {
            function t(t, n, i, r, s) {
                this.J = t, this.W = n, this.Zt = i, this.Qt = r, this.P = s
            }
            return t.prototype.get = function() {
                return {
                    exclusion: this.Zt.getAppliedTrackingDraw(),
                    visitor: this.J.getVisitor(),
                    session: this.W.getSession(),
                    cvars: this.Qt.getCustomVariablesSession()
                }
            }, t.prototype.apply = function(t) {
                t && (t.exclusion ? this.exclude() : this.include(t))
            }, t.prototype.exclude = function() {
                this.Zt.exclude(this.P), this.J.removeVisitor(), this.W.removeSession(), this.Qt.removeCustomVariablesSession()
            }, t.prototype.include = function(t) {
                this.Zt.removeExclusion(), this.J.setVisitor(t.visitor), t.session ? this.W.setSession(t.session) : this.W.removeSession(), t.cvars ? this.Qt.setCustomVariableSession(t.cvars) : this.Qt.removeCustomVariablesSession()
            }, t
        }(),
        mn = "_cs_id",
        gn = /^(([a-z0-9\-])+(\.[0-9]+){6})(\.(None|Lax|X)\.(0|1))?$/,
        An = function() {
            function t(t, n, i, r) {
                this.P = t, this.tn = n, this.nn = i, this.rn = r
            }
            return t.prototype.get = function() {
                var n;
                return (n = this.P.cookielessTrackingEnabled ? this.rn.getItem(mn) : this.tn.get(mn)) ? t.fromString(n) : null
            }, t.prototype.set = function(n) {
                var i = t.toString(n);
                if (this.P.cookielessTrackingEnabled) this.rn.setItem(mn, i);
                else {
                    var r = new csDate(n.expires);
                    this.tn.set(mn, i, r), this.nn.setCookie(mn, i, r)
                }
            }, t.prototype.remove = function() {
                this.P.cookielessTrackingEnabled ? this.rn.removeItem(mn) : (this.tn.delete(mn), this.nn.removeCookie(mn))
            }, t.prototype.handleSubdomainChange = function() {
                if (!this.P.cookielessTrackingEnabled) {
                    var t = this.get();
                    t && (this.P.allowSubdomains ? this.tn.delete(mn, nn.CURRENT_DOMAIN) : this.tn.delete(mn, this.tn.getRootDomain()), this.set(t))
                }
            }, t.fromString = function(t) {
                var n = csString.prototype.split.call(t, "."),
                    i = n[0],
                    r = n[1],
                    s = n[2],
                    e = n[3],
                    u = n[4],
                    o = n[5],
                    h = n[6];
                return {
                    id: i,
                    creationTimestamp: Number(r),
                    visitsCount: Number(s),
                    hitTimestamp: Number(e),
                    lastVisitTimestamp: Number(u),
                    appliedTrackingDraw: Number(o),
                    expires: Number(h)
                }
            }, t.toString = function(t) {
                return csArray.prototype.join.call([t.id, t.creationTimestamp, t.visitsCount, t.hitTimestamp, t.lastVisitTimestamp, t.appliedTrackingDraw, t.expires], ".")
            }, t.isValidVisitorString = function(t) {
                return gn.test(t)
            }, t
        }();
    ! function(t) {
        t.REPLAY_RECORDING_DISABLED = "1", t.REPLAY_RECORDING_ENABLED = "3", t.TRIGGER_REPLAY_RECORDING_ENABLED = "5"
    }(an || (an = {})),
    function(t) {
        t.NOT_RECORDED = "0", t.TEMPORARILY_RECORDED = "T", t.GLOBAL_SAMPLING = "5", t.URL_SAMPLING = "6", t.ETR_SAMPLING = "7"
    }(fn || (fn = {})),
    function(t) {
        t.ETR_OFF = "0", t.ETR_ON = "1"
    }(vn || (vn = {})),
    function(t) {
        t.ETR_LEGACY = "0", t.ETR_SESSION = "1", t.ETR_PAGE = "2"
    }(ln || (ln = {}));
    var En, Sn = "_cs_s",
        bn = 18e5,
        Tn = /^(\d+\.[013567T](\.[01])?)(\.\d+)?$/,
        Rn = ".";
    ! function(t) {
        t[t.NOT_FOUND = 0] = "NOT_FOUND", t[t.EXPIRED = 1] = "EXPIRED", t[t.FOUND = 2] = "FOUND"
    }(En || (En = {}));
    var Nn, kn = function() {
        function t(t, n, i, r) {
            this.P = t, this.tn = n, this.nn = i, this.rn = r, this.en = null, this.un = !1
        }
        return t.prototype.get = function(n) {
            var i = this.getRawSession(n);
            return this.isValid(i) ? t.fromString(i) : null
        }, t.prototype.getRawSession = function(n) {
            if (n) {
                var i = this.hn();
                return t.cn(i)
            }
            var r = this.an(),
                s = r.sessionString,
                e = r.status,
                u = t.cn(s);
            if (e !== En.EXPIRED) return u;
            if (this.P.cookielessTrackingEnabled) return null;
            var o = this.hn();
            if (!o) return null;
            var h = csString.prototype.split.call(o, Rn);
            if (!t.fn(h)) return o;
            var c = h[h.length - 1],
                a = parseInt(c, 10);
            return isNaN(a) || this.vn(a), u
        }, t.prototype.set = function(t, n) {
            void 0 === n && (n = bn);
            var i = pt() + n,
                r = this.toString(t);
            r += "".concat(Rn).concat(i), this.ln(r, i), this.P.cookielessTrackingEnabled ? this.rn.setItem(Sn, r) : (this.tn.set(Sn, r, n), this.nn.setCookie(Sn, r, n))
        }, t.prototype.remove = function() {
            this.P.cookielessTrackingEnabled ? this.rn.removeItem(Sn) : (this.tn.delete(Sn), this.nn.removeCookie(Sn)), this.dn()
        }, t.prototype.handleSubdomainChange = function() {
            if (!this.P.cookielessTrackingEnabled) {
                var t = this.get(!0);
                t && (this.P.allowSubdomains ? this.tn.delete(Sn, nn.CURRENT_DOMAIN) : this.tn.delete(Sn, this.tn.getRootDomain()), this.set(t))
            }
        }, t.prototype.isValid = function(n) {
            return null !== n && t.isValidSessionString(n)
        }, t.prototype.toString = function(t) {
            return csArray.prototype.join.call([t.pageNumber, t.recordingState, t.etrState], Rn)
        }, t.prototype.ln = function(t, n) {
            this.en = {
                sessionString: t,
                expires: n
            }
        }, t.prototype.an = function() {
            return this.en ? this.en && pt() <= this.en.expires ? {
                sessionString: this.en.sessionString,
                status: En.FOUND
            } : {
                sessionString: this.en.sessionString,
                status: En.EXPIRED
            } : {
                sessionString: this.hn(),
                status: En.NOT_FOUND
            }
        }, t.prototype.dn = function() {
            this.en = null
        }, t.prototype.vn = function(t) {
            this.en && (this.en.expires = t, this.un = !0)
        }, t.prototype.isCacheRefreshed = function() {
            return this.un
        }, t.prototype.resetCacheRefreshed = function() {
            this.un = !1
        }, t.prototype.hn = function() {
            if (this.P.cookielessTrackingEnabled) {
                var t = this.rn.getItem(Sn);
                return !t || this.wn(t) ? null : t
            }
            return this.tn.get(Sn)
        }, t.prototype.wn = function(t) {
            var n = csString.prototype.split.call(t, Rn),
                i = parseInt(n[n.length - 1], 10);
            return !isNaN(i) && pt() > i
        }, t.fn = function(t) {
            return 13 === t[t.length - 1].length
        }, t.cn = function(t) {
            var n;
            if (!t) return null;
            var i = null === (n = csString.prototype.match.call(t, Tn)) || void 0 === n ? void 0 : n[1];
            return null != i ? i : null
        }, t.fromRawString = function(n) {
            var i = t.cn(n);
            return null !== i ? t.fromString(i) : null
        }, t.fromString = function(t) {
            var n = csString.prototype.split.call(t, Rn),
                i = n[0],
                r = n[1],
                s = n[2];
            return {
                recordingState: r,
                etrState: null != s ? s : vn.ETR_OFF,
                pageNumber: parseInt(i, 10)
            }
        }, t.isValidSessionString = function(t) {
            return Tn.test(t)
        }, t
    }();
    ! function(t) {
        t.fromRaw = function(t) {
            return {
                exclusion: Number(t._cs_ex) || 0,
                visitor: t._cs_id ? An.fromString(t._cs_id) : null,
                session: t._cs_s ? kn.fromRawString(t._cs_s) : null,
                cvars: t._cs_cvars ? window.csJSON.parse(t._cs_cvars) : null
            }
        }
    }(Nn || (Nn = {}));
    var On, In = "_cs_ex",
        Cn = 2592e6,
        _n = /^[0-9]+$/,
        Ln = function() {
            function t(t, n, i, r) {
                this.P = t, this.tn = n, this.nn = i, this.rn = r
            }
            return t.prototype.get = function() {
                return this.P.cookielessTrackingEnabled ? Number(this.rn.getItem(In)) : Number(this.tn.get(In))
            }, t.prototype.set = function(t) {
                this.P.cookielessTrackingEnabled ? this.rn.setItem(In, t) : (this.tn.set(In, t, Cn), this.nn.setCookie(In, t, Cn))
            }, t.prototype.remove = function() {
                this.P.cookielessTrackingEnabled ? this.rn.removeItem(In) : (this.tn.delete(In), this.nn.removeCookie(In))
            }, t.isValidExclusionString = function(t) {
                return _n.test(t)
            }, t
        }(),
        xn = "_cs_cvars",
        Pn = function() {
            function t(t, n, i, r) {
                this.P = t, this.tn = n, this.nn = i, this.rn = r
            }
            return t.prototype.get = function() {
                return this.P.cookielessTrackingEnabled ? this.rn.getItem(xn) : this.tn.get(xn)
            }, t.prototype.set = function(t) {
                this.P.cookielessTrackingEnabled ? this.rn.setItem(xn, t) : (this.tn.set(xn, t), this.nn.setCookie(xn, t))
            }, t.prototype.remove = function() {
                this.P.cookielessTrackingEnabled ? this.rn.removeItem(xn) : (this.tn.delete(xn), this.nn.removeCookie(xn))
            }, t.isValidCustomVarString = function(t) {
                return "string" == typeof t
            }, t
        }();
    ! function(t) {
        function n(t) {
            var n = ["_cs_ex", "_cs_id", "_cs_s", "_cs_cvars"];
            return csArray.prototype.every.call(Object.keys(t), (function(t) {
                return csArray.prototype.indexOf.call(n, t) >= 0
            }))
        }
        t.isRawDomainState = n, t.isValid = function(t) {
            return !!n(t) && ((!t._cs_id || An.isValidVisitorString(t._cs_id)) && (!t._cs_s || kn.isValidSessionString(t._cs_s)) && (!t._cs_ex || Ln.isValidExclusionString(t._cs_ex)) && (!t._cs_cvars || Pn.isValidCustomVarString(t._cs_cvars)))
        }
    }(On || (On = {}));
    var Mn, Dn, Un, jn = function() {
            function t(t, n) {
                this.yn = t, this.mn = n
            }
            return t.prototype.retrieve = function(n, i) {
                var r = this;
                this.gn = i, this.retrievedStates = [], this.An = csArray.prototype.map.call(csArray.prototype.filter.call(n, (function(t) {
                    return r.En(t)
                })), t.getXdframeOrigin), this.yn.onMessage((function(t) {
                    r.Sn(t)
                })), this.yn.onTimeout((function() {
                    r.bn()
                })), this.yn.start(), csArray.prototype.forEach.call(csArray.prototype.map.call(this.An, t.getXdframeUrl), (function(t) {
                    return r.yn.open(t)
                }))
            }, t.prototype.Sn = function(t) {
                if (this.Tn(t)) {
                    var n = t.data;
                    if (!On.isValid(n)) throw this.yn.stop(), "Invalid domain state: ".concat(csJSON.stringify(t.data), " from ").concat(t.origin);
                    csArray.prototype.push.call(this.retrievedStates, n)
                }
                this.Rn() && (this.yn.stop(), this.gn(csArray.prototype.map.call(this.retrievedStates, Nn.fromRaw)))
            }, t.prototype.bn = function() {
                Kt.warn("xdframe: all messages not received")
            }, t.prototype.Tn = function(t) {
                return csArray.prototype.indexOf.call(this.An, t.origin) > -1
            }, t.prototype.Rn = function() {
                return this.retrievedStates.length === this.An.length
            }, t.prototype.En = function(t) {
                return !$(this.mn.hostname, t)
            }, t.getXdframeOrigin = function(t) {
                return "https://csxd.".concat(t)
            }, t.getXdframeUrl = function(t) {
                return "".concat(t, "/xdframe-").concat("1.0.0", ".html")
            }, t
        }(),
        zn = function() {
            function t() {
                var t = this;
                this.Nn = 3e3, this.kn = function(n) {
                    t.handleMessage(n)
                }
            }
            return t.prototype.onMessage = function(t) {
                this.On = t
            }, t.prototype.onTimeout = function(t) {
                this.Kt = t
            }, t.prototype.start = function() {
                var t = this;
                window.addEventListener("message", this.kn), this.In = window.setTimeout((function() {
                    t.Kt()
                }), this.Nn)
            }, t.prototype.open = function(t) {
                var n = document.createElement("iframe");
                return n.src = t, n.setAttribute("hidden", ""), n.setAttribute("title", "Intentionally blank"), document.body.appendChild(n), n
            }, t.prototype.stop = function() {
                window.removeEventListener("message", this.kn), window.clearTimeout(this.In), this.On = Y, this.Kt = Y
            }, t.prototype.handleMessage = function(t) {
                this.On(t)
            }, G([tn("XdframeMessage")], t.prototype, "handleMessage", null), t
        }();
    ! function(t) {
        t[t.MUTATION_INSERT = 1] = "MUTATION_INSERT", t[t.MUTATION_REMOVE = 2] = "MUTATION_REMOVE", t[t.MUTATION_ATTRIBUTE = 3] = "MUTATION_ATTRIBUTE", t[t.MUTATION_CHARACTER_DATA = 4] = "MUTATION_CHARACTER_DATA", t[t.INITIAL_DOM = 5] = "INITIAL_DOM", t[t.SCROLL = 6] = "SCROLL", t[t.CLICK = 8] = "CLICK", t[t.RESIZE = 9] = "RESIZE", t[t.INPUT_CHECKABLE = 10] = "INPUT_CHECKABLE", t[t.INPUT_SELECT = 11] = "INPUT_SELECT", t[t.INPUT_TEXT = 12] = "INPUT_TEXT", t[t.HASH_CHANGE = 13] = "HASH_CHANGE", t[t.CONSENT_GRANTED = 14] = "CONSENT_GRANTED", t[t.CONSENT_WITHDRAWN = 15] = "CONSENT_WITHDRAWN", t[t.MOUSE_OVER = 16] = "MOUSE_OVER", t[t.VISIBILITY_CHANGE = 17] = "VISIBILITY_CHANGE", t[t.STYLESHEET_RULE_INSERT = 18] = "STYLESHEET_RULE_INSERT", t[t.STATIC_RESOURCE_URL = 19] = "STATIC_RESOURCE_URL", t[t.PERFORMANCE_TIMINGS = 20] = "PERFORMANCE_TIMINGS", t[t.ATTACH_SHADOW = 22] = "ATTACH_SHADOW", t[t.STYLESHEET_CSS_TEXT_UPDATE = 23] = "STYLESHEET_CSS_TEXT_UPDATE", t[t.JAVASCRIPT_ERROR = 26] = "JAVASCRIPT_ERROR", t[t.PAGE_EVENT = 27] = "PAGE_EVENT", t[t.API_ERROR = 28] = "API_ERROR", t[t.TEXT_VISIBILITY = 29] = "TEXT_VISIBILITY", t[t.MUTATION_ENCRYPTED_CHARACTER_DATA = 30] = "MUTATION_ENCRYPTED_CHARACTER_DATA", t[t.INPUT_ENCRYPTED_TEXT = 31] = "INPUT_ENCRYPTED_TEXT", t[t.KEY_DOWN = 32] = "KEY_DOWN", t[t.KEY_UP = 33] = "KEY_UP", t[t.CLIPBOARD_COMMAND = 34] = "CLIPBOARD_COMMAND", t[t.STYLESHEET_RULE_DELETE = 37] = "STYLESHEET_RULE_DELETE", t[t.USER_IDENTIFIER = 38] = "USER_IDENTIFIER", t[t.TOUCH_START = 41] = "TOUCH_START", t[t.TOUCH_MOVE = 42] = "TOUCH_MOVE", t[t.TOUCH_END = 43] = "TOUCH_END", t[t.GESTURE_RECOGNITION = 44] = "GESTURE_RECOGNITION", t[t.POINTER_DOWN = 47] = "POINTER_DOWN", t[t.POINTER_MOVE = 48] = "POINTER_MOVE", t[t.POINTER_UP = 49] = "POINTER_UP", t[t.CUSTOM_ERROR = 50] = "CUSTOM_ERROR", t[t.CUSTOM_ELEMENT_REGISTRATION = 54] = "CUSTOM_ELEMENT_REGISTRATION", t[t.REGISTER_ADOPTED_STYLE_SHEET = 60] = "REGISTER_ADOPTED_STYLE_SHEET", t[t.SET_ADOPTED_STYLE_SHEETS = 61] = "SET_ADOPTED_STYLE_SHEETS", t[t.ADOPTED_STYLESHEET_RULE_INSERT = 62] = "ADOPTED_STYLESHEET_RULE_INSERT", t[t.ADOPTED_STYLESHEET_RULE_DELETE = 63] = "ADOPTED_STYLESHEET_RULE_DELETE", t[t.SCREEN_RESIZE = 65] = "SCREEN_RESIZE"
    }(Mn || (Mn = {})),
    function(t) {
        t[t.Left = 0] = "Left", t[t.Middle = 1] = "Middle", t[t.Right = 2] = "Right", t[t.Fourth = 3] = "Fourth", t[t.Fifth = 4] = "Fifth"
    }(Dn || (Dn = {})),
    function(t) {
        t[t.SWIPE = 0] = "SWIPE", t[t.PINCH_IN = 1] = "PINCH_IN", t[t.PINCH_OUT = 2] = "PINCH_OUT", t[t.LONG_PRESS = 3] = "LONG_PRESS", t[t.TAP = 4] = "TAP", t[t.DOUBLE_TAP = 5] = "DOUBLE_TAP"
    }(Un || (Un = {}));

    function qn(t, n) {
        void 0 === n && (n = true), t.boundElement.addEventListener(t.type, t.listener, n)
    }

    function Bn(t, n) {
        void 0 === n && (n = true), t.boundElement.removeEventListener(t.type, t.listener, n)
    }

    function Hn(t, n) {
        void 0 === n && (n = 0);
        var i = Math.pow(10, n);
        return Math.round(t * i) / i
    }

    function Fn(t, n) {
        "number" == typeof n && (n = {
            wait: n
        });
        var i, r = n.wait;
        if (n.ignoreThrottledCalls) {
            var s = 0;
            return function() {
                for (var n = [], i = 0; i < arguments.length; i++) n[i] = arguments[i];
                var e = pt();
                if (e - s > r) return s = e, t.apply(this, n)
            }
        }
        var e, u = [],
            o = null,
            h = 0,
            c = function() {
                h = pt(), o = null, e = t.apply(i, u)
            },
            a = function() {
                for (var n = [], s = 0; s < arguments.length; s++) n[s] = arguments[s];
                var a = pt(),
                    f = r - (a - h);
                return i = null != this ? this : window, u = W([], n, !0), f <= 0 || f > r ? (h = a, e = t.apply(i, u), o ? (window.clearTimeout(o), o = null) : u = []) : o || (o = window.setTimeout(c, f)), e
            };
        return a.cancel = function() {
            o && (window.clearTimeout(o), h = 0, o = null, u = [])
        }, a.flushPending = function() {
            o && (window.clearTimeout(o), c())
        }, a
    }
    var Gn, Vn;
    ! function(t) {
        t[t.SPACE = 0] = "SPACE", t[t.ENTER = 1] = "ENTER", t[t.BACKSPACE = 2] = "BACKSPACE", t[t.DELETE = 3] = "DELETE", t[t.ARROWUP = 4] = "ARROWUP", t[t.ARROWDOWN = 5] = "ARROWDOWN", t[t.ARROWLEFT = 6] = "ARROWLEFT", t[t.ARROWRIGHT = 7] = "ARROWRIGHT", t[t.CAPSLOCK = 8] = "CAPSLOCK", t[t.SHIFT = 9] = "SHIFT", t[t.TAB = 10] = "TAB", t[t.ALPHANUMERICAL = 11] = "ALPHANUMERICAL", t[t.ESCAPE = 12] = "ESCAPE", t[t.END = 13] = "END", t[t.ALT = 14] = "ALT", t[t.CTRL = 15] = "CTRL", t[t.META = 16] = "META"
    }(Gn || (Gn = {})),
    function(t) {
        t[t.COPY = 0] = "COPY", t[t.CUT = 1] = "CUT", t[t.PASTE = 2] = "PASTE"
    }(Vn || (Vn = {}));
    var Jn = function() {
            function t() {}
            return t.isEmpty = function() {
                return 0 === t.Cn.length
            }, t.add = function(n) {
                var i;
                (i = csArray.prototype.push).call.apply(i, W([t.Cn], n, !1))
            }, t.getAll = function() {
                return t.Cn
            }, t.clear = function() {
                t.Cn = []
            }, t.Cn = [], t
        }(),
        Wn = 50,
        Kn = .1;
    var Yn = !1;
    var Xn = [],
        $n = [];
    var Zn = function(t) {
            return function(n, i, r) {
                var s = r.value;
                r.value = function() {
                    if (!Yn) return r.value = s, s.apply(this, arguments);
                    ! function(t) {
                        csArray.prototype.push.call(Xn, t), performance.mark("".concat(t, "-start"))
                    }(t);
                    var n = s.apply(this, arguments);
                    return function(t) {
                        var n = performance.measure(t, "".concat(t, "-start"));
                        if (n) {
                            var i = n.duration;
                            i >= Kn && csArray.prototype.push.call($n, {
                                mName: t,
                                mDuration: +i.toFixed(2)
                            }), csArray.prototype.pop.call(Xn), 0 === Xn.length && (i > Wn && Jn.add($n), $n = [])
                        }
                    }(t), n
                }
            }
        },
        Qn = function(t) {
            return function(n, i, r) {
                var s = r.value;
                r.value = function() {
                    for (var n = [], i = 0; i < arguments.length; i++) n[i] = arguments[i];
                    if (!Yn) return r.value = s, s.apply(this, n);
                    ! function(t) {
                        performance.mark("".concat(t, "-start"))
                    }(t);
                    var e = s.apply(this, n);
                    return e.then((function() {
                        ! function(t) {
                            var n = performance.measure(t, "".concat(t, "-start"));
                            if (n) {
                                var i = n.duration;
                                i > Wn && Jn.add([{
                                    mName: t,
                                    mDuration: +i.toFixed(2)
                                }])
                            }
                        }(t)
                    })), e
                }
            }
        };

    function ti(t) {
        var n = csEventtarget.apply(t);
        return n && f(n) && csElementshadowRoot.apply(n) && t.composedPath ? t.__csOriginalTarget || t.composedPath()[0] : n
    }

    function ni() {
        return function(t, n, i) {
            var r = i.value;
            i.value = function(t, n) {
                !1 === (null == t ? void 0 : t.isTrusted) && ni.enabled || r.call(this, t, n)
            }
        }
    }
    ni.enabled = !0;
    var ii, ri = !!window.chrome,
        si = "data-cs-scroll-container";
    ! function(t) {
        t.isEventOnScrollContainer = function(t) {
            return !!(Rt(t) && function(t) {
                try {
                    if (Rt(csEventtarget.apply(t))) return !0
                } catch (t) {}
                return !1
            }(t) && kt(csEventtarget.apply(t)) && null !== csEventtarget.apply(t).getAttribute(si))
        }, t.getScrollContainer = function() {
            return window.csquerySelector[document.nodeType].call(document, "[".concat(si, "]"))
        }
    }(ii || (ii = {}));
    var ei = function() {
        function t(n, i, r, s) {
            var e = this;
            this._n = n, this.Ln = i, this.xn = r, this.Pn = s, this.Mn = new Set, this.Dn = [], this.Un = [{
                type: "pointerup",
                listener: function(t) {
                    return e.pointerUpListener(t)
                },
                boundElement: document
            }, {
                type: "pointermove",
                listener: function(t) {
                    return e.pointerMoveListener(t)
                },
                boundElement: document
            }, {
                type: "pointerdown",
                listener: function(t) {
                    return e.pointerDownListener(t)
                },
                boundElement: document
            }], this.jn = [{
                type: "touchstart",
                listener: function(t) {
                    return e.touchStartListener(t)
                },
                boundElement: document
            }, {
                type: "touchmove",
                listener: function(t) {
                    return e.touchMoveListener(t)
                },
                boundElement: document
            }, {
                type: "touchend",
                listener: function(t) {
                    return e.touchEndListener(t)
                },
                boundElement: document
            }], this.zn = [{
                type: "click",
                listener: function(t) {
                    return e.clickListener(t)
                },
                boundElement: document
            }, {
                type: "keyup",
                listener: this._n.on(t.qn, (function(t) {
                    return e.inputTextListener(t)
                })),
                boundElement: document
            }, {
                type: "keyup",
                listener: this._n.on(t.Bn, (function(t) {
                    return e.inputTextListener(t)
                })),
                boundElement: document
            }, {
                type: "keyup",
                listener: function(t) {
                    return e.keyUpListener(t)
                },
                boundElement: document
            }, {
                type: "keydown",
                listener: function(t) {
                    return e.keyDownListener(t)
                },
                boundElement: document
            }, {
                type: "copy",
                listener: function(t) {
                    return e.copyListener(t)
                },
                boundElement: document
            }, {
                type: "cut",
                listener: function(t) {
                    return e.cutListener(t)
                },
                boundElement: document
            }, {
                type: "paste",
                listener: function(t) {
                    return e.pasteListener(t)
                },
                boundElement: document
            }, {
                type: "change",
                listener: this._n.on(t.Hn, (function(t) {
                    return e.inputCheckableListener(t)
                })),
                boundElement: document
            }, {
                type: "change",
                listener: this._n.on("select", (function(t) {
                    return e.inputSelectListener(t)
                })),
                boundElement: document
            }, {
                type: "change",
                listener: this._n.on(t.Bn, (function(t) {
                    return e.inputTextListener(t)
                })),
                boundElement: document
            }, {
                type: "scroll",
                listener: function(t) {
                    return e.scrollListener(csEventtarget.apply(t))
                },
                boundElement: document
            }, {
                type: "mouseover",
                listener: function(t) {
                    return e.mouseOverListener(t)
                },
                boundElement: document
            }], this.Fn = [{
                type: "change",
                listener: this._n.on(t.Hn, (function(t) {
                    return e.inputCheckableListener(t)
                }))
            }, {
                type: "change",
                listener: this._n.on("select", (function(t) {
                    return e.inputSelectListener(t)
                }))
            }, {
                type: "change",
                listener: this._n.on(t.Bn, (function(t) {
                    return e.inputTextListener(t)
                }))
            }, {
                type: "scroll",
                listener: function(t) {
                    return e.scrollListener(csEventtarget.apply(t))
                }
            }];
            var u = function(t) {
                if (!St(t)) return null;
                var n = /iP(ad|hone|od).+Version\/(\d+)\..*Safari/i.exec(t);
                return n ? Number(n[2]) : null
            }(window.navigator.userAgent);
            (null === u || u && u >= 16) && csArray.prototype.push.call(this.Fn, {
                type: "mouseover",
                listener: function(t) {
                    return e.mouseOverListener(t)
                }
            })
        }
        var n;
        return t.prototype.init = function() {
            this.Gn(), this.Vn(), this.Jn(), this.Wn(), this.Pn.onInputNodeToEncrypt(this.Kn.bind(this))
        }, t.prototype.Wn = function() {
            var t = this;
            this.Ln.onDocumentIdentified((function(n) {
                t.Yn(n)
            }))
        }, t.prototype.onEvent = function(t) {
            csArray.prototype.push.call(this.Dn, t)
        }, t.prototype.Kn = function(t, n) {
            void 0 === n && (n = !1), csArray.prototype.forEach.call(this.Dn, (function(i) {
                return i(t, n)
            }))
        }, t.prototype.start = function() {
            this.Xn()
        }, t.prototype.stop = function() {
            this.$n()
        }, t.prototype.Vn = function() {
            var t;
            this.Zn() && (t = csArray.prototype.push).call.apply(t, W([this.zn], this.Un, !1))
        }, t.prototype.Gn = function() {
            var t;
            this.Qn() && (t = csArray.prototype.push).call.apply(t, W([this.zn], this.jn, !1))
        }, t.prototype.Yn = function(t) {
            A(t) ? csArray.prototype.forEach.call(this.zn, (function(t) {
                return qn(t)
            })) : this.Mn.has(t) || (this.Mn.add(t), csArray.prototype.forEach.call(this.Fn, (function(n) {
                var i = n;
                i.boundElement = t, qn(i)
            })))
        }, t.prototype.ti = function(t) {
            A(t) ? csArray.prototype.forEach.call(this.zn, (function(t) {
                return Bn(t)
            })) : (this.Mn.delete(t), csArray.prototype.forEach.call(this.Fn, (function(n) {
                var i = n;
                i.boundElement = t, Bn(i)
            })))
        }, t.prototype.Zn = function() {
            return "PointerEvent" in window && "function" == typeof window.PointerEvent
        }, t.prototype.Qn = function() {
            return "TouchEvent" in window && "function" == typeof window.TouchEvent
        }, t.prototype.$n = function() {
            var t = this;
            this.ti(document), this.Mn.forEach((function(n) {
                return t.ti(n)
            }))
        }, t.prototype.Xn = function() {
            this.ni(t.qn), this.ii(), this.si(), this.ei(), this.ni(t.Bn)
        }, t.prototype.ni = function(t) {
            for (var n, i = window.csquerySelectorAll[document.nodeType].call(document, t), r = 0; r < i.length; r += 1) {
                var s = i.item(r);
                (null === (n = s.value) || void 0 === n ? void 0 : n.length) > 0 && this.ui(s, !0)
            }
        }, t.prototype.ii = function() {
            var t = ii.getScrollContainer() || document,
                n = this.Ln.getId(t);
            if (n) {
                var i = this.oi(t);
                if (0 !== i.top || 0 !== i.left) {
                    var r = {
                        type: Mn.SCROLL,
                        args: [n, i.left, i.top],
                        date: pt()
                    };
                    this.Kn(r, !0)
                }
            }
        }, t.prototype.si = function() {
            for (var t = document.getElementsByTagName("select"), n = 0; n < t.length; n += 1) this.hi(t[n], !0)
        }, t.prototype.ei = function() {
            for (var n = window.csquerySelectorAll[document.nodeType].call(document, t.Hn), i = 0; i < n.length; i += 1) this.ci(n[i], !0)
        }, t.prototype.oi = function(t) {
            return t === document ? {
                top: window.pageYOffset,
                left: window.pageXOffset
            } : {
                top: t.scrollTop,
                left: t.scrollLeft
            }
        }, t.prototype.scrollListener = function(t) {
            if (!this.xn.isSensitive(t) && !this.xn.isSensitiveChild(t)) {
                var n = this.Ln.getId(t);
                if (n) {
                    var i = this.oi(t),
                        r = {
                            type: Mn.SCROLL,
                            args: [n, i.left, i.top],
                            date: pt()
                        };
                    this.Kn(r)
                }
            }
        }, t.prototype.mouseOverListener = function(t) {
            if (!this.xn.isSensitiveChild(t.target)) {
                var n = this.Ln.getId(t.target);
                if (n) {
                    var i = {
                        type: Mn.MOUSE_OVER,
                        args: [n],
                        date: pt()
                    };
                    this.Kn(i)
                }
            }
        }, t.prototype.clickListener = function(t) {
            var n = ti(t);
            if (!this.xn.isSensitiveChild(n)) {
                var i = this.Ln.getId(n);
                if (i) {
                    var r = {
                        type: Mn.CLICK,
                        args: [i],
                        date: pt()
                    };
                    this.Kn(r)
                }
            }
        }, t.prototype.inputCheckableListener = function(t) {
            var n = ti(t);
            this.ci(n)
        }, t.prototype.ci = function(t, n) {
            if (void 0 === n && (n = !1), !this.xn.isSensitive(t) && !this.xn.isSensitiveChild(t)) {
                var i = this.Ln.getId(t);
                if (i) {
                    var r = {
                        type: Mn.INPUT_CHECKABLE,
                        args: [i, t.checked],
                        date: pt()
                    };
                    this.Kn(r, n)
                }
            }
        }, t.prototype.inputSelectListener = function(t) {
            var n = ti(t);
            this.hi(n)
        }, t.prototype.hi = function(t, n) {
            if (void 0 === n && (n = !1), !this.xn.isSensitive(t) && !this.xn.isSensitiveChild(t)) {
                var i = this.Ln.getId(t);
                if (i) {
                    var r = {
                        type: Mn.INPUT_SELECT,
                        args: [i, t.selectedIndex],
                        date: pt()
                    };
                    this.Kn(r, n)
                }
            }
        }, t.prototype.inputTextListener = function(t) {
            var n = ti(t);
            this.ui(n)
        }, t.prototype.ui = function(t, n) {
            var i;
            if (void 0 === n && (n = !1), !this.xn.isSensitive(t) && !this.xn.isSensitiveChild(t)) {
                var r = this.Ln.getId(t);
                if (r) {
                    var s = null !== (i = t.value) && void 0 !== i ? i : "";
                    if (this.Pn.shouldEncrypt(t)) this.Pn.registerInputNodeToEncrypt({
                        targetId: r,
                        targetValue: s,
                        date: pt()
                    });
                    else {
                        var e = "number" === t.type ? "0" : "",
                            u = {
                                type: Mn.INPUT_TEXT,
                                args: [r, csString.prototype.replace.call(s, /\S/g, e)],
                                date: pt()
                            };
                        this.Kn(u, n)
                    }
                }
            }
        }, t.prototype.keyUpListener = function(t) {
            var n = ti(t);
            if (!this.xn.isSensitiveChild(n)) {
                var i = this.Ln.getId(n);
                if (i) {
                    var r = this.ai[t.key];
                    if (void 0 !== r) {
                        var s = {
                            type: Mn.KEY_UP,
                            args: [i, r],
                            date: pt()
                        };
                        this.Kn(s)
                    }
                }
            }
        }, t.prototype.keyDownListener = function(t) {
            var n = ti(t);
            if (!this.xn.isSensitiveChild(n)) {
                var i = this.Ln.getId(n);
                if (i) {
                    var r = this.ai[t.key];
                    if (void 0 !== r) {
                        var s = {
                            type: Mn.KEY_DOWN,
                            args: [i, r],
                            date: pt()
                        };
                        this.Kn(s)
                    }
                }
            }
        }, t.prototype.copyListener = function(t) {
            var n = ti(t);
            if (!this.xn.isSensitiveChild(n)) {
                var i = this.Ln.getId(n);
                if (i) {
                    var r = {
                        type: Mn.CLIPBOARD_COMMAND,
                        args: [i, Vn.COPY],
                        date: pt()
                    };
                    this.Kn(r)
                }
            }
        }, t.prototype.cutListener = function(t) {
            var n = ti(t);
            if (!this.xn.isSensitiveChild(n)) {
                var i = this.Ln.getId(n);
                if (i) {
                    var r = {
                        type: Mn.CLIPBOARD_COMMAND,
                        args: [i, Vn.CUT],
                        date: pt()
                    };
                    this.Kn(r)
                }
            }
        }, t.prototype.pasteListener = function(t) {
            var n = ti(t);
            if (!this.xn.isSensitiveChild(n)) {
                var i = this.Ln.getId(n);
                if (i) {
                    var r = {
                        type: Mn.CLIPBOARD_COMMAND,
                        args: [i, Vn.PASTE],
                        date: pt()
                    };
                    this.Kn(r)
                }
            }
        }, t.prototype.pointerUpListener = function(t) {
            var n = ti(t);
            if (!this.xn.isSensitiveChild(n)) {
                var i = this.Ln.getId(n);
                if (i) {
                    var r = {
                        type: Mn.POINTER_UP,
                        args: [t.pointerId, t.pointerType, Hn(t.clientX, 1), Hn(t.clientY, 1), i, t.button],
                        date: pt()
                    };
                    this.Kn(r)
                }
            }
        }, t.prototype.pointerMoveListener = function(t) {
            var n = {
                type: Mn.POINTER_MOVE,
                args: [t.pointerId, t.pointerType, Hn(t.clientX, 1), Hn(t.clientY, 1)],
                date: pt()
            };
            this.Kn(n)
        }, t.prototype.pointerDownListener = function(t) {
            var n = ti(t);
            if (!this.xn.isSensitiveChild(n)) {
                var i = this.Ln.getId(n);
                if (i) {
                    var r = {
                        type: Mn.POINTER_DOWN,
                        args: [t.pointerId, t.pointerType, Hn(t.clientX, 1), Hn(t.clientY, 1), i, t.button, {
                            pageX: Hn(t.pageX, 1),
                            pageY: Hn(t.pageY, 1)
                        }],
                        date: pt()
                    };
                    this.Kn(r)
                }
            }
        }, t.prototype.touchStartListener = function(t) {
            if (t.changedTouches)
                for (var n = t.changedTouches, i = 0; i < n.length; i += 1) {
                    var r = n[i],
                        s = {
                            type: Mn.TOUCH_START,
                            args: [r.identifier, Hn(r.clientX, 1), Hn(r.clientY, 1)],
                            date: pt()
                        };
                    this.Kn(s)
                }
        }, t.prototype.touchMoveListener = function(t) {
            if (t.changedTouches)
                for (var n = t.changedTouches, i = 0; i < n.length; i += 1) {
                    var r = n[i],
                        s = {
                            type: Mn.TOUCH_MOVE,
                            args: [r.identifier, Hn(r.clientX, 1), Hn(r.clientY, 1)],
                            date: pt()
                        };
                    this.Kn(s)
                }
        }, t.prototype.touchEndListener = function(t) {
            if (t.changedTouches)
                for (var n = t.changedTouches, i = 0; i < n.length; i += 1) {
                    var r = n[i],
                        s = {
                            type: Mn.TOUCH_END,
                            args: [r.identifier, Hn(r.clientX, 1), Hn(r.clientY, 1)],
                            date: pt()
                        };
                    this.Kn(s)
                }
        }, t.prototype.Jn = function() {
            this.ai = {}, this.ai[" "] = Gn.SPACE, this.ai.Spacebar = Gn.SPACE, this.ai.Backspace = Gn.BACKSPACE, this.ai.Enter = Gn.ENTER, this.ai.Delete = Gn.DELETE, this.ai.ArrowUp = Gn.ARROWUP, this.ai.ArrowDown = Gn.ARROWDOWN, this.ai.ArrowLeft = Gn.ARROWLEFT, this.ai.ArrowRight = Gn.ARROWRIGHT, this.ai.Up = Gn.ARROWUP, this.ai.Down = Gn.ARROWDOWN, this.ai.Left = Gn.ARROWLEFT, this.ai.Right = Gn.ARROWRIGHT, this.ai.CapsLock = Gn.CAPSLOCK, this.ai.Shift = Gn.SHIFT, this.ai.Tab = Gn.TAB, this.ai.Escape = Gn.ESCAPE, this.ai.Esc = Gn.ESCAPE, this.ai.End = Gn.END, this.ai.Alt = Gn.ALT, this.ai.Control = Gn.CTRL, this.ai.Meta = Gn.META
        }, t.qn = csArray.prototype.join.call(["textarea", "input:not([type])", 'input[type="text"]', 'input[type="email"]', 'input[type="search"]', 'input[type="tel"]', 'input[type="url"]', 'input[type="password"]'], ","), t.Hn = csArray.prototype.join.call(['input[type="checkbox"]', 'input[type="radio"]'], ","), t.Bn = 'input[type="number"]', G([Zn("RecordingPageEvents.start")], t.prototype, "start", null), G([tn("scroll")], t.prototype, "scrollListener", null), G([tn("mouseOver"), ni(), function(t, n, i) {
            var r = i.value;
            return r && (i.value = function(t) {
                if (ti(t) === csEventtarget.apply(t)) return r.call(this, t)
            }), i
        }], t.prototype, "mouseOverListener", null), G([tn("click"), ni()], t.prototype, "clickListener", null), G([tn("checkable")], t.prototype, "inputCheckableListener", null), G([tn("select")], t.prototype, "inputSelectListener", null), G([tn("text")], t.prototype, "inputTextListener", null), G([tn("Event handler type: keyup")], t.prototype, "keyUpListener", null), G([tn("Event handler type: keydown")], t.prototype, "keyDownListener", null), G([tn("Event handler type: copy")], t.prototype, "copyListener", null), G([tn("Event handler type: cut")], t.prototype, "cutListener", null), G([tn("Event handler type: paste")], t.prototype, "pasteListener", null), G([tn("Event handler type: pointerup"), ni()], t.prototype, "pointerUpListener", null), G([tn("Event handler type: pointermove"), ni(), (n = {
            wait: 33,
            ignoreThrottledCalls: !0
        }, function(t, i, r) {
            r.value = Fn(r.value, n)
        })], t.prototype, "pointerMoveListener", null), G([tn("Event handler type: pointerdown"), ni()], t.prototype, "pointerDownListener", null), G([tn("Event handler type: touchstart"), ni()], t.prototype, "touchStartListener", null), G([tn("Event handler type: touchmove"), ni()], t.prototype, "touchMoveListener", null), G([tn("Event handler type: touchend"), ni()], t.prototype, "touchEndListener", null), t
    }();

    function ui(t) {
        for (var n, i = null !== (n = t.length) && void 0 !== n ? n : 0, r = new csArray(i), s = 0; s < i; s += 1) r[s] = t[s];
        return r
    }

    function oi(t, n) {
        if (t.length >= 0)
            for (var i = t.length, r = 0; r < i; r++) n(t[r], r);
        else
            for (var s = 0, e = t.next(); !e.done;) n(e.value, s++), e = t.next()
    }

    function hi(t, n) {
        for (var i = t.length, r = [], s = 0; s < i; s += 1) {
            var e = t[s];
            n(e) && csArray.prototype.push.call(r, e)
        }
        return r
    }
    var ci, ai, fi, vi = function() {
            function t(t, n, i, r, s, e, u) {
                void 0 === u && (u = document);
                var o = this;
                this.fi = t, this.vi = n, this.li = i, this.wi = r, this.Ln = s, this.xn = e, this.yi = u, this.pi = !1, this.mi = function(t) {
                    o.wi.emitInitialDomDone(t)
                }, this.vi.onCharacterDataMutation((function(t) {
                    o.gi(t)
                })), this.vi.onAttributesMutation((function(t) {
                    o.xn.isSensitive(t.target) && "src" === t.attributeName && w(t.target) && (o.xn.unidentifySensitiveNodes(t.target), o.xn.identifySensitiveNodes(t.target)), o.Ai(t)
                })), this.vi.onChildListMutation((function(t, n) {
                    oi(t.addedNodes, (function(t) {
                        o.xn.identifySensitiveNodes(t), o.Ln.identifyNodes(t, n)
                    })), o.Ei(t, n), oi(t.removedNodes, (function(t) {
                        o.xn.unidentifySensitiveNodes(t)
                    }))
                })), this.vi.onAttachShadowMutation((function(t) {
                    t.target.isConnected && null !== csElementshadowRoot.apply(t.target) && (o.xn.identifySensitiveNodes(t.target), o.Ln.identifyNodes(csElementshadowRoot.apply(t.target)), o.Si(t))
                }))
            }
            return t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.isStarted = function() {
                return this.pi
            }, t.prototype.start = function() {
                this.isStarted() || (this.pi = !0, this.vi.start(), this.Ti())
            }, t.prototype.stop = function() {
                this.isStarted() && (this.pi = !1, this.xn.unidentifySensitiveNodes(this.yi), this.vi.stop())
            }, t.prototype.flushEvents = function() {
                this.vi.flushPendingMutations()
            }, t.prototype.Ti = function() {
                this.wi.emitInitialDomStart(), this.xn.identifySensitiveNodes(this.yi), this.Ln.identifyNodes(this.yi), this.fi.serializeInitialDom(this.yi, this.mi)
            }, t.prototype.Si = function(t) {
                if (!this.xn.isSensitive(t.target) && !this.xn.isSensitiveChild(t.target)) {
                    var n = this.fi.serializeAttachShadowEvent(t);
                    if (n) {
                        var i = {
                            args: n,
                            date: t.date,
                            type: Mn.ATTACH_SHADOW
                        };
                        this.bi(i)
                    }
                }
            }, t.prototype.Ai = function(t) {
                if (!this.xn.isSensitiveChild(t.target) && !this.xn.isSensitiveAttribute(t.target, t.attributeName)) {
                    var n = this.fi.serializeMutationAttribute(t);
                    if (n) {
                        var i = {
                            args: n,
                            date: t.date,
                            type: Mn.MUTATION_ATTRIBUTE
                        };
                        this.bi(i), this.li.scanAttribute(t.target, t.attributeName)
                    }
                }
            }, t.prototype.gi = function(t) {
                var n = t.target.parentElement;
                if (!n || !this.xn.isSensitive(n) && !this.xn.isSensitiveChild(n)) {
                    var i = this.fi.serializeMutationCharacterData(t);
                    if (i) {
                        var r = {
                            args: i,
                            date: t.date,
                            type: Mn.MUTATION_CHARACTER_DATA
                        };
                        this.bi(r), this.li.scanText(t.target)
                    }
                }
            }, t.prototype.Ei = function(t, n) {
                var i = this;
                if (!this.xn.isSensitive(t.target) && !this.xn.isSensitiveChild(t.target)) {
                    var r = this.fi.serializeMutationChildList(t, n);
                    if (r) {
                        var s = r.removedNodes,
                            e = r.addedNodes;
                        csArray.prototype.forEach.call(s, (function(n) {
                            var r = {
                                args: n,
                                date: t.date,
                                type: Mn.MUTATION_REMOVE
                            };
                            i.bi(r)
                        })), csArray.prototype.forEach.call(e, (function(n) {
                            var r = {
                                args: n,
                                date: t.date,
                                type: Mn.MUTATION_INSERT
                            };
                            i.bi(r)
                        }))
                    }
                }
            }, t
        }(),
        li = function() {
            function t(t) {
                this.Ri = t, this.Ni = 0
            }
            return t.prototype.addString = function(t) {
                this.Ni += 2 * t.length
            }, t.prototype.addArrayBuffer = function(t) {
                this.Ni += t.byteLength
            }, t.prototype.isThresholdReached = function() {
                return this.Ni > this.Ri
            }, t.prototype.reset = function() {
                this.Ni = 0
            }, t
        }(),
        di = function() {
            function t(t, n) {
                void 0 === t && (t = []), void 0 === n && (n = 512e3), this.ki = t, this.Oi = new li(n)
            }
            return t.prototype.addEvent = function(t) {
                this.Oi.addString(rt(t)), csArray.prototype.push.call(this.ki, t)
            }, t.prototype.addEventByTimestamp = function(t) {
                for (var n = 0; n < this.ki.length; n += 1) {
                    if (this.ki[n].date > t.date) break
                }
                csArray.prototype.splice.call(this.ki, n, 0, t)
            }, t.prototype.eventsCount = function() {
                return this.ki.length
            }, t.prototype.clearEvents = function() {
                this.Oi.reset(), this.ki = []
            }, t.prototype.isFull = function() {
                return this.eventsCount() >= 200
            }, t.prototype.isThresholdReached = function() {
                return this.Oi.isThresholdReached()
            }, t.prototype.getEvents = function() {
                return this.ki
            }, t.prototype.extractEvents = function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                var i = [],
                    r = [];
                return csArray.prototype.forEach.call(this.ki, (function(n) {
                    -1 !== csArray.prototype.indexOf.call(t, n.type) ? csArray.prototype.push.call(i, n) : csArray.prototype.push.call(r, n)
                })), this.ki = r, i
            }, t.prototype.stringifyEvents = function() {
                return rt(this.ki)
            }, G([Zn("RecordingBatch.addEvent")], t.prototype, "addEvent", null), t
        }(),
        wi = function() {
            function t() {
                this.Ii = 1
            }
            return t.prototype.getCurrentIndex = function() {
                return this.Ii
            }, t.prototype.increment = function() {
                this.Ii += 1
            }, t.prototype.reset = function() {
                this.Ii = 1
            }, t.prototype.getRequestParameters = function() {
                return {
                    ri: "".concat(this.Ii)
                }
            }, t
        }(),
        yi = function() {
            function t() {}
            return t.prototype.emit = function(n, i) {
                var r = "".concat(t.Ci, ".").concat(n),
                    s = t.createEvent(r, {
                        detail: i
                    });
                null !== s && document.dispatchEvent(s)
            }, t.createEvent = function(t, n) {
                if (void 0 === n && (n = {}), "function" == typeof CustomEvent) return new CustomEvent(t, n);
                var i = this._i();
                if (null === i) return null;
                var r = n.bubbles,
                    s = void 0 !== r && r,
                    e = n.cancelable,
                    u = void 0 !== e && e,
                    o = n.detail;
                return i.initCustomEvent(t, s, u, o), i
            }, t._i = function() {
                try {
                    return document.createEvent("CustomEvent")
                } catch (t) {
                    return null
                }
            }, t.Ci = "cs.tracking", t
        }(),
        pi = function() {
            function t() {
                this.isStarted = !1
            }
            return t.prototype.start = function() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                this.isStarted || (this.isStarted = !0, this.onStart.apply(this, t))
            }, t.prototype.stop = function() {
                this.isStarted && (this.isStarted = !1, this.onStop())
            }, t.prototype.restart = function() {
                this.stop(), this.start()
            }, t
        }(),
        mi = function(t) {
            function n(n, i, r, s, e, u, o, h, c, a, f, v, l, d, w, y, p, m, g, A, E, S, b, T) {
                void 0 === T && (T = []);
                var R = t.call(this) || this;
                return R.P = n, R.Li = i, R.xi = r, R.Pi = s, R.Mi = e, R.Di = u, R.Ui = o, R.ji = h, R.zi = c, R.qi = a, R.Bi = f, R.W = v, R.li = l, R.Hi = d, R.Fi = w, R.Gi = y, R.Vi = p, R.Ji = m, R.Pn = g, R.Wi = A, R.Ki = E, R.Yi = S, R.Xi = b, R.$i = T, R.Zi = 0, R.Qi = 0, R.tr = 0, R.nr = new yi, R.ir = {
                    allowFromQuotaService: !0,
                    allowFromSerialization: !0
                }, R.rr = Fn((function() {
                    R.Li.eventsCount() > 0 && R.er()
                }), 2e3), R.ur = function(t) {
                    return R.processBrowserEvent(t)
                }, R.hr = function(t) {
                    return R.cr(t)
                }, R.ar = 0, R.vr = 0, R.lr = function(t) {
                    R.Yi.removeBatchInProgress("".concat(t.params.sn, ".").concat(t.params.pn, ".").concat(t.params.ri))
                }, R
            }
            return H(n, t), n.prototype.init = function() {
                this.wr(), this.Ki.onLoad(this.lr), this.Ki.onError(this.lr)
            }, n.prototype.wr = function() {
                var t = this;
                this.Di.onEvent(this.ur), this.Ui.onEvent(this.ur), this.zi.onEvent(this.ur), this.ji.onEvent(this.hr), this.li.onEvent(this.ur), this.Hi.onEvent(this.ur), oi(this.$i, (function(n) {
                    return n.onEvent(t.ur)
                })), this.qi.onEvent(this.hr), this.Pn.onTextNodeToEncrypt(this.ur), this.Pn.onApiErrorToEncrypt((function(n) {
                    t.yr(n)
                })), this.Xi.onEvent(this.ur), this.Pn.onUserIdentifierToEncrypt(this.ur), this.Wi.onEvent(this.ur)
            }, n.prototype.isRecording = function() {
                return this.W.hasValidSession() && this.isStarted
            }, n.prototype.isMutationTrackerStarted = function() {
                return this.Ui.isStarted()
            }, n.prototype.blockSendingEventsFromQuotaService = function() {
                this.ir.allowFromQuotaService = !1
            }, n.prototype.allowSendingEventsFromQuotaService = function() {
                this.ir.allowFromQuotaService = !0
            }, n.prototype.blockSendingEventsFromSerialization = function() {
                this.ir.allowFromSerialization = !1
            }, n.prototype.allowSendingEventsFromSerialization = function() {
                this.ir.allowFromSerialization = !0
            }, n.prototype.canSendEvents = function() {
                return this.ir.allowFromQuotaService && this.ir.allowFromSerialization
            }, n.prototype.onIframeJavascriptError = function(t) {
                this.pr(t)
            }, n.prototype.onIframeDetailedApiError = function(t) {
                this.mr(t)
            }, n.prototype.onIframeRecordingUserEvent = function(t) {
                for (var n = 0, i = t; n < i.length; n++) {
                    var r = i[n];
                    this.cr(r)
                }
            }, n.prototype.onIframeRecordingBrowserEvent = function(t) {
                if (this.isMutationTrackerStarted())
                    for (var n = 0, i = t; n < i.length; n++) {
                        var r = i[n];
                        this.processBrowserEvent(r)
                    }
            }, n.prototype.processBrowserEvent = function(t) {
                this.W.hasValidSession() && this.gr(t)
            }, n.prototype.cr = function(t) {
                this.Bi.isSessionValid() && this.gr(t)
            }, n.prototype.gr = function(t) {
                this.Li.addEvent(t), this.Li.isThresholdReached() ? this.pushEvents() : this.Li.isFull() && this.rr(), this.Ar(t)
            }, n.prototype.Ar = function(t) {
                this.P.emitDebugEvents && this.nr.emit("recordingEvent", F(F({}, t), {
                    typeName: Mn[t.type]
                }))
            }, n.prototype.onStart = function() {
                var t = this;
                this.initStates(), this.Mi.start(), this.Wi.start(), oi(this.$i, (function(t) {
                    return t.start()
                })), this.Hi.start(), this.Ui.start(), this.Di.start(), this.zi.start(), this.qi.start(), this.Xi.start(), this.Fi && this.Gi && this.Fi.subscribe(n.Er, (function(n) {
                    return t.pr(n)
                })), this.Vi && this.Ji && this.Vi.subscribe(n.Er, (function(n) {
                    return t.mr(n)
                }), {
                    detailedEvent: !0
                }), this.P.emitDebugEvents && this.nr.emit("replayRecordingStarted")
            }, n.prototype.onStop = function() {
                this.Mi.stop(), this.Di.stop(), this.Ui.stop(), this.zi.stop(), this.ji.stop(), this.Fi && this.Fi.unsubscribe(n.Er), this.Vi && this.Vi.unsubscribe(n.Er), oi(this.$i, (function(t) {
                    return t.stop()
                })), this.qi.stop(), this.Wi.stop(), this.Xi.stop()
            }, n.prototype.clearStates = function() {
                this.Ui.flushEvents(), this.rr.cancel(), this.pushEvents(), this.Ki.removeQueryParams()
            }, n.prototype.initStates = function() {
                this.ar = pt(), this.Pi.reset(), this.Zi = 0, this.Qi = 0, this.tr = 0, this.Ki.setQueryParams(this.xi.getRequestParameters())
            }, n.prototype.pushEvents = function() {
                oi(this.$i, (function(t) {
                    var n;
                    return null === (n = t.flushEvents) || void 0 === n ? void 0 : n.call(t)
                })), this.Li.eventsCount() > 0 && (this.isStarted ? this.er() : this.Li.clearEvents())
            }, n.prototype.er = function() {
                if (this.canSendEvents()) {
                    var t = this.Li.getEvents();
                    this.vr = t[t.length - 1].date;
                    var n = this.Pi.getCurrentIndex();
                    this.Ki.setQueryParams({
                        ri: n.toString(),
                        rst: this.getRecordingStartTimestamp(),
                        let: this.getRecordingLastEventTimestamp()
                    });
                    var i = this.Ki.getQueryParams();
                    this.Yi.addBatchInProgress("".concat(i.sn, ".").concat(i.pn, ".").concat(n), this.Ki.getQueryParams(), t), this.Ki.send(t), this.Pi.increment(), this.Li.clearEvents(), this.Sr && this.Sr()
                }
            }, n.prototype.addInitialDom = function(t) {
                this.Li.addEventByTimestamp(t), this.Ar(t)
            }, n.prototype.mr = function(t) {
                t.customRequestHeaders || t.customResponseHeaders || t.queryParameters || t.requestBody || t.responseBody ? this.Pn.registerApiErrorToEncrypt(t) : this.yr(t)
            }, n.prototype.yr = function(t) {
                if (this.Qi < n.br) {
                    var i = {
                        type: Mn.API_ERROR,
                        date: pt(),
                        args: [this.Ji.anonymize(t)]
                    };
                    this.ur(i), this.Qi = this.Qi + 1
                }
            }, n.prototype.pr = function(t) {
                if (this.Zi < n.Tr) {
                    var i = {
                        type: Mn.JAVASCRIPT_ERROR,
                        date: pt(),
                        args: [this.Gi.anonymize(t)]
                    };
                    this.ur(i), this.Zi = this.Zi + 1
                }
            }, n.prototype.Rr = function(t) {
                if (this.tr < n.Nr) {
                    var i = {
                        type: Mn.CUSTOM_ERROR,
                        date: pt(),
                        args: [t]
                    };
                    this.ur(i), this.tr = this.tr + 1
                }
            }, n.prototype.kr = function(t) {
                var i, r;
                this.isStarted && (t === ln.ETR_SESSION ? this.Ki.setQueryParams(((i = {})[n.Or] = n.Ir, i)) : t === ln.ETR_PAGE && this.Ki.setQueryParams(((r = {})[n.Cr] = n.Ir, r)))
            }, n.prototype.clearEvents = function() {
                this.Li.clearEvents()
            }, n.prototype.onCustomJavaScriptErrorEvent = function(t) {
                this.pr(t)
            }, n.prototype.onCustomErrorEvent = function(t) {
                this.Rr(t)
            }, n.prototype.onPageEvent = function(t) {
                this._r(t)
            }, n.prototype.onUserIdentifierEvent = function(t) {
                var n = {
                    userIdentifier: t,
                    date: pt(),
                    keyId: this.P.encryptionPublicKeyId
                };
                this.Pn.registerUserIdentifierToEncrypt(n)
            }, n.prototype.onEventTriggerRecording = function(t, n) {
                this.kr(n), this._r(t), this.pushEvents()
            }, n.prototype._r = function(t) {
                var i = {
                    type: Mn.PAGE_EVENT,
                    date: pt(),
                    args: [{
                        eventName: csString.prototype.slice.call(t, 0, n.Lr)
                    }]
                };
                this.Li.addEvent(i)
            }, n.prototype.triggerConsentGranted = function() {
                var t = {
                    date: pt(),
                    type: Mn.CONSENT_GRANTED
                };
                this.Li.addEvent(t)
            }, n.prototype.triggerConsentWithdrawn = function() {
                var t = {
                    date: pt(),
                    type: Mn.CONSENT_WITHDRAWN
                };
                this.Li.addEvent(t)
            }, n.prototype.onRecordingRequestSent = function(t) {
                this.Sr = t
            }, n.prototype.getRecordingStartTimestamp = function() {
                return this.ar.toString()
            }, n.prototype.getRecordingLastEventTimestamp = function() {
                return this.vr.toString()
            }, n.Er = "RecordingService", n.Lr = 255, n.Tr = 20, n.br = 20, n.Nr = 20, n.Cr = "etrp", n.Or = "etrs", n.Ir = "1", G([Zn("addInitialDom")], n.prototype, "addInitialDom", null), n
        }(pi),
        gi = function(t) {
            function n(n, i, r, s, e, u) {
                var o = t.call(this) || this;
                return o.Li = n, o.Ft = i, o.P = r, o.Pr = s, o.Ki = e, o.xi = u, o.Mr = !1, o.Dr = {}, o.Ur = function(t) {
                    if (0 !== t.length)
                        for (var n = 0, i = t; n < i.length; n++) {
                            var r = i[n],
                                s = r.metadata,
                                e = r.events;
                            o.jr(s.rt) && o.Ki.send(e, s)
                        }
                }, o.zr = function() {
                    try {
                        if (!o.Mr) return;
                        o.qr();
                        var t = F(F({}, o.Ki.getQueryParams()), o.xi.getRequestParameters());
                        if (!o.jr(t.rt)) return;
                        if (o.sendLastMessageBeacon(), 0 === o.Li.eventsCount()) return;
                        o.P.useMalkaPipeline && (t.hlm = "true");
                        var n = o.Li.getEvents();
                        t.let = n[n.length - 1].date.toString(), o.Ft.save({
                            key: "".concat(t.sn, ".").concat(t.pn, ".").concat(t.ri, ".last"),
                            metadata: F(F({}, t), {
                                datatype: "json"
                            }),
                            events: o.Li.stringifyEvents()
                        })
                    } catch (t) {}
                }, o
            }
            return H(n, t), n.prototype.onStart = function() {
                this.Br(), this.Dr = {}
            }, n.prototype.onStop = function() {
                this.Hr()
            }, n.prototype.recover = function() {
                this.Ft.recover(this.Ur)
            }, n.prototype.addBatchInProgress = function(t, n, i) {
                this.Dr[t] = {
                    metadata: F({}, n),
                    events: i
                }
            }, n.prototype.removeBatchInProgress = function(t) {
                delete this.Dr[t]
            }, n.prototype.blockSendingLastMessage = function() {
                this.Mr = !1
            }, n.prototype.allowSendingLastMessage = function() {
                this.Mr = !0
            }, n.prototype.sendLastMessageBeacon = function() {
                if (this.P.useMalkaPipeline && this.Mr) {
                    var t = this.Ki.getQueryParams(),
                        n = (t.ri, t.rst, t.let, function(t, n) {
                            var i = {};
                            for (var r in t) Object.prototype.hasOwnProperty.call(t, r) && n.indexOf(r) < 0 && (i[r] = t[r]);
                            if (null != t && "function" == typeof Object.getOwnPropertySymbols) {
                                var s = 0;
                                for (r = Object.getOwnPropertySymbols(t); s < r.length; s++) n.indexOf(r[s]) < 0 && Object.prototype.propertyIsEnumerable.call(t, r[s]) && (i[r[s]] = t[r[s]])
                            }
                            return i
                        }(t, ["ri", "rst", "let"]));
                    n.hlm = "true", this.Pr.setQueryParams(n);
                    var i = this.Li.extractEvents(Mn.JAVASCRIPT_ERROR, Mn.API_ERROR, Mn.CUSTOM_ERROR),
                        r = i.length ? rt(i) : "";
                    this.Pr.send(r)
                }
            }, n.prototype.Br = function() {
                window.addEventListener("pagehide", this.zr)
            }, n.prototype.Hr = function() {
                window.removeEventListener("pagehide", this.zr)
            }, n.prototype.jr = function(t) {
                return !this.P.useMalkaPipeline || !!t && -1 === csString.prototype.indexOf.call(t, fn.TEMPORARILY_RECORDED)
            }, n.prototype.qr = function() {
                var t = this;
                csArray.prototype.forEach.call(Object.keys(this.Dr), (function(n) {
                    var i = t.Dr[n],
                        r = i.metadata,
                        s = i.events;
                    t.Ft.save({
                        key: "".concat(r.sn, ".").concat(r.pn, ".").concat(r.ri),
                        metadata: F(F({}, r), {
                            datatype: "json"
                        }),
                        events: csJSON.stringify(s)
                    })
                }))
            }, G([tn("RecordingRecovery")], n.prototype, "recover", null), n
        }(pi);
    ! function(t) {
        t.isSupported = function() {
            return !!Element.prototype.attachShadow
        }, t.getShadowRoot = function(t) {
            return t && (f(n = t) && csElementshadowRoot.apply(n) && E(csElementshadowRoot.apply(n))) ? t.shadowRoot : null;
            var n
        }, t.getAllShadowHosts = function t(n) {
            for (var i, r, s = document.createNodeIterator(n, NodeFilter.SHOW_ELEMENT, null, !1), e = []; r = s.nextNode();) csElementshadowRoot.apply(r) && (i = csArray.prototype.push).call.apply(i, W([e, r], t(csElementshadowRoot.apply(r)), !1));
            return e
        }
    }(ci || (ci = {})),
    function(t) {
        function n() {
            var t = [r()];
            return document.documentElement && csArray.prototype.push.call(t, document.documentElement.scrollHeight, document.documentElement.offsetHeight, document.documentElement.clientHeight), document.body && csArray.prototype.push.call(t, document.body.scrollHeight, document.body.offsetHeight), Math.max.apply(Math, t)
        }

        function i() {
            return document.documentElement.scrollWidth
        }

        function r() {
            return window.innerHeight
        }

        function s() {
            return window.innerWidth
        }

        function e() {
            var t = window.csScreen.width;
            return Et(t) && t > 0 ? t : window.screen.width
        }

        function u() {
            var t = window.csScreen.height;
            return Et(t) && t > 0 ? t : window.screen.height
        }
        t.documentHeight = n, t.documentWidth = i, t.windowHeight = r, t.windowWidth = s, t.screenWidth = e, t.screenHeight = u, t.windowOffsetX = function() {
            return window.pageXOffset
        }, t.windowOffsetY = function() {
            return window.pageYOffset
        }, t.getRequestParameters = function() {
            return {
                dw: "".concat(i()),
                dh: "".concat(n()),
                ww: "".concat(s()),
                wh: "".concat(r()),
                sw: "".concat(e()),
                sh: "".concat(u())
            }
        }
    }(ai || (ai = {})),
    function(t) {
        var n = "isConnected" in Node.prototype ? function(t) {
            return t.isConnected
        } : function(t) {
            return !(t.ownerDocument && t.ownerDocument.compareDocumentPosition(t) & t.DOCUMENT_POSITION_DISCONNECTED)
        };

        function i(t) {
            var n;
            return t.parentElement ? t.parentElement : t.getRootNode ? null === (n = t.getRootNode()) || void 0 === n ? void 0 : n.host : null
        }

        function r(t) {
            var n, i;
            if (!1 === (null === (n = t.checkVisibility) || void 0 === n ? void 0 : n.call(t, {
                    checkOpacity: !0,
                    checkVisibilityCSS: !0
                }))) return !0;
            if (!t.offsetParent) {
                if (!t.getBoundingClientRect) return Yt.warn("SUP-11432: Element doesn't have getBoundingClientRect. Node: ".concat(t instanceof Node, " Ctor: ").concat(null === (i = null == t ? void 0 : t.constructor) || void 0 === i ? void 0 : i.name)), !1;
                var r = t.getBoundingClientRect();
                if (0 == r.width && 0 == r.height) return !0
            }
            var s, e = window.getComputedStyle(t);
            return !e || ("none" === e.display || "hidden" === e.visibility || "collapse" === e.visibility || "0" === e.opacity || "opacity(0)" === e.filter || "0px" === e.width && "0px" === e.height || (s = e.color, /^rgba\(\d+, \d+, \d+, 0\)$/.test(s)))
        }

        function s(t) {
            var n = t.getBoundingClientRect(),
                i = n.left + .5 * n.width,
                r = n.top + .5 * n.height;
            return e(document, i, r)
        }

        function e(t, n, i) {
            var r = t.elementFromPoint(n, i);
            if (!r) return null;
            var s = ci.getShadowRoot(r);
            return s && s != document.body.getRootNode() && s !== t ? e(s, n, i) : r
        }

        function u(t) {
            var n = s(t);
            return null !== n && (t === n || t.contains(n))
        }
        t.isConnected = function(t) {
            return n(t)
        }, t.isDescendantOf = function n(i, r) {
            if (i === r || r.contains(i)) return !0;
            var s = t.getParentElement(i);
            return !(!s || s === i) && n(s, r)
        }, t.getParentElement = i, t.findAllElements = function(t, n) {
            var i;
            void 0 === n && (n = document);
            for (var r = ui(window.csquerySelectorAll[n.nodeType].call(n, t)), s = 0, e = ci.getAllShadowHosts(n); s < e.length; s++) {
                var u = e[s],
                    o = csElementshadowRoot.apply(u),
                    h = ui(window.csquerySelectorAll[o.nodeType].call(o, t));
                (i = csArray.prototype.push).call.apply(i, W([r], h, !1))
            }
            return r
        }, t.isHiddenByCSS = r, t.areAncestorsHiddenByCSS = function t(n) {
            if (r(n)) return !0;
            var s = i(n);
            return null != s && t(s)
        }, t.getTopAncestorHiddenByCSS = function(t) {
            var n = null,
                s = t;
            do {
                if (!r(s)) break;
                n = s
            } while (s = i(s));
            return n
        }, t.getTopElement = s, t.getElementOnTop = function(n) {
            if (!n.getBoundingClientRect) return null;
            var i = n.getBoundingClientRect(),
                r = i.x + i.width / 2,
                s = i.y + i.height / 2;
            return t.getTopElementFromPoint(document, r, s)
        }, t.getTopElementFromPoint = e, t.isVisibleInDocument = function(t) {
            return ! function(t) {
                var n = t.getBoundingClientRect();
                return n.right + ai.windowOffsetX() < 0 || n.bottom + ai.windowOffsetY() < 0
            }(t) && !r(t) && ! function(t) {
                var n = s(t);
                return null !== n && !t.contains(n)
            }(t)
        }, t.isVisibleInViewportInForeground = function(t) {
            return !r(t) && u(t)
        }, t.isInViewPort = u, t.getAttributeNS = function(t, n, i) {
            var r = t.getAttributeNS(n, i);
            return "" === r ? t.hasAttributeNS(n, i) ? r : null : r
        }, t.isElementFocusable = function(t) {
            return !!t.hasAttribute("tabIndex") || ("true" === t.getAttribute("contentEditable") || (!(!l(t) || !t.hasAttribute("href")) || (!(!(f(n = t) && "select" === n.localName || m(t) || p(t) || function(t) {
                return f(t) && "button" === t.localName
            }(t)) || t.hasAttribute("disabled")) || !(! function(t) {
                return f(t) && "details" === t.localName
            }(t) && ! function(t) {
                return f(t) && "summary" === t.localName
            }(t)))));
            var n
        }
    }(fi || (fi = {}));
    var Ai = /[^\s]/g;

    function Ei(t) {
        return csString.prototype.replace.call(t, Ai, "a")
    }
    var Si = function() {
        function t(t, n, i, r) {
            this.Fr = t, this.Ln = n, this.Gr = i, this.Pn = r, this.Vr = !1
        }
        return t.prototype.setAnonymization = function(t) {
            this.Jr = t
        }, t.prototype.isDOMSerializationInProgress = function() {
            return this.Vr
        }, t.prototype.serializeInitialDom = function(t, n) {
            if (this.Fr.isAsynchronous()) this.serializeDocumentAsync(t).then((function(t) {
                t && n(t)
            })).catch((function(t) {
                Kt.error(t)
            }));
            else {
                var i = this.Wr(t);
                n(i)
            }
        }, t.prototype.Wr = function(t) {
            return {
                args: [this.Fr.serialize(t, {
                    withAnonymization: this.Jr
                })],
                date: pt(),
                type: Mn.INITIAL_DOM
            }
        }, t.prototype.serializeDocumentAsync = function(t) {
            return V(this, void 0, void 0, (function() {
                return J(this, (function(n) {
                    switch (n.label) {
                        case 0:
                            this.Vr = !0, n.label = 1;
                        case 1:
                            return n.trys.push([1, , 3, 4]), [4, this.Fr.startSerializeAsync(t, {
                                withAnonymization: this.Jr
                            })];
                        case 2:
                            return [2, n.sent()];
                        case 3:
                            return this.Vr = !1, [7];
                        case 4:
                            return [2]
                    }
                }))
            }))
        }, t.prototype.serializeMutationCharacterData = function(t) {
            var n = this.Ln.getId(t.target);
            if (!n) return null;
            var i = t.target;
            if (i.data === t.oldValue) return null;
            if (v(i) && this.Pn.shouldEncrypt(i)) return this.Pn.registerTextNodeMutationToEncrypt({
                targetId: n,
                textNode: i,
                serializedTextData: Ei(i.data),
                date: t.date
            }), null;
            var r = [n, this.Gr.getAnonymizedText(this.Jr, i, i.data)];
            return this.Kr(this.Fr) && this.isDOMSerializationInProgress() && this.Fr.handleMutationCharacterData(t, r), r
        }, t.prototype.serializeAttachShadowEvent = function(t) {
            var n = this.Ln.getId(t.target);
            return n ? [n, this.Fr.serialize(t.shadowRoot)] : null
        }, t.prototype.serializeMutationAttribute = function(t) {
            var n = this.Ln.getId(t.target);
            if (!n) return null;
            var i = t.target,
                r = t.attributeName,
                s = t.attributeNamespace,
                e = fi.getAttributeNS(t.target, s, r);
            e && (e = this.Gr.getAnonymizedAttributeValue(i, this.Jr, r, e));
            var u = [n, s, r, e];
            return this.Kr(this.Fr) && this.isDOMSerializationInProgress() && this.Fr.handleMutationAttribute(t.oldValue ? this.Gr.getAnonymizedAttributeValue(i, this.Jr, r, t.oldValue) : t.oldValue, u), u
        }, t.prototype.serializeMutationChildList = function(t, n) {
            var i = this.Ln.getId(t.target);
            return i ? this.Kr(this.Fr) && this.isDOMSerializationInProgress() ? this.Fr.serializeMutationChildList(t, this.Jr, n) : {
                removedNodes: this.Yr(t),
                addedNodes: this.Xr(t, i, n)
            } : null
        }, t.prototype.Kr = function(t) {
            return t.isAsynchronous()
        }, t.prototype.Yr = function(t) {
            for (var n = [], i = 0; i < t.removedNodes.length; i += 1) {
                var r = this.Ln.getId(t.removedNodes[i]);
                r && csArray.prototype.push.call(n, [r])
            }
            return n
        }, t.prototype.Xr = function(t, n, i) {
            var r = [],
                s = null;
            if (t.nextSibling) {
                var e = this.Ln.getId(t.nextSibling);
                s = void 0 !== e ? e : null
            }
            for (var u = 0; u < t.addedNodes.length; u += 1) {
                var o = t.addedNodes[u],
                    h = this.Fr.serialize(o, {
                        excludedNodes: i,
                        withAnonymization: this.Jr
                    }),
                    c = i.get(o);
                c && i.set(o, c - 1), csArray.prototype.push.call(r, [n, s, h])
            }
            return r
        }, G([Qn("serializeDocumentAsync")], t.prototype, "serializeDocumentAsync", null), t
    }();

    function bi() {
        var t, n = (t = new Error).stack ? csArray.prototype.filter.call(csString.prototype.split.call(t.stack, "\n"), (function(t) {
            return "Error" !== t && -1 === csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(t), "promise ") && -1 === csString.prototype.indexOf.call(t, "[native code]")
        })) : [];
        if (0 === n.length) return "";
        var i = function(t) {
            return t.length > 0 ? Ti(t[0]) : ""
        }(n);
        return "" === i ? "" : (n = function(t, n) {
            return csArray.prototype.filter.call(t, (function(t) {
                return -1 === csString.prototype.indexOf.call(t, n)
            }))
        }(n, i), 0 === n.length ? "" : Ti(n[0]))
    }

    function Ti(t) {
        var n, i = "";
        n = t;
        var r = (-1 !== csString.prototype.indexOf.call(n, "@") ? new RegExp("@(.+):(\\d+):(\\d+)$") : new RegExp("\\((.+):(\\d+):(\\d+)\\)")).exec(t);
        return r && (i = r[1]), i
    }
    var Ri = function(t) {
        return t
    };

    function Ni(t) {
        var n, i = t.target,
            r = t.methodName,
            s = t.hook,
            e = t.hookPrepareArgs,
            u = void 0 === e ? Ri : e,
            o = t.options;
        if (!(null === (n = Object.getOwnPropertyDescriptor(i, r)) || void 0 === n ? void 0 : n.writable)) return Yt.warn("Cannot intercept read only function '".concat(csString(r), "' of object '").concat(i, "'")), null;
        var h, c, a = !1,
            f = i[r];
        if ("function" == typeof f) {
            var v = function() {
                var t = u(arguments),
                    n = f.apply(this, arguments);
                if (a) {
                    var i = void 0;
                    o && o.withCallerName && (i = bi());
                    try {
                        s({
                            result: n,
                            context: this,
                            args: t,
                            callerName: i
                        })
                    } catch (t) {
                        Yt.error(t)
                    }
                }
                return n
            };
            (h = v).prototype = (c = f).prototype, Object.defineProperty(h, "toString", {
                value: function() {
                    return c.toString()
                }
            }), i[r] = v
        }
        return {
            activate: function() {
                return a = !0
            },
            deactivate: function() {
                return a = !1
            }
        }
    }

    function ki(t, n, i) {
        var r = !1,
            s = Object.getOwnPropertyDescriptor(t, n);
        if (s) {
            if (!s.configurable) return Yt.warn("Cannot intercept read only property '".concat(csString(n), "' of object '").concat(t, "'")), null;
            Object.defineProperty(t, n, F(F({}, s.get ? {
                get: function() {
                    return s.get.apply(this, arguments)
                }
            } : {}), s.set ? {
                set: function() {
                    var t = arguments,
                        n = s.set.apply(this, t);
                    if (r) try {
                        i(this, t[0])
                    } catch (t) {
                        Yt.error(t)
                    }
                    return n
                }
            } : {}))
        }
        return {
            activate: function() {
                return r = !0
            },
            deactivate: function() {
                return r = !1
            }
        }
    }
    var Oi, Ii, Ci = function() {
            function t(t, n, i, r) {
                var s = this;
                this.Ln = t, this.xn = n, this.li = i, this.Mi = r, this.$r() && (this.Zr = ki(window.CSSStyleDeclaration.prototype, "cssText", (function(t, n) {
                    return s.setStyleDeclarationCssText(t, n)
                })))
            }
            return t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.start = function() {
                this.Qr = this.Mi.registerToInsertRuleInterceptor(this.sendInsertion.bind(this)), this.ns = this.Mi.registerToDeleteRuleInterceptor(this.sendDeletion.bind(this)), this.Zr && this.Zr.activate()
            }, t.prototype.stop = function() {
                var t, n;
                null === (t = this.Qr) || void 0 === t || t.call(this), null === (n = this.ns) || void 0 === n || n.call(this), this.Zr && this.Zr.deactivate()
            }, t.prototype.setStyleDeclarationCssText = function(t, n) {
                var i = this.rs(t);
                if ((null == i ? void 0 : i.ownerNode) && (!f(i.ownerNode) || !this.xn.isSensitiveChild(i.ownerNode))) {
                    var r = this.Ln.getId(i.ownerNode);
                    if (r) {
                        var s = this.ss(i.cssRules, t.parentRule),
                            e = {
                                date: pt(),
                                type: Mn.STYLESHEET_CSS_TEXT_UPDATE,
                                args: [r, s, n]
                            };
                        this.bi(e), this.li.scanCssString(n)
                    }
                }
            }, t.prototype.rs = function(t) {
                var n = t.parentRule;
                return n && n.parentStyleSheet
            }, t.prototype.ss = function(t, n) {
                return csArray.prototype.indexOf.call(csArray.from(t), n)
            }, t.prototype.$r = function() {
                return window.CSSStyleDeclaration && window.CSSStyleDeclaration.prototype && Object.getOwnPropertyDescriptor(window.CSSStyleDeclaration.prototype, "cssText")
            }, t.prototype.sendInsertion = function(t, n) {
                var i = n[0],
                    r = n[1];
                if (t.ownerNode && (!f(t.ownerNode) || !this.xn.isSensitiveChild(t.ownerNode))) {
                    var s = this.Ln.getId(t.ownerNode);
                    if (s) {
                        var e = {
                            date: pt(),
                            type: Mn.STYLESHEET_RULE_INSERT,
                            args: Tt(r) ? [s, i, r] : [s, i]
                        };
                        this.bi(e), this.li.scanCssString(i)
                    }
                }
            }, t.prototype.sendDeletion = function(t, n) {
                var i = n[0];
                if (t.ownerNode && (!f(t.ownerNode) || !this.xn.isSensitiveChild(t.ownerNode))) {
                    var r = this.Ln.getId(t.ownerNode);
                    if (r) {
                        var s = {
                            date: pt(),
                            type: Mn.STYLESHEET_RULE_DELETE,
                            args: [r, i]
                        };
                        this.bi(s)
                    }
                }
            }, G([tn("styleSheetRuleTracker.setStyleDeclarationCssText")], t.prototype, "setStyleDeclarationCssText", null), G([tn("styleSheetRuleTracker.sendInsertion")], t.prototype, "sendInsertion", null), G([tn("styleSheetRuleTracker.sendDeletion")], t.prototype, "sendDeletion", null), t
        }(),
        _i = function() {
            function t() {
                this.es = [], this.us = 1
            }
            return t.prototype.identifyNodes = function(t, n) {
                for (var i = [document.createTreeWalker(t, NodeFilter.SHOW_ALL, null, !1)], r = !1; i.length > 0;)
                    for (var s = csArray.prototype.pop.call(i), e = s.root; null !== e;)
                        if (r && n && n.get(e) > 0) {
                            for (var u = s.nextSibling(); null === u && null !== s.parentNode();) u = s.nextSibling();
                            e = u
                        } else e.__contentsquare_identifier = this.us, this.us += 1, f(e) && csElementshadowRoot.apply(e) ? csArray.prototype.push.call(i, document.createTreeWalker(csElementshadowRoot.apply(e), NodeFilter.SHOW_ALL, null, !1)) : g(e) && this.hs(e), e = s.nextNode(), r = !0
            }, t.prototype.getId = function(t) {
                return t.__contentsquare_identifier
            }, t.getId = function(t) {
                return t.__contentsquare_identifier
            }, t.prototype.getIds = function(t) {
                for (var n, i = new Set, r = document.createNodeIterator(t, NodeFilter.SHOW_ALL, null, !1); n = r.nextNode();) {
                    var s = n.__contentsquare_identifier;
                    if (s && i.add(s), f(n) && csElementshadowRoot.apply(n)) {
                        var e = csElementshadowRoot.apply(n);
                        this.getIds(e).forEach((function(t) {
                            return i.add(t)
                        }))
                    }
                }
                return i
            }, t.prototype.onDocumentIdentified = function(t) {
                csArray.prototype.push.call(this.es, t)
            }, t.prototype.hs = function(t) {
                for (var n = 0, i = this.es; n < i.length; n++) {
                    (0, i[n])(t)
                }
            }, t
        }(),
        Li = "data-cs-mask",
        xi = function() {
            function t(t) {
                this.xn = t
            }
            return t.prototype.beforeSerializeChildren = function(t, n) {
                return this.xn.isSensitive(t) || this.cs(t) ? [] : n
            }, t.prototype.beforeSerializeAttributes = function(t, n) {
                var i, r = this;
                return this.xn.isSensitive(t) && (!f(i = t) || "script" !== i.localName) && (csArray.prototype.push.call(n, this.fs(t)), t.hasAttribute(Li) || csArray.prototype.push.call(n, document.createAttribute(Li))), csArray.prototype.filter.call(n, (function(n) {
                    return !r.xn.isSensitiveAttribute(t, n.name)
                }))
            }, t.prototype.cs = function(t) {
                return E(t) && this.xn.isSensitive(t.host)
            }, t.prototype.fs = function(t) {
                var n = t.getBoundingClientRect(),
                    i = document.createAttribute("style");
                return i.value = "width: ".concat(n.width, "px !important; height: ").concat(n.height, "px !important;"), i
            }, t
        }(),
        Pi = function(t) {
            return Object.getOwnPropertyDescriptor(t.prototype, "localName")
        },
        Mi = null !== (Oi = Pi(Element)) && void 0 !== Oi ? Oi : Pi(Node);
    ! function(t) {
        t[t.WebElement = 0] = "WebElement", t[t.MobileView = 1] = "MobileView", t[t.WebViewContainer = 2] = "WebViewContainer"
    }(Ii || (Ii = {}));
    var Di = function(t) {
        this.csId = t.__contentsquare_identifier, this.format = Ii.WebElement, t.__contentsquare_artificial && (this.artificial = t.__contentsquare_artificial)
    };
    var Ui = function(t) {
            function n(n) {
                var i, r = t.call(this, n) || this;
                return r.attributes = [], r.localName = (i = n, Mi.get.call(i)), r.namespaceURI = n.namespaceURI, r.children = [], r.nodeType = 1, r
            }
            return H(n, t), n
        }(Di),
        ji = ["id", "class", "style", "src", "srcset", "sizes", "href", "rel", "type", "width", "height", "media", "align", "dir", "bgcolor", "color", "border", "colspan", "rowspan", "cols", "rows", "size", "start", _],
        zi = function() {
            function t(t, n) {
                this.M = t, this.P = n, this.vs = new Set, this.ls = ""
            }
            return t.prototype.init = function() {
                var t = this;
                csArray.prototype.forEach.call(ji, (function(n) {
                    t.vs.add(n)
                })), csArray.prototype.forEach.call(this.P.whitelistedAttributes, (function(n) {
                    t.vs.add(n)
                }))
            }, t.prototype.beforeSerializeChildren = function(t, n, i) {
                return (y(t) || this.ds(t)) && (i.withAnonymization = !1), n
            }, t.prototype.serializeAttribute = function(t, n, i, r) {
                i.anonymized = r.withAnonymization;
                var s = this.getAnonymizedAttributeValue(t, r.withAnonymization, i.name, i.value);
                i.value = s
            }, t.prototype.serializeTextNode = function(t, n, i) {
                n.data = this.getAnonymizedText(i.withAnonymization, t, n.data)
            }, t.prototype.serializeCDATASectionNode = function(t, n, i) {
                var r = t.data;
                return n.data = i.withAnonymization ? Ei(r) : this.M.anonymizeEmail(r), n
            }, t.prototype.getAnonymizedText = function(t, n, i) {
                if (csNodeparentNode.apply(n)) {
                    if (y(csNodeparentNode.apply(n))) return i;
                    if (t && this.ds(csNodeparentNode.apply(n))) return this.M.anonymizeEmail(i)
                }
                return t ? Ei(i) : this.M.anonymizeEmail(i)
            }, t.prototype.getAnonymizedAttributeValue = function(t, n, i, r) {
                return this.ws(i) || f(s = t) && "ownerSVGElement" in s ? r : n && p(t) && ("submit" === t.type || "button" === t.type) && "value" === i ? Ei(r) : n ? "" : this.M.anonymizeEmail(r);
                var s
            }, t.prototype.setWhitelistedElementsSelector = function(t) {
                this.ls = t
            }, t.prototype.getWhitelistedElementsSelector = function() {
                return this.ls
            }, t.prototype.afterSerialize = function(t, n, i) {
                null == n.anonymized && (n.anonymized = i.withAnonymization), n instanceof Ui && n.shadowRoot && null == n.shadowRoot.anonymized && (n.shadowRoot.anonymized = i.withAnonymization)
            }, t.prototype.ws = function(t) {
                return this.vs.has(t)
            }, t.prototype.ds = function(t) {
                return f(t) && (t.hasAttribute("data-cs-capture") || this.ys(t))
            }, t.prototype.ys = function(t) {
                return !!this.ls && N.call(t, this.ls)
            }, t
        }(),
        qi = function() {
            function t() {
                for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                this.ps = t
            }
            return t.prototype.addProvider = function(t) {
                csArray.prototype.push.call(this.ps, t)
            }, t.prototype.getRequestParameters = function() {
                return csArray.prototype.reduce.call(this.ps, (function(t, n) {
                    return F(F({}, n.getRequestParameters()), t)
                }), {})
            }, t
        }();

    function Bi(t, n) {
        var i, r, s, e, u = null,
            o = function(h) {
                var c = pt();
                if (!h && null !== u) {
                    var a = n - (c - u);
                    if (a > 0) return void(r = window.setTimeout(o, a))
                }
                var f = c - s;
                r = null, u = null, s = null, e = t.apply(void 0, W([f], i, !1))
            },
            h = function() {
                for (var t = [], h = 0; h < arguments.length; h++) t[h] = arguments[h];
                if (i = W([], t, !0), !s) return s = pt(), r = window.setTimeout(o, n), e;
                u = pt()
            };
        return h.flushPending = function() {
            r && (window.clearTimeout(r), o(!0))
        }, h.cancel = function() {
            u = null, s = null, r && (window.clearTimeout(r), r = null)
        }, h
    }

    function Hi(t) {
        return void 0 === t && (t = 0),
            function(n, i, r) {
                var s = r.value,
                    e = !1;
                r.value = function() {
                    for (var n = this, i = [], r = 0; r < arguments.length; r++) i[r] = arguments[r];
                    e || (e = !0, setTimeout((function() {
                        e = !1, s.apply(n, i)
                    }), t))
                }
            }
    }
    var Fi = function() {
            function t(t) {
                var n = this;
                this.P = t, this.gs = !1, this.As = Bi((function() {
                    n.gs = !1, n.Es()
                }), this.P.pendingInactivityTimeout)
            }
            return t.prototype.start = function() {
                this.gs = !0, this.As()
            }, t.prototype.stop = function() {
                this.gs = !1, this.As.cancel()
            }, t.prototype.trackActivity = function() {
                this.gs || (this.gs = !0, this.Ss()), this.As()
            }, t.prototype.isUserActive = function() {
                return this.gs
            }, t.prototype.onActivityStopped = function(t) {
                this.Es = t
            }, t.prototype.onActivityResumed = function(t) {
                this.Ss = t
            }, t
        }(),
        Gi = function() {
            function t(t, n, i) {
                var r = this;
                this.mn = t, this.M = n, this.bs = i, this.Ts = [{
                    boundElement: window,
                    type: "resize",
                    listener: function() {
                        return r.resizeListener()
                    }
                }, {
                    boundElement: window,
                    type: "hashchange",
                    listener: function() {
                        return r.hashChangeListener()
                    }
                }, {
                    boundElement: document,
                    type: "visibilitychange",
                    listener: function() {
                        return r.visibilityChangeListener()
                    }
                }]
            }
            return t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.start = function() {
                this.Yn(), this.triggerInitialEvents(), this.bs && (this.bs.setOnScreenChangedCallback(this.bi), this.bs.start())
            }, t.prototype.stop = function() {
                var t;
                this.ti(), null === (t = this.bs) || void 0 === t || t.stop()
            }, t.prototype.Yn = function() {
                csArray.prototype.forEach.call(this.Ts, (function(t) {
                    return qn(t)
                }))
            }, t.prototype.ti = function() {
                csArray.prototype.forEach.call(this.Ts, (function(t) {
                    return Bn(t)
                }))
            }, t.prototype.triggerInitialEvents = function() {
                this.resizeListener(), this.hashChangeListener()
            }, t.prototype.resizeListener = function() {
                var t, n = {
                    type: Mn.RESIZE,
                    args: [ai.windowWidth(), ai.windowHeight()],
                    date: pt()
                };
                this.bi(n), null === (t = this.bs) || void 0 === t || t.onScreenPotentiallyChanged()
            }, t.prototype.hashChangeListener = function() {
                var t = {
                    type: Mn.HASH_CHANGE,
                    args: [this.M.anonymizeEmail(this.mn.href)],
                    date: pt()
                };
                this.bi(t)
            }, t.prototype.visibilityChangeListener = function() {
                var t = {
                    type: Mn.VISIBILITY_CHANGE,
                    args: [document.visibilityState],
                    date: pt()
                };
                this.bi(t)
            }, G([tn("resize")], t.prototype, "resizeListener", null), G([tn("hashChange")], t.prototype, "hashChangeListener", null), G([tn("visibilityChange")], t.prototype, "visibilityChangeListener", null), t
        }(),
        Vi = function(t) {
            function n(n, i, r, s, e, u) {
                var o = t.call(this) || this;
                return o.ji = n, o.Ui = i, o.Rs = r, o.Ns = s, o.fi = e, o.wi = u, o.ks = 0, o
            }
            return H(n, t), n.prototype.init = function() {
                var t = this;
                this.ji.onEvent((function(n, i) {
                    i || t.Os()
                })), this.Ns.onRecordingRequestSent((function() {
                    t.ks += 1, t.Is()
                })), this.Rs.onActivityStopped((function() {
                    t.Is()
                })), this.Rs.onActivityResumed((function() {
                    t.Ui.isStarted() || t.Cs()
                }))
            }, n.prototype.onIframeRecordingUserEvent = function(t) {
                this.Os()
            }, n.prototype.onStart = function() {
                this.Rs.start()
            }, n.prototype.onStop = function() {
                this.Rs.stop()
            }, n.prototype.Is = function() {
                this.Ui.isStarted() && !this.fi.isDOMSerializationInProgress() && !this.Rs.isUserActive() && this.ks >= 2 && this._s()
            }, n.prototype.Os = function() {
                this.Rs.trackActivity(), this.ks = 0
            }, n.prototype._s = function() {
                this.Ui.stop(), this.wi.emitRecordingStatusChange()
            }, n.prototype.Cs = function() {
                this.Ui.start(), this.wi.emitRecordingStatusChange()
            }, n
        }(pi);
    var Ji = /(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\))/g;

    function Wi(t, n) {
        var i = t.replace(Ji, (function() {
            for (var t = [], i = 0; i < arguments.length; i++) t[i] = arguments[i];
            var r = t[3] || t[4],
                s = t[9] || t[10] || t[11],
                e = (r || s).trim().replace(/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g, (function(t, n, i, r) {
                    if ("\\" === n) return t.slice(1);
                    if (r) return r;
                    var s = parseInt(i, 16);
                    return 55296 <= s && s <= 57343 || 0 === s || s > 1114111 ? "" : String.fromCodePoint(s)
                }));
            return (r ? "@import " : "") + "url(" + function(t) {
                if (-1 === t.indexOf('"')) return '"' + t + '"';
                if (-1 === t.indexOf("'")) return "'" + t + "'";
                return t
            }(n(e) || e) + ")"
        }));
        return i
    }

    function Ki(t) {
        var n = [];
        return Wi(t, (function(t) {
            return n.push(t), t
        })), n
    }

    function Yi(t) {
        var n = csString.prototype.trim.call(t);
        if ("" === t) return [];
        var i, r = (i = n, csString.prototype.split.call(i, /\s(.+)/)),
            s = r[0],
            e = r[1];
        return e ? ($(s, ",") || (e = function(t) {
            return csString.prototype.split.call(t, /,(.+)/)[1] || ""
        }(e)), W([Xi(s)], Yi(e), !0)) : [Xi(s)]
    }

    function Xi(t) {
        return csString.prototype.split.call(t, /,$/)[0]
    }

    function $i(t) {
        return X(t, "data:")
    }

    function Zi(t) {
        return X(t, "#")
    }

    function Qi(t) {
        return !!t && $(t, ".css")
    }
    var tr, nr = function() {
        function t() {
            this.Ls = !0
        }
        return t.prototype.enable = function() {
            this.Ls || (this.Ls = !0)
        }, t.prototype.disable = function() {
            this.Ls && (this.Ls = !1)
        }, t.prototype.onEvent = function(t) {
            this.bi = t
        }, t.prototype.onStyleSheetFound = function(t) {
            this.xs = t
        }, t.prototype.serializeElementNode = function(t) {
            this.Ls && this.Ps(t)
        }, t.prototype.beforeSerializeChildren = function(t, n, i) {
            return this.Ls && this.Ms(t, n), n
        }, t.prototype.scanAttribute = function(t, n) {
            this.Ds(t, n)
        }, t.prototype.scanText = function(t) {
            v(t) && csNodeparentNode.apply(t) && y(csNodeparentNode.apply(t)) && this.scanCssString(t.data)
        }, t.prototype.scanCssString = function(t) {
            this.Us(Ki(t))
        }, t.prototype.Ps = function(t) {
            this.Ds(t)
        }, t.prototype.Ms = function(t, n) {
            var i = this;
            y(t) && oi(n, (function(t) {
                v(t) && i.scanCssString(t.data)
            }))
        }, t.prototype.Ds = function(t, n) {
            this.js(t, n) || (this.zs(t, n), this.qs(t, n))
        }, t.prototype.js = function(t, n) {
            var i;
            if (d(t) && (!n || "href" === n) && t.href) {
                var r = t.href;
                return null === (i = this.xs) || void 0 === i || i.call(this, r), this.Bs(r), !0
            }
            return !1
        }, t.prototype.zs = function(t, n) {
            w(t) && (n && "src" !== n || !t.src || $i(t.src) || null === t.getAttribute("src") || Zi(t.getAttribute("src")) || this.Bs(t.src), n && "srcset" !== n || !t.srcset || this.Hs(t.srcset))
        }, t.prototype.qs = function(t, n) {
            if ((!n || "style" === n) && t.hasAttribute("style")) {
                var i = t.getAttribute("style");
                if ("string" != typeof i) throw new Error("Unexpected style: " + t.outerHTML);
                this.scanCssString(i)
            }
        }, t.prototype.Hs = function(t) {
            this.Us(Yi(t))
        }, t.prototype.Us = function(t) {
            var n = this;
            return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(csArray.prototype.filter.call(t, (function(t) {
                return !$i(t)
            })), (function(t) {
                return !Zi(t)
            })), (function(t) {
                return function(t) {
                    return Pt.href = t, Pt.href
                }(t)
            })), (function(t) {
                return n.Bs(t)
            }))
        }, t.prototype.Bs = function(t) {
            var n, i = {
                date: pt(),
                type: Mn.STATIC_RESOURCE_URL,
                args: [t]
            };
            null === (n = this.bi) || void 0 === n || n.call(this, i)
        }, t
    }();
    ! function(t) {
        t.REQUEST_START = "requestStart", t.DOM_INTERACTIVE = "domInteractive"
    }(tr || (tr = {}));
    var ir = function() {
            function t(t) {
                this.Fs = t.performance
            }
            return t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.start = function() {
                this.Gs() && this.Vs()
            }, t.prototype.Vs = function() {
                var t = {
                    args: this.Js(),
                    date: pt(),
                    type: Mn.PERFORMANCE_TIMINGS
                };
                this.bi(t)
            }, t.prototype.Gs = function() {
                return !(!this.Fs || !this.Fs.timing)
            }, t.prototype.Js = function() {
                return [{
                    performanceTiming: tr.REQUEST_START,
                    timestamp: this.Fs.timing.requestStart
                }, {
                    performanceTiming: tr.DOM_INTERACTIVE,
                    timestamp: this.Fs.timing.domInteractive
                }]
            }, t
        }(),
        rr = function(t) {
            function n(n) {
                var i = t.call(this) || this;
                return i.Ws = n, i.Ks = new Map, i
            }
            return H(n, t), n.prototype.init = function() {
                this.Ys(), this.Xs()
            }, n.prototype.Xs = function() {
                var t = this;
                this.$s = new csMutationObserver((function(n) {
                    t.handleMutations(n)
                }))
            }, n.prototype.Ys = function() {
                var t = this;
                this.Zs() && (this.Qs = Ni({
                    target: Element.prototype,
                    methodName: "attachShadow",
                    hook: function(n) {
                        var i = n.context,
                            r = n.result;
                        return t.handleAttachShadow(i, r)
                    }
                })), this.te() && (this.ne = Ni({
                    target: Element.prototype,
                    methodName: "createShadowRoot",
                    hook: function(n) {
                        var i = n.context,
                            r = n.result;
                        return t.handleAttachShadow(i, r)
                    }
                }))
            }, n.prototype.onChildListMutation = function(t) {
                this.ie = t
            }, n.prototype.onCharacterDataMutation = function(t) {
                this.se = t
            }, n.prototype.onAttributesMutation = function(t) {
                this.ee = t
            }, n.prototype.onAttachShadowMutation = function(t) {
                this.ue = t
            }, n.prototype.observe = function(t, n) {
                this.isStarted && this.$s.observe(t, n)
            }, n.prototype.onStart = function() {
                this.Qs && this.Qs.activate(), this.ne && this.ne.activate()
            }, n.prototype.onStop = function() {
                this.Qs && this.Qs.deactivate(), this.ne && this.ne.deactivate(), this.Ws.clearQueue(), this.$s.disconnect()
            }, n.prototype.flushPendingMutations = function() {
                if (this.isStarted) {
                    this.Ws.runPendingTasks();
                    var t = this.$s.takeRecords();
                    this.handleMutations(t, !0)
                }
            }, n.prototype.Zs = function() {
                return window.Element && window.Element.prototype && "function" == typeof window.Element.prototype.attachShadow
            }, n.prototype.te = function() {
                return window.Element && window.Element.prototype && "function" == typeof window.Element.prototype.createShadowRoot
            }, n.prototype.handleMutations = function(t, n) {
                var i = this;
                void 0 === n && (n = !1);
                var r = pt(),
                    s = t.length > 1 ? this.oe(t) : t;
                this.Ws.isEmpty() && this.Ks.clear(), this.he(s);
                for (var e = function(t) {
                        var e = s[t];
                        e.date = r, u.Ws.schedule((function() {
                            i.processMutation(e, i.Ks)
                        }), n)
                    }, u = this, o = 0; o < s.length; o += 1) e(o)
            }, n.prototype.oe = function(t) {
                for (var n = new Map, i = 0; i < t.length; i += 1) {
                    if ("attributes" === (f = t[i]).type) {
                        var r = f.target,
                            s = f.attributeNamespace,
                            e = f.attributeName,
                            u = "".concat(s || "", " ").concat(e),
                            o = n.get(r),
                            h = fi.getAttributeNS(r, s, e) === f.oldValue ? "none" : "last";
                        if (o) o.has(u) || o.set(u, h);
                        else {
                            var c = new Map;
                            c.set(u, h), n.set(r, c)
                        }
                    }
                }
                var a = [];
                for (i = t.length - 1; i >= 0; i -= 1) {
                    var f;
                    if ("attributes" === (f = t[i]).type) {
                        r = f.target, s = f.attributeNamespace, e = f.attributeName, u = "".concat(s || "", " ").concat(e);
                        "last" === (o = n.get(r)).get(u) && (csArray.prototype.push.call(a, f), o.set(u, "none"))
                    } else csArray.prototype.push.call(a, f)
                }
                return csArray.prototype.reverse.call(a)
            }, n.prototype.handleAttachShadow = function(t, n) {
                this.ue({
                    shadowRoot: n,
                    date: pt(),
                    target: t
                })
            }, n.prototype.processMutation = function(t, n) {
                switch (t.type) {
                    case "attributes":
                        this.ee(t);
                        break;
                    case "characterData":
                        this.se(t);
                        break;
                    case "childList":
                        this.ie(t, n);
                        break;
                    default:
                        throw new Error("mutation type is not supported")
                }
            }, n.prototype.he = function(t) {
                var n = this;
                csArray.prototype.forEach.call(t, (function(t) {
                    oi(t.addedNodes, (function(t) {
                        var i = n.Ks.get(t);
                        i ? n.Ks.set(t, i + 1) : n.Ks.set(t, 1)
                    }))
                }))
            }, G([tn("handleMutations")], n.prototype, "handleMutations", null), G([Zn("handleAttachShadow")], n.prototype, "handleAttachShadow", null), G([Zn("processMutation")], n.prototype, "processMutation", null), n
        }(pi),
        sr = function(t) {
            function n(n, i) {
                var r = t.call(this, n) || this;
                return r.Ln = i, r.ce = {
                    subtree: !0,
                    attributes: !0,
                    childList: !0,
                    characterData: !0,
                    attributeOldValue: !0,
                    characterDataOldValue: !0
                }, r
            }
            return H(n, t), n.prototype.init = function() {
                t.prototype.init.call(this), this.Wn()
            }, n.prototype.Wn = function() {
                var t = this;
                this.Ln.onDocumentIdentified((function(n) {
                    t.observe(n, t.ce)
                }))
            }, n
        }(rr),
        er = function() {
            function t(t) {
                this.ae = [], this.fe = [], this.Mt = {}, this.Dt = t
            }
            return t.prototype.setQueryParams = function(t) {
                var n = this;
                csArray.prototype.forEach.call(Object.keys(t), (function(i) {
                    n.Mt[i] = t[i]
                }))
            }, t.prototype.removeQueryParams = function(t) {
                var n = this;
                t ? csArray.prototype.forEach.call(t, (function(t) {
                    delete n.Mt[t]
                })) : this.Mt = {}
            }, t.prototype.onBeaconSuccess = function(t) {
                csArray.prototype.push.call(this.ae, t)
            }, t.prototype.onBeaconFailure = function(t) {
                csArray.prototype.push.call(this.fe, t)
            }, t.prototype.send = function(t) {
                var n = this,
                    i = it.toQuery(F(F({}, this.Mt), {
                        ct: un.UNCOMPRESSED
                    }));
                this.ve(i, t) ? csArray.prototype.forEach.call(this.ae, (function(t) {
                    return t()
                })) : csArray.prototype.forEach.call(this.fe, (function(t) {
                    return t(n.Mt)
                }))
            }, t.prototype.ve = function(t, n) {
                try {
                    if ("function" != typeof csNavigatorsendBeacon) return !1;
                    var i = csNavigatorsendBeacon("".concat(this.Dt, "?").concat(t), n || "");
                    if (i) return i
                } catch (t) {}
                return "function" == typeof navigator.sendBeacon && navigator.sendBeacon("".concat(this.Dt, "?").concat(t), n || "")
            }, t
        }();

    function ur(t, n) {
        if (!(!!t && St(t))) return Kt.warn("isValidSelector: invalid selector provided '".concat(t, "'")), !1;
        try {
            return N.call(n, t), !0
        } catch (n) {
            return Kt.warn("isValidSelector: invalid selector provided '".concat(t, "'")), !1
        }
    }
    var or = function() {
            function t(t, n, i, r, s, e, u, o, h, c) {
                this.Ln = t, this.I = n, this.le = i, this.de = r, this.we = s, this.ye = e, this.pe = u, this.ge = o, this.Ae = h, this.Ee = c, this.Se = 8e3, this.be = 64e3, this.Te = 2e3, this.Re = 2e3, this.Ne = "", this.ke = document.createElement("div"), this.Oe = null, this.Ie = !1, this.Ce = "[data-cs-encrypt]"
            }
            return t.prototype.getEncryptionSelectors = function() {
                return this.Ce
            }, t.prototype.setEncryptionSelectors = function(t) {
                if (ur(t, this.ke)) {
                    for (var n = csString.prototype.split.call(this.Ce, ","), i = 0, r = csString.prototype.split.call(t, ","); i < r.length; i++) {
                        var s = r[i]; - 1 === csArray.prototype.indexOf.call(n, s) && csArray.prototype.push.call(n, s)
                    }
                    this.Ce = csArray.prototype.join.call(n, ",")
                }
            }, t.prototype.shouldEncrypt = function(t) {
                switch (t.nodeType) {
                    case 1:
                        return !(!p(t) && !m(t) || !N.call(t, this.Ce) || "password" === t.type);
                    case 8:
                    case 3:
                        var n = t.parentElement;
                        return !!(n && v(t) && N.call(n, this.Ce));
                    default:
                        return !1
                }
            }, t.prototype.onTextNodeToEncrypt = function(t) {
                this._e = t
            }, t.prototype.onInputNodeToEncrypt = function(t) {
                this.Le = t
            }, t.prototype.onUserIdentifierToEncrypt = function(t) {
                this.xe = t
            }, t.prototype.onApiErrorToEncrypt = function(t) {
                this.Pe = t
            }, t.prototype.init = function() {
                var t = this;
                this.Me() && (this.De = new TextEncoder, this.we.onSerializeData((function(n) {
                    return t.Ue(n)
                })), this.ye.onSerializeData((function(n) {
                    return t.je(n)
                })), this.pe.onSerializeData((function(n) {
                    return t.ze(n)
                })), this.ge.onSerializeData((function(n) {
                    return t.qe(n)
                })), this.Ae.onSerializeData((function(n) {
                    return t.Be(n)
                })), this.He(this.I.encryptionPublicKey))
            }, t.prototype.He = function(t) {
                return V(this, void 0, void 0, (function() {
                    var n;
                    return J(this, (function(i) {
                        switch (i.label) {
                            case 0:
                                return [4, this.le.importKey(t)];
                            case 1:
                                return n = i.sent(), this.Ie = !0, n ? (this.Oe = n, this.we.serializeDataFromBuffer(), this.ge.serializeDataFromBuffer()) : (this.we.clear(), this.ge.clear(), Kt.warn("Fail to import public key '".concat(t, "'"))), this.ye.serializeDataFromBuffer(), this.pe.serializeDataFromBuffer(), this.Ae.serializeDataFromBuffer(), [2]
                        }
                    }))
                }))
            }, t.prototype.registerTextNodeToEncrypt = function(t) {
                this.Me() && (this.Ie ? this.Ue(t) : this.we.addData(t))
            }, t.prototype.registerTextNodeMutationToEncrypt = function(t) {
                this.Me() && (this.Ie ? this.je(t) : this.ye.addData(t))
            }, t.prototype.registerInputNodeToEncrypt = function(t) {
                this.Me() && (this.Ie ? this.ze(t) : this.pe.addData(t))
            }, t.prototype.registerUserIdentifierToEncrypt = function(t) {
                this.Me() && (this.Ie ? this.qe(t) : this.ge.addData(t))
            }, t.prototype.registerApiErrorToEncrypt = function(t) {
                this.Me() ? this.Ie ? this.Be(t) : this.Ae.addData(t) : this.Fe(t)
            }, t.prototype.Me = function() {
                return this.I.encryptionEnabled && !!this.I.encryptionPublicKey && this.I.encryptionPublicKeyId > 0 && this.le.isSupported() && this.de.isSupported()
            }, t.prototype.Ue = function(t) {
                var n = this,
                    i = t.textNode,
                    r = this.Ln.getId(i);
                if (r && this.Oe) {
                    var s = F(F({}, t), {
                        targetId: r,
                        date: pt()
                    });
                    this.Ge(s, (function(t) {
                        return t.textNode.data
                    }), (function() {
                        return Kt.warn("Fail to encrypt text node data")
                    }), (function(t, i) {
                        return n.Ve(t, i)
                    }))
                }
            }, t.prototype.je = function(t) {
                var n = this;
                if (!this.Oe) return this.Je(t);
                this.Ge(t, (function(t) {
                    return t.textNode.data
                }), (function() {
                    Kt.warn("Fail to encrypt text node data - Text node processed as MUTATION_CHARACTER_DATA"), n.Je(t)
                }), (function(t, i) {
                    return n.Ve(t, i)
                }))
            }, t.prototype.ze = function(t) {
                var n = this;
                if (!this.Oe) return this.We(t);
                this.Ge(t, (function(t) {
                    return t.targetValue
                }), (function() {
                    Kt.warn("Fail to encrypt input data - Input node processed as INPUT_TEXT"), n.We(t)
                }), (function(t, i) {
                    return n.Ke(t, i)
                }))
            }, t.prototype.qe = function(t) {
                var n = this;
                this.Oe && this.Ge(t, (function(t) {
                    return t.userIdentifier
                }), (function() {
                    Kt.warn("Fail to encrypt userIdentifier")
                }), (function(t, i) {
                    return n.Ye(t, i)
                }))
            }, t.prototype.Ge = function(t, n, i, r) {
                return V(this, void 0, void 0, (function() {
                    var s, e;
                    return J(this, (function(u) {
                        switch (u.label) {
                            case 0:
                                return s = n(t), [4, this.le.encrypt({
                                    publicKey: this.Oe
                                }, s)];
                            case 1:
                                return (e = u.sent()) ? (r(t, e), [2]) : (i(t), [2])
                        }
                    }))
                }))
            }, t.prototype.Je = function(t) {
                var n = t.targetId,
                    i = t.serializedTextData,
                    r = {
                        date: t.date,
                        args: [n, i],
                        type: Mn.MUTATION_CHARACTER_DATA
                    };
                this._e(r)
            }, t.prototype.We = function(t) {
                var n = t.targetId,
                    i = t.targetValue,
                    r = {
                        date: t.date,
                        args: [n, csString.prototype.replace.call(i, /\S/g, "")],
                        type: Mn.INPUT_TEXT
                    };
                this.Le(r)
            }, t.prototype.Ve = function(t, n) {
                var i = t.targetId,
                    r = t.serializedTextData,
                    s = {
                        date: t.date,
                        args: [i, r, n, this.I.encryptionPublicKeyId],
                        type: Mn.MUTATION_ENCRYPTED_CHARACTER_DATA
                    };
                this._e(s)
            }, t.prototype.Ke = function(t, n) {
                var i = t.targetId,
                    r = t.targetValue,
                    s = {
                        date: t.date,
                        args: [i, csString.prototype.replace.call(r, /\S/g, ""), n, this.I.encryptionPublicKeyId],
                        type: Mn.INPUT_ENCRYPTED_TEXT
                    };
                this.Le(s)
            }, t.prototype.Ye = function(t, n) {
                var i = {
                    type: Mn.USER_IDENTIFIER,
                    args: [n, t.keyId],
                    date: t.date
                };
                this.xe(i)
            }, t.prototype.Be = function(t) {
                return V(this, void 0, void 0, (function() {
                    var n, i, r, s, e, u, o, h, c, a, f;
                    return J(this, (function(v) {
                        switch (v.label) {
                            case 0:
                                return this.Oe ? [4, this.de.generateEncryptionKey()] : (this.Fe(t), [2]);
                            case 1:
                                if (n = v.sent(), i = this.de.generateInitializationVector(), null === n || null === i) return this.Fe(t), [2];
                                v.label = 2;
                            case 2:
                                return v.trys.push([2, 19, , 20]), t.customRequestHeaders ? this.Xe(t.customRequestHeaders, this.Se) ? [3, 3] : (t.customRequestHeaders = "", [3, 5]) : [3, 5];
                            case 3:
                                return r = t, [4, this.$e(n, i, t.customRequestHeaders)];
                            case 4:
                                r.customRequestHeaders = v.sent(), v.label = 5;
                            case 5:
                                return t.customResponseHeaders ? this.Xe(t.customResponseHeaders, this.Se) ? [3, 6] : (t.customResponseHeaders = "", [3, 8]) : [3, 8];
                            case 6:
                                return s = t, [4, this.$e(n, i, t.customResponseHeaders)];
                            case 7:
                                s.customResponseHeaders = v.sent(), v.label = 8;
                            case 8:
                                return t.queryParameters ? this.Xe(t.queryParameters, this.Re) ? [3, 9] : (t.queryParameters = this.Ne, [3, 11]) : [3, 11];
                            case 9:
                                return e = this.Ee.compressSync(t.queryParameters, "base64"), u = t, [4, this.$e(n, i, e)];
                            case 10:
                                u.queryParameters = v.sent(), v.label = 11;
                            case 11:
                                return t.requestBody ? this.Xe(t.requestBody, this.be) ? [3, 12] : (t.requestBody = this.Ne, [3, 14]) : [3, 14];
                            case 12:
                                return o = this.Ee.compressSync(t.requestBody, "base64"), h = t, [4, this.$e(n, i, o)];
                            case 13:
                                h.requestBody = v.sent(), v.label = 14;
                            case 14:
                                return t.responseBody ? this.Xe(t.responseBody, this.Te) ? [3, 15] : (t.responseBody = this.Ne, [3, 17]) : [3, 17];
                            case 15:
                                return c = this.Ee.compressSync(t.responseBody, "base64"), a = t, [4, this.$e(n, i, c)];
                            case 16:
                                a.responseBody = v.sent(), v.label = 17;
                            case 17:
                                return f = t, [4, this.Ze(n, this.Oe)];
                            case 18:
                                return f.secret = v.sent(), [3, 20];
                            case 19:
                                return v.sent(), this.Fe(t), [2];
                            case 20:
                                return t.initializationVector = this.de.exportInitializationVector(i), t.encryptionKeyId = this.I.encryptionPublicKeyId, this.Pe(t), [2]
                        }
                    }))
                }))
            }, t.prototype.Xe = function(t, n) {
                return this.De.encode(t).byteLength <= n
            }, t.prototype.Fe = function(t) {
                t.customRequestHeaders = "", t.customResponseHeaders = "", t.queryParameters = "", t.requestBody = "", t.responseBody = "", this.Pe(t)
            }, t.prototype.$e = function(t, n, i) {
                return V(this, void 0, void 0, (function() {
                    var r;
                    return J(this, (function(s) {
                        switch (s.label) {
                            case 0:
                                return [4, this.de.encrypt({
                                    encryptionKey: t,
                                    initializationVector: n
                                }, i)];
                            case 1:
                                if (!(r = s.sent())) throw new Error("Encryption failed");
                                return [2, r]
                        }
                    }))
                }))
            }, t.prototype.Ze = function(t, n) {
                return V(this, void 0, void 0, (function() {
                    var i, r;
                    return J(this, (function(s) {
                        switch (s.label) {
                            case 0:
                                return [4, this.de.exportSecret(t)];
                            case 1:
                                if (!(i = s.sent())) throw new Error("Export secret failed");
                                return [4, this.le.encrypt({
                                    publicKey: n
                                }, i)];
                            case 2:
                                if (!(r = s.sent())) throw new Error("Encrypt secret failed");
                                return [2, r]
                        }
                    }))
                }))
            }, t
        }(),
        hr = function() {
            function t(t) {
                this.Pn = t
            }
            return t.prototype.serializeTextNode = function(t, n) {
                this.Pn.shouldEncrypt(t) && (n.data = Ei(t.data), this.Pn.registerTextNodeToEncrypt({
                    textNode: t,
                    serializedTextData: n.data
                }))
            }, t
        }(),
        cr = function() {
            function t() {
                this.Qe = []
            }
            return t.prototype.onSerializeData = function(t) {
                this.tu = t
            }, t.prototype.addData = function(t) {
                csArray.prototype.push.call(this.Qe, t)
            }, t.prototype.serializeDataFromBuffer = function() {
                for (; this.Qe.length > 0;) {
                    var t = csArray.prototype.shift.call(this.Qe);
                    this.tu(t)
                }
            }, t.prototype.clear = function() {
                this.Qe = []
            }, t
        }();

    function ar(t) {
        for (var n = new Uint8Array(t), i = "", r = 0; r < n.byteLength; r += 1) i += csString.fromCodePoint(n[r]);
        return i
    }

    function fr(t) {
        return function(t) {
            for (var n = new ArrayBuffer(t.length), i = new Uint8Array(n), r = 0, s = t.length; r < s; r += 1) i[r] = csString.prototype.charCodeAt.call(t, r);
            return n
        }(self.atob(t))
    }
    var vr, lr, dr = function() {
            function t(t) {
                this.crypto = t, this.nu = !1
            }
            return t.prototype.init = function() {
                this.nu = this.canSupportEncryption(), this.nu && (this.textEncoder = new TextEncoder)
            }, t.prototype.isSupported = function() {
                return this.nu
            }, t.prototype.canSupportEncryption = function() {
                return !!(this.crypto && this.crypto.subtle && this.crypto.subtle.encrypt && window.self.CryptoKey && window.self.TextEncoder && csString.fromCodePoint)
            }, t
        }(),
        wr = "AES-CTR",
        yr = function(t) {
            function n() {
                return null !== t && t.apply(this, arguments) || this
            }
            return H(n, t), n.prototype.exportInitializationVector = function(t) {
                return ar(t)
            }, n.prototype.exportSecret = function(t) {
                var n;
                return V(this, void 0, void 0, (function() {
                    var i;
                    return J(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                if (!this.isSupported()) return [2, null];
                                r.label = 1;
                            case 1:
                                return r.trys.push([1, 3, , 4]), [4, this.crypto.subtle.exportKey("jwk", t)];
                            case 2:
                                return i = r.sent(), [2, null !== (n = i.k) && void 0 !== n ? n : null];
                            case 3:
                                return r.sent(), [2, null];
                            case 4:
                                return [2]
                        }
                    }))
                }))
            }, n.prototype.generateEncryptionKey = function() {
                return V(this, void 0, void 0, (function() {
                    return J(this, (function(t) {
                        switch (t.label) {
                            case 0:
                                if (!this.isSupported()) return [2, null];
                                t.label = 1;
                            case 1:
                                return t.trys.push([1, 3, , 4]), [4, this.crypto.subtle.generateKey({
                                    name: wr,
                                    length: 128
                                }, !0, ["encrypt", "decrypt"])];
                            case 2:
                                return [2, t.sent()];
                            case 3:
                                return t.sent(), [2, null];
                            case 4:
                                return [2]
                        }
                    }))
                }))
            }, n.prototype.generateInitializationVector = function() {
                return this.isSupported() ? this.crypto.getRandomValues(new Uint8Array(16)) : null
            }, n.prototype.encrypt = function(t, n) {
                return V(this, void 0, void 0, (function() {
                    var i, r;
                    return J(this, (function(s) {
                        switch (s.label) {
                            case 0:
                                if (!this.isSupported()) return [2, null];
                                i = {
                                    counter: t.initializationVector,
                                    name: wr,
                                    length: 64
                                }, r = this.textEncoder.encode(n), s.label = 1;
                            case 1:
                                return s.trys.push([1, 3, , 4]), [4, this.crypto.subtle.encrypt(i, t.encryptionKey, r)];
                            case 2:
                                return [2, ar(s.sent())];
                            case 3:
                                return s.sent(), [2, null];
                            case 4:
                                return [2]
                        }
                    }))
                }))
            }, n.prototype.canSupportEncryption = function() {
                return t.prototype.canSupportEncryption.call(this) && !!this.crypto.getRandomValues && !!this.crypto.subtle.generateKey && !!this.crypto.subtle.exportKey
            }, n
        }(dr),
        pr = "RSA-OAEP",
        mr = function(t) {
            function n() {
                return null !== t && t.apply(this, arguments) || this
            }
            return H(n, t), n.prototype.importKey = function(t) {
                return V(this, void 0, void 0, (function() {
                    return J(this, (function(n) {
                        switch (n.label) {
                            case 0:
                                if (!this.isSupported()) return [2, null];
                                n.label = 1;
                            case 1:
                                return n.trys.push([1, 3, , 4]), [4, this.crypto.subtle.importKey("spki", fr(t), {
                                    name: pr,
                                    hash: "SHA-256"
                                }, !1, ["encrypt"])];
                            case 2:
                                return [2, n.sent()];
                            case 3:
                                return n.sent(), [2, null];
                            case 4:
                                return [2]
                        }
                    }))
                }))
            }, n.prototype.encrypt = function(t, n) {
                return V(this, void 0, void 0, (function() {
                    var i;
                    return J(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                if (!this.isSupported()) return [2, null];
                                if (!(i = this.iu(n, 190))) return [2, null];
                                r.label = 1;
                            case 1:
                                return r.trys.push([1, 3, , 4]), [4, this.crypto.subtle.encrypt({
                                    name: pr
                                }, t.publicKey, i)];
                            case 2:
                                return [2, ar(r.sent())];
                            case 3:
                                return r.sent(), [2, null];
                            case 4:
                                return [2]
                        }
                    }))
                }))
            }, n.prototype.iu = function(t, n) {
                for (var i = 0, r = 0, s = 0; s < t.length; s++) {
                    var e = csString.prototype.codePointAt.call(t, s);
                    if (!e) return null;
                    var u = this.ru(e);
                    if (u + i > n) break;
                    r++, i += u
                }
                var o = csString.prototype.slice.call(t, 0, r);
                return this.textEncoder.encode(o)
            }, n.prototype.ru = function(t) {
                return t <= 127 ? 1 : t <= 2047 ? 2 : t <= 65535 ? 3 : 4
            }, n.prototype.canSupportEncryption = function() {
                return t.prototype.canSupportEncryption.call(this) && !!this.crypto.subtle.importKey
            }, n
        }(dr);
    ! function(t) {
        t[t.TAP = 0] = "TAP", t[t.LONG_PRESS = 1] = "LONG_PRESS", t[t.DRAG = 2] = "DRAG", t[t.FLICK = 3] = "FLICK", t[t.PINCH_IN = 4] = "PINCH_IN", t[t.PINCH_OUT = 5] = "PINCH_OUT"
    }(vr || (vr = {})),
    function(t) {
        t[t.UP = 1] = "UP", t[t.DOWN = 2] = "DOWN", t[t.LEFT = 3] = "LEFT", t[t.RIGHT = 4] = "RIGHT"
    }(lr || (lr = {}));
    var gr = function() {
            function t(t, n, i) {
                this.su = t, this.Ln = n, this.xn = i
            }
            return t.prototype.start = function() {
                var n = this;
                this.su.subscribe(t.eu, (function(t, i) {
                    return n.processGesture(t, i)
                }))
            }, t.prototype.stop = function() {
                this.su.unsubscribe(t.eu)
            }, t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.processGesture = function(t, n) {
                if (t.target && (!f(t.target) || !this.xn.isSensitiveChild(t.target))) {
                    var i = this.Ln.getId(t.target);
                    if (i) switch (t.type) {
                        case vr.DRAG:
                        case vr.FLICK:
                            this.ou(Un.SWIPE, t, i, n);
                            break;
                        case vr.LONG_PRESS:
                            this.ou(Un.LONG_PRESS, t, i, n);
                            break;
                        case vr.TAP:
                            this.ou(Un.TAP, t, i, n);
                            break;
                        case vr.PINCH_IN:
                            this.ou(Un.PINCH_IN, t, i, n);
                            break;
                        case vr.PINCH_OUT:
                            this.ou(Un.PINCH_OUT, t, i, n)
                    }
                }
            }, t.prototype.ou = function(t, n, i, r) {
                var s = this.hu(n, t, r),
                    e = {
                        type: Mn.GESTURE_RECOGNITION,
                        args: [i, s],
                        date: pt()
                    };
                this.bi(e)
            }, t.prototype.hu = function(t, n, i) {
                var r = {
                    type: n
                };
                if (t.direction && (r.direction = t.direction), t.distance && (r.distance = t.distance), t.velocity && (r.velocity = t.velocity), n === Un.TAP && i.changedTouches && 1 === i.changedTouches.length) {
                    var s = i.changedTouches[0];
                    r.pageX = Hn(s.pageX, 1), r.pageY = Hn(s.pageY, 1)
                }
                return r
            }, t.eu = "RecordingGesturesTracker", G([ni()], t.prototype, "processGesture", null), t
        }(),
        Ar = function(t) {
            function n(n) {
                var i = t.call(this, n) || this;
                return i.name = n.name, i.publicId = n.publicId, i.systemId = n.systemId, i.nodeType = 10, i
            }
            return H(n, t), n
        }(Di),
        Er = function(t) {
            var n;
            this.name = t.name, this.value = t.value, this.namespaceURI = null !== (n = t.namespaceURI) && void 0 !== n ? n : ""
        },
        Sr = function(t) {
            function n(n) {
                var i = t.call(this, n) || this;
                return i.data = n.data, i.nodeType = 3, i
            }
            return H(n, t), n
        }(Di),
        br = function(t) {
            function n(n) {
                var i = t.call(this, n) || this;
                return i.data = n.data, i.nodeType = 4, i
            }
            return H(n, t), n
        }(Di),
        Tr = function(t) {
            function n(n) {
                var i = t.call(this, n) || this;
                return i.data = n.data, i.nodeType = 8, i
            }
            return H(n, t), n
        }(Di),
        Rr = function(t) {
            function n(i) {
                var r = t.call(this, i) || this;
                return r.baseURI = n.getBaseURI(i), r.children = [], r.nodeType = 9, r
            }
            return H(n, t), n.getBaseURI = function(t) {
                var n = t.baseURI;
                if (null == n) {
                    var i = t.getElementsByTagName("base");
                    n = 0 !== i.length ? i[0].href : t.URL
                }
                return n
            }, n
        }(Di),
        Nr = function(t) {
            function n(n) {
                var i = t.call(this, n) || this;
                return i.mode = n.mode, i.children = [], i.nodeType = 11, i
            }
            return H(n, t), n
        }(Di),
        kr = function() {
            function t(n) {
                for (var i = function(i) {
                        var s = csArray.prototype.map.call(csArray.prototype.filter.call(n, (function(t) {
                                return t[i]
                            })), (function(t) {
                                return function(n, r, s, e) {
                                    return t[i](n, r, s, e)
                                }
                            })),
                            e = t.au(s);
                        r[i] = e
                    }, r = this, s = 0, e = t.fu; s < e.length; s++) {
                    i(e[s])
                }
            }
            return t.create = function(n) {
                return new t(n)
            }, t.au = function(t) {
                var n = csArray.prototype.map.call(t, (function(t) {
                        return function(n, i, r, s) {
                            return t(n, i, r, s) || i
                        }
                    })),
                    i = n[0],
                    r = n[1],
                    s = n[2],
                    e = n[3],
                    u = n[4];
                switch (t.length) {
                    case 1:
                        return t[0];
                    case 2:
                        return function(t, n, s, e) {
                            return r(t, i(t, n, s, e), s, e)
                        };
                    case 3:
                        return function(t, n, e, u) {
                            return s(t, r(t, i(t, n, e, u), e, u), e, u)
                        };
                    case 4:
                        return function(t, n, u, o) {
                            return e(t, s(t, r(t, i(t, n, u, o), u, o), u, o), u, o)
                        };
                    case 5:
                        return function(t, n, o, h) {
                            return u(t, e(t, s(t, r(t, i(t, n, o, h), o, h), o, h), o, h), o, h)
                        };
                    default:
                        return function(n, i, r, s) {
                            for (var e = i, u = 0; u < t.length; u++) e = t[u](n, i, r, s) || e;
                            return i
                        }
                }
            }, t.fu = ["beforeSerializeAttributes", "beforeSerializeChildren", "afterSerialize", "afterSerializeShadowRoot", "serializeElementNode", "serializeAttribute", "serializeTextNode", "serializeCDATASectionNode", "serializeCommentNode", "serializeShadowRootNode"], t
        }(),
        Or = function() {
            function t(t) {
                this.vu = kr.create(t)
            }
            return t.prototype.isAsynchronous = function() {
                return !0
            }, t.prototype.serialize = function(t, n) {
                var i, r = F({}, n),
                    s = t.nodeType;
                switch (s) {
                    case 1:
                        i = this.lu(t, r);
                        break;
                    case 3:
                        i = this.du(t, r);
                        break;
                    case 4:
                        i = this.wu(t, r);
                        break;
                    case 7:
                    case 8:
                        i = this.yu(t, r);
                        break;
                    case 10:
                        i = new Ar(t);
                        break;
                    case 9:
                        i = this.pu(t, r);
                        break;
                    case 11:
                        i = this.mu(t, r);
                        break;
                    default:
                        throw new Error("serialization is not supported (nodeType: ".concat(s, ")"))
                }
                return this.vu.afterSerialize(t, i, r), i
            }, t.prototype.lu = function(t, n) {
                var i = new Ui(t);
                this.vu.serializeElementNode(t, i, n), i.attributes = this.gu(t, n);
                var r = csElementshadowRoot.apply(t);
                return r && (i.shadowRoot = this.Au(r, n)), i.children = this.Eu(t, n), i
            }, t.prototype.gu = function(t, n) {
                var i = ui(t.attributes);
                i = this.vu.beforeSerializeAttributes(t, i, n);
                for (var r = 0; r < i.length; ++r) {
                    var s = i[r];
                    i[r] = this.Su(t, s, n)
                }
                return i
            }, t.prototype.Su = function(t, n, i) {
                var r = new Er(n);
                return this.vu.serializeAttribute(t, n, r, i), r
            }, t.prototype.runBeforeSerializeChildrenHook = function(t, n, i) {
                var r = i || csNodechildNodes.apply(t);
                return r = n.excludedNodes ? hi(r, (function(t) {
                    return !n.excludedNodes.get(t)
                })) : r, ui(r = this.vu.beforeSerializeChildren(t, r, n))
            }, t.prototype.Eu = function(t, n) {
                if (n.skipChildrenSerialization) return [];
                for (var i = this.runBeforeSerializeChildrenHook(t, n), r = 0; r < i.length; ++r) {
                    var s = i[r];
                    i[r] = this.serialize(s, n)
                }
                return i
            }, t.prototype.du = function(t, n) {
                var i = new Sr(t);
                return this.vu.serializeTextNode(t, i, n), i
            }, t.prototype.wu = function(t, n) {
                var i = new br(t);
                return this.vu.serializeCDATASectionNode(t, i, n), i
            }, t.prototype.yu = function(t, n) {
                var i = new Tr(t);
                return this.vu.serializeCommentNode(t, i, n), i
            }, t.prototype.pu = function(t, n) {
                var i = new Rr(t);
                return i.children = this.Eu(t, n), i
            }, t.prototype.Au = function(t, n) {
                var i = new Nr(t);
                return this.vu.serializeShadowRootNode(t, i, n), i.children = this.Eu(t, n), this.vu.afterSerializeShadowRoot(t, i, n), i
            }, t.prototype.mu = function(t, n) {
                if (t.mode) return this.Au(t, n);
                throw new Error("Not implemented yet.")
            }, t
        }();

    function Ir() {
        return V(this, void 0, void 0, (function() {
            return J(this, (function(t) {
                switch (t.label) {
                    case 0:
                        return [4, new Promise((function(t) {
                            setTimeout((function() {
                                t()
                            }), 0)
                        }))];
                    case 1:
                        return t.sent(), [2]
                }
            }))
        }))
    }
    var Cr = function() {
        function t(t) {
            this.Ln = t, this.bu = !1, this.Tu = new Map, this.Ru = {}, this.Nu = new Map, this.ku = new Map, this.Ou = new Set, this.Iu = new Map
        }
        return t.prototype.beforeSerializeChildren = function(t, n) {
            var i = this;
            return this.bu ? hi(n, (function(t) {
                return !i.isAddedNodeDuringSerialization(t)
            })) : n
        }, t.prototype.beforeSerializeAttributes = function(t, n, i) {
            if (!this.bu) return n;
            var r = this.Ln.getId(t);
            if (!r) return n;
            var s = this.ku.get(r);
            return s ? csArray.prototype.filter.call(n, (function(t) {
                var n = "".concat(t.name).concat(t.namespaceURI || ""),
                    i = s.get(n);
                return !(i && null === i.value)
            })) : n
        }, t.prototype.serializeTextNode = function(t, n, i) {
            if (this.bu) {
                var r = this.Nu.get(n.csId);
                r && (n.data = r)
            }
        }, t.prototype.serializeCommentNode = function(t, n) {
            if (this.bu) {
                var i = this.Nu.get(n.csId);
                i && (n.data = i)
            }
        }, t.prototype.afterSerialize = function(t, n, i) {
            this.bu && (csNodeparentNode.apply(t) && !this.getSerializedNodeByNode(csNodeparentNode.apply(t)) || i.skipRegisterNode || this.Cu(n, i))
        }, t.prototype.afterSerializeShadowRoot = function(t, n, i) {
            this.bu && (i.skipRegisterNode || this.Cu(n, i))
        }, t.prototype.enable = function() {
            this.bu = !0, this._u()
        }, t.prototype.disable = function() {
            this.bu = !1, this._u()
        }, t.prototype.setDefaultSerializationOptions = function(t) {
            this.Ru = t
        }, t.prototype.getSerializedNodeById = function(t) {
            var n;
            return null === (n = this.Tu.get(t)) || void 0 === n ? void 0 : n.serializedNode
        }, t.prototype.getSerializedNodeByNode = function(t) {
            var n, i = this.Ln.getId(t);
            if (i) return null === (n = this.Tu.get(i)) || void 0 === n ? void 0 : n.serializedNode
        }, t.prototype.getOptions = function(t) {
            var n, i = this.Ln.getId(t);
            return i && (null === (n = this.Tu.get(i)) || void 0 === n ? void 0 : n.options) || this.Ru
        }, t.prototype.registerInitialCharacterData = function(t, n) {
            this.Nu.get(t) || this.Nu.set(t, n)
        }, t.prototype.registerInitialAttributes = function(t, n, i, r) {
            var s = this.ku.get(t),
                e = "".concat(i).concat(n || "");
            if (s) {
                if (s.has(e)) return
            } else s = new Map, this.ku.set(t, s);
            var u = {
                name: i,
                namespaceURI: n || "",
                value: r
            };
            s.set(e, u)
        }, t.prototype.markAddedTreeAsProcessed = function(t) {
            for (var n, i = document.createNodeIterator(t, NodeFilter.SHOW_ALL, null, !1); n = i.nextNode();) {
                var r = this.Ln.getId(n);
                r && this.Ou.add(r)
            }
        }, t.prototype.markRemovedNodeAsProcessed = function(t, n, i) {
            var r = this.Ln.getId(i),
                s = this.Ln.getId(t);
            if (r && s) {
                var e = this.Iu.get(r);
                if (e) csArray.prototype.push.call(e.removedNodeIds, s), csArray.prototype.indexOf.call(e.childNodeIds, s) < 0 && csArray.prototype.push.call(e.childNodeIds, s);
                else {
                    for (var u = [], o = n ? this.Ln.getId(n) : null, h = 0; h < csNodechildNodes.apply(i).length; h += 1) {
                        var c = this.Ln.getId(csNodechildNodes.apply(i)[h]);
                        c && !this.Ou.has(c) && (o && c === o && csArray.prototype.push.call(u, s), csArray.prototype.push.call(u, c))
                    }
                    null === o && csArray.prototype.push.call(u, s);
                    var a = [s];
                    this.Iu.set(r, {
                        childNodeIds: u,
                        removedNodeIds: a
                    })
                }
            }
        }, t.prototype.addSerializedChildToParent = function(t, n, i) {
            var r = this.getSerializedNodeByNode(t);
            r && Lr(r) && this.Lu(n, r, i)
        }, t.prototype.isAddedNodeDuringSerialization = function(t) {
            var n = this.Ln.getId(t);
            return !!n && this.Ou.has(n)
        }, t.prototype.getInitialIndexInParent = function(t, n) {
            var i = this.Ln.getId(n),
                r = this.Ln.getId(t);
            if (!i || !r) return -1;
            var s = this.Iu.get(i);
            return s ? csArray.prototype.indexOf.call(s.childNodeIds, r) : -1
        }, t.prototype._u = function() {
            this.Tu.clear(), this.Nu.clear(), this.ku.clear(), this.Ou.clear(), this.Iu.clear()
        }, t.prototype.Cu = function(t, n) {
            t.csId && (this.xu(t.csId, t, n), this.Pu(t.csId, t), this.Tu.set(t.csId, {
                serializedNode: t,
                options: n
            }))
        }, t.prototype.xu = function(t, n, i) {
            if (function(t) {
                    return t instanceof Ui
                }(n)) {
                var r = this.ku.get(t);
                if (r) {
                    for (var s = 0, e = n.attributes; s < e.length; s++) {
                        var u = e[s],
                            o = "".concat(u.name).concat(u.namespaceURI || ""),
                            h = r.get(o);
                        h && null !== h.value && (u.value = h.value, r.delete(o))
                    }
                    r.forEach((function(t) {
                        null !== t.value && csArray.prototype.push.call(n.attributes, {
                            name: t.name,
                            value: t.value,
                            namespaceURI: t.namespaceURI,
                            anonymized: i.withAnonymization || !1
                        })
                    }))
                }
            }
        }, t.prototype.Lu = function(t, n, i) {
            (i.csId || _r(i)) && (t >= 0 ? csArray.prototype.splice.call(n.children, t, 0, i) : _r(i) && csArray.prototype.push.call(n.children, i))
        }, t.prototype.Pu = function(t, n) {
            var i;
            if (Lr(n)) {
                var r = this.Iu.get(t);
                if (r)
                    for (var s = 0, e = r.removedNodeIds; s < e.length; s++) {
                        var u = e[s],
                            o = csArray.prototype.indexOf.call(r.childNodeIds, u);
                        if (-1 !== o) {
                            var h = null === (i = this.Tu.get(u)) || void 0 === i ? void 0 : i.serializedNode;
                            void 0 !== h && this.Lu(o, n, h)
                        }
                    }
            }
        }, t
    }();

    function _r(t) {
        return "artificial" in t
    }

    function Lr(t) {
        return "children" in t
    }
    var xr, Pr, Mr = {
            taskTime: 25
        },
        Dr = function(t) {
            function n(n, i, r, s) {
                void 0 === r && (r = new Cr(i)), void 0 === s && (s = Mr);
                var e = t.call(this, W([r], n, !0)) || this;
                return e.Mu = i, e.Du = r, e.Uu = s, e.ju = 0, e.zu = e.Uu.taskTime, e
            }
            return H(n, t), n.prototype.isAsynchronous = function() {
                return !0
            }, n.prototype.handleMutationAttribute = function(t, n) {
                var i = n[0],
                    r = n[1],
                    s = n[2];
                this.Du.getSerializedNodeById(i) || this.Du.registerInitialAttributes(i, r, s, t)
            }, n.prototype.handleMutationCharacterData = function(t, n) {
                var i = n[0];
                this.Du.getSerializedNodeById(i) || this.Du.registerInitialCharacterData(i, t.oldValue || "")
            }, n.prototype.serializeMutationChildList = function(t, n, i) {
                var r = this.Xr(t, n, i);
                return this.qu(t), {
                    removedNodes: this.Yr(t, n),
                    addedNodes: r
                }
            }, n.prototype.startSerializeAsync = function(t, n) {
                return void 0 === n && (n = {}), V(this, void 0, void 0, (function() {
                    return J(this, (function(i) {
                        return this.ju += 1, this.Du.setDefaultSerializationOptions(n), [2, this.Bu(t, n)]
                    }))
                }))
            }, n.prototype.Xr = function(t, n, i) {
                var r = [],
                    s = null;
                if (t.nextSibling) {
                    var e = this.Mu.getId(t.nextSibling);
                    s = void 0 !== e ? e : null
                }
                for (var u = this.Mu.getId(t.target), o = 0; o < t.addedNodes.length; o += 1) {
                    var h = t.addedNodes[o],
                        c = this.serialize(h, {
                            excludedNodes: i,
                            skipRegisterNode: !0,
                            withAnonymization: n
                        }),
                        a = i.get(h);
                    a && i.set(h, a - 1), csArray.prototype.push.call(r, [u, s, c])
                }
                return r
            }, n.prototype.qu = function(t) {
                for (var n = 0; n < t.addedNodes.length; n += 1) {
                    var i = t.addedNodes[n];
                    this.Du.markAddedTreeAsProcessed(i)
                }
            }, n.prototype.Hu = function(t, n) {
                if (!n) return -1;
                var i = this.Du.getInitialIndexInParent(t, n);
                return i >= 0 ? i : csArray.prototype.indexOf.call(csNodechildNodes.apply(n), t)
            }, n.prototype.Yr = function(t, n) {
                for (var i = [], r = 0; r < t.removedNodes.length; r += 1) {
                    var s = t.removedNodes[r];
                    if (this.Du.markRemovedNodeAsProcessed(s, t.nextSibling, t.target), this.Fu(s)) this.Gu(s) && this.Vu(s, n);
                    else {
                        var e = this.serialize(s, {
                            withAnonymization: n
                        });
                        if (this.Gu(t.target)) {
                            var u = this.Hu(s, t.target);
                            this.Du.addSerializedChildToParent(t.target, u, e)
                        }
                    }
                    var o = this.Mu.getId(s);
                    o && csArray.prototype.push.call(i, [o])
                }
                return i
            }, n.prototype.Vu = function(t, n) {
                for (var i = 0; i < csNodechildNodes.apply(t).length; i += 1) {
                    var r = csNodechildNodes.apply(t)[i];
                    if (this.Gu(r)) this.Vu(r, n);
                    else if (!this.Du.isAddedNodeDuringSerialization(r)) {
                        var s = this.serialize(r, {
                                withAnonymization: n
                            }),
                            e = this.Hu(r, t);
                        this.Du.addSerializedChildToParent(t, e, s)
                    }
                }
            }, n.prototype.Gu = function(t) {
                return !!this.Du.getSerializedNodeByNode(t)
            }, n.prototype.Fu = function(t) {
                return this.Gu(t) || this.Du.isAddedNodeDuringSerialization(t)
            }, n.prototype.Bu = function(t, n) {
                return void 0 === n && (n = {}), V(this, void 0, void 0, (function() {
                    var i, r, s, e, u, o, h, c, a, v, l;
                    return J(this, (function(d) {
                        switch (d.label) {
                            case 0:
                                return i = this.ju, r = pt(), this.Du.enable(), n.skipChildrenSerialization = !0, s = [t], [4, Ir()];
                            case 1:
                                if (d.sent(), i !== this.ju) return [2, null];
                                this.Ju = csDate.now(), this.serialize(t, n), d.label = 2;
                            case 2:
                                if (!(s.length > 0)) return [3, 7];
                                e = csArray.prototype.pop.call(s), u = this.Du.getOptions(e), o = this.runBeforeSerializeChildrenHook(e, u), h = csArray.prototype.shift.call(o), d.label = 3;
                            case 3:
                                return h ? csDate.now() - this.Ju > this.zu ? [4, Ir()] : [3, 5] : [3, 6];
                            case 4:
                                if (d.sent(), i !== this.ju) return [2, null];
                                this.Ju = csDate.now(), d.label = 5;
                            case 5:
                                return this.Fu(h) ? (h = csArray.prototype.shift.call(o), [3, 3]) : (csArray.prototype.push.call(s, h), c = this.serialize(h, u), a = this.Hu(h, e), this.Du.addSerializedChildToParent(e, a, c), f(h) && csElementshadowRoot.apply(h) && (v = csElementshadowRoot.apply(h), csArray.prototype.push.call(s, v)), h = csArray.prototype.shift.call(o), [3, 3]);
                            case 6:
                                return [3, 2];
                            case 7:
                                if (!(l = this.Du.getSerializedNodeByNode(t))) throw this.Du.disable(), new Error("traverseAndSerialize : fail to serialize");
                                return this.Du.disable(), [2, {
                                    args: [l],
                                    date: r,
                                    type: Mn.INITIAL_DOM
                                }]
                        }
                    }))
                }))
            }, n
        }(Or),
        Ur = function(t) {
            function n() {
                return null !== t && t.apply(this, arguments) || this
            }
            return H(n, t), n.prototype.isAsynchronous = function() {
                return !1
            }, n
        }(Or),
        jr = function() {
            function t() {
                this.Wu = !1
            }
            return t.prototype.isSupported = function() {
                return "object" == typeof window.customElements && "function" == typeof window.customElements.whenDefined && "function" == typeof window.Promise
            }, t.prototype.start = function() {
                !this.Wu && this.isSupported() && (this.Ku ? this.Ku.clear() : this.Ku = new Set, this.Wu = !0)
            }, t.prototype.stop = function() {
                this.Wu && (this.Wu = !1)
            }, t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.register = function(t) {
                return V(this, void 0, void 0, (function() {
                    return J(this, (function(n) {
                        switch (n.label) {
                            case 0:
                                return this.Ku.has(t) ? [2] : (this.Ku.add(t), [4, window.customElements.whenDefined(t)]);
                            case 1:
                                return n.sent(), this.Yu(t), [2]
                        }
                    }))
                }))
            }, t.prototype.Yu = function(t) {
                if (this.Wu) {
                    var n = {
                        type: Mn.CUSTOM_ELEMENT_REGISTRATION,
                        date: pt(),
                        args: [t]
                    };
                    this.bi(n)
                }
            }, t.prototype.getProcessor = function() {
                return new(function() {
                    function t(t) {
                        this.Xu = t
                    }
                    return t.prototype.serializeElementNode = function(t) {
                        (function(t) {
                            return f(t) && csString.prototype.indexOf.call(t.tagName, "-") > 0 && -1 === csString.prototype.indexOf.call(t.tagName, ":") && -1 === csString.prototype.indexOf.call(t.tagName, '"') && -1 === csString.prototype.indexOf.call(t.tagName, ",") && csArray.prototype.indexOf.call(S, csString.prototype.toLocaleLowerCase.call(t.tagName)) < 0
                        })(t) && this.Xu.register(csString.prototype.toLowerCase.call(t.tagName))
                    }, t
                }())(this)
            }, G([tn("CustomElementRegistrationTracker: register")], t.prototype, "register", null), t
        }(),
        zr = function() {
            function t() {
                this.$u = new Map, this.Zu = document.implementation.createHTMLDocument("")
            }
            return t.prototype.beforeSerializeChildren = function(t, n) {
                if (!y(t)) return n;
                var i = this.Qu(t);
                if (null === i || 0 === i.length) return n;
                if (function(t) {
                        for (var n = t.length, i = 0; i < n; i++) switch (csString.prototype.charCodeAt.call(t, i)) {
                            case 9:
                            case 10:
                            case 11:
                            case 12:
                            case 13:
                            case 32:
                            case 160:
                                continue;
                            default:
                                return !1
                        }
                        return !0
                    }(t.textContent)) {
                    var r = ui(n);
                    return csArray.prototype.push.call(r, this.no(i)), r
                }
                var s = this.io(t);
                if (s === i.length) return n;
                for (var e = new csArray(i.length - s), u = s, o = 0; u < i.length; u += 1, o += 1) e[o] = i[u];
                r = ui(n);
                return csArray.prototype.push.call(r, this.no(e)), r
            }, t.prototype.io = function(t) {
                var n = this.$u.get(t.textContent);
                if (n) return n;
                var i = t.cloneNode(!0);
                i.textContent = t.textContent, this.Zu.head.appendChild(i);
                var r = this.Qu(i);
                return n = r ? r.length : 0, this.$u.set(t.textContent, n), this.Zu.head.removeChild(i), n
            }, t.prototype.Qu = function(t) {
                try {
                    if (t.disabled) return null;
                    var n = t.sheet;
                    return n ? n.cssRules || n.rules : null
                } catch (t) {
                    if ("SecurityError" !== t.name && "InvalidAccessError" !== t.name) throw t;
                    return null
                }
            }, t.prototype.no = function(t) {
                var n = "";
                oi(t, (function(t) {
                    return n += t.cssText
                }));
                var i = document.createTextNode(n);
                return i.__contentsquare_artificial = !0, i
            }, t
        }(),
        qr = function() {
            function t(t, n) {
                this.Ln = t, this.Mi = n, this.ro = 1
            }
            return t.prototype.isAdoptedStyleSheetsSupported = function() {
                return "adoptedStyleSheets" in Document.prototype && "queueMicrotask" in window
            }, t.prototype.init = function() {
                this.isAdoptedStyleSheetsSupported() && (this.so = new Set, this.eo = ki(window.ShadowRoot.prototype, "adoptedStyleSheets", this.uo.bind(this)), this.oo = ki(window.Document.prototype, "adoptedStyleSheets", this.uo.bind(this)))
            }, t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.start = function() {
                this.isAdoptedStyleSheetsSupported() && (this.ho(), this.eo && this.eo.activate(), this.oo && this.oo.activate())
            }, t.prototype.stop = function() {
                this.isAdoptedStyleSheetsSupported() && (this.co(), this.so.clear(), this.eo && this.eo.deactivate(), this.oo && this.oo.deactivate())
            }, t.prototype.serializeDocumentNode = function(t) {
                t.adoptedStyleSheets && this.uo(t, t.adoptedStyleSheets)
            }, t.prototype.serializeShadowRootNode = function(t) {
                t.adoptedStyleSheets && this.uo(t, t.adoptedStyleSheets)
            }, t.prototype.ho = function() {
                this.Mi.registerToInsertRuleInterceptor(this.ao.bind(this)), this.Mi.registerToDeleteRuleInterceptor(this.fo.bind(this))
            }, t.prototype.co = function() {
                var t, n;
                null === (t = this.Qr) || void 0 === t || t.call(this), null === (n = this.ns) || void 0 === n || n.call(this)
            }, t.prototype.uo = function(t, n) {
                var i = this;
                csArray.prototype.forEach.call(n, (function(t) {
                    return i.vo(t)
                }));
                var r = csArray.prototype.map.call(n, (function(t) {
                        return i.lo(t)
                    })),
                    s = this.Ln.getId(t);
                s && queueMicrotask((function() {
                    var t = {
                        type: Mn.SET_ADOPTED_STYLE_SHEETS,
                        args: [s, r],
                        date: pt()
                    };
                    i.bi(t)
                }))
            }, t.prototype.lo = function(t) {
                return t.__adopted_stylesheet_id
            }, t.prototype.ao = function(t, n) {
                var i = n[0],
                    r = n[1],
                    s = this.do(t);
                if (s) {
                    var e = {
                        date: pt(),
                        type: Mn.ADOPTED_STYLESHEET_RULE_INSERT,
                        args: Tt(r) ? [s, i, r] : [s, i]
                    };
                    this.bi(e)
                }
            }, t.prototype.fo = function(t, n) {
                var i = n[0],
                    r = this.do(t);
                if (r && r) {
                    var s = {
                        date: pt(),
                        type: Mn.ADOPTED_STYLESHEET_RULE_DELETE,
                        args: [r, i]
                    };
                    this.bi(s)
                }
            }, t.prototype.do = function(t) {
                return this.so.has(t) && t.__adopted_stylesheet_id ? t.__adopted_stylesheet_id : null
            }, t.prototype.vo = function(t) {
                if (!this.so.has(t)) {
                    var n = this.ro++;
                    t.__adopted_stylesheet_id = n, this.so.add(t);
                    var i = this.wo(t),
                        r = {
                            type: Mn.REGISTER_ADOPTED_STYLE_SHEET,
                            args: [n, i],
                            date: pt()
                        };
                    this.bi(r)
                }
            }, t.prototype.wo = function(t) {
                var n = [];
                try {
                    n = csArray.prototype.map.call(t.cssRules, (function(t) {
                        return t.cssText
                    }))
                } catch (t) {
                    Kt.warn("AdoptedStylesheetsTracker.serializeStyleSheet: could not extract cssRules")
                }
                return {
                    cssRules: n
                }
            }, t
        }();
    ! function(t) {
        t.replayRecordingUnmaskedUrlRegex = "replayRecordingUnmaskedUrlRegex", t.replayRecordingMaskedUrlRegex = "replayRecordingMaskedUrlRegex", t.replayRecordingUnmaskedUrlRegexRules = "replayRecordingUnmaskedUrlRegexRules", t.replayRecordingMaskedUrlRegexRules = "replayRecordingMaskedUrlRegexRules"
    }(xr || (xr = {})),
    function(t) {
        t.START = "start", t.NOT_START = "not-start", t.END = "end", t.NOT_END = "not-end", t.CONTAIN = "contain", t.NOT_CONTAIN = "not-contain", t.EXACT = "exact", t.NOT_EXACT = "not-exact"
    }(Pr || (Pr = {}));
    var Br, Hr = function() {
            function t(t, n, i, r) {
                this.yo = t, this.P = n, this.$ = i, this.po = r
            }
            return t.prototype.init = function() {
                this.mo()
            }, t.prototype.shouldUseAnonymization = function() {
                if (this.yo.isAllowedByConsent()) {
                    switch (this.P.anonymisationMethod) {
                        case null:
                        case xr.replayRecordingMaskedUrlRegex:
                            return !(!this.P.replayRecordingMaskedUrlRegex || !this.P.replayRecordingMaskedUrlRegex.test(this.$.getAnonymizedUrl()));
                        case xr.replayRecordingMaskedUrlRegexRules:
                            return this.po.evaluateUrl(this.$.getAnonymizedUrl())
                    }
                    return !1
                }
                switch (this.P.anonymisationMethod) {
                    case null:
                    case xr.replayRecordingUnmaskedUrlRegex:
                        return !(this.P.replayRecordingUnmaskedUrlRegex && this.P.replayRecordingUnmaskedUrlRegex.test(this.$.getAnonymizedUrl()));
                    case xr.replayRecordingUnmaskedUrlRegexRules:
                        return !this.po.evaluateUrl(this.$.getAnonymizedUrl())
                }
                return !0
            }, t.prototype.mo = function() {
                this.P.anonymisationMethod === xr.replayRecordingMaskedUrlRegexRules && this.P.replayRecordingMaskedUrlRegexRules ? this.po.setRegexRules(this.P.replayRecordingMaskedUrlRegexRules) : this.P.anonymisationMethod === xr.replayRecordingUnmaskedUrlRegexRules && this.P.replayRecordingUnmaskedUrlRegexRules && this.po.setRegexRules(this.P.replayRecordingUnmaskedUrlRegexRules)
            }, t
        }(),
        Fr = function() {
            function t() {}
            return t.isRecordingSupported = function() {
                return "MutationObserver" in window && "visibilityState" in document
            }, t.isAsyncSerializationSupported = function() {
                return "Promise" in window && "findIndex" in csArray.prototype
            }, t
        }(),
        Gr = function() {
            function t() {
                this.pi = !1, this.Ao = [], this.Eo = [], this.So()
            }
            return t.prototype.registerToInsertRuleInterceptor = function(t) {
                var n = this;
                return this.bo(this.Ao, t) ? function() {} : (csArray.prototype.push.call(this.Ao, t), function() {
                    n.Ao = csArray.prototype.filter.call(n.Ao, (function(n) {
                        return n !== t
                    }))
                })
            }, t.prototype.registerToDeleteRuleInterceptor = function(t) {
                var n = this;
                return this.bo(this.Eo, t) ? function() {} : (csArray.prototype.push.call(this.Eo, t), function() {
                    n.Eo = csArray.prototype.filter.call(n.Eo, (function(n) {
                        return n !== t
                    }))
                })
            }, t.prototype.start = function() {
                var t, n;
                this.pi || (this.pi = !0, null === (t = this.To) || void 0 === t || t.activate(), null === (n = this.Ro) || void 0 === n || n.activate())
            }, t.prototype.stop = function() {
                var t, n;
                this.pi && (this.pi = !1, null === (t = this.To) || void 0 === t || t.deactivate(), null === (n = this.Ro) || void 0 === n || n.deactivate())
            }, t.prototype.bo = function(t, n) {
                return csArray.prototype.indexOf.call(t, n) > -1
            }, t.prototype.ko = function(t, n) {
                csArray.prototype.forEach.call(this.Ao, (function(i) {
                    return i(t, n)
                }))
            }, t.prototype.Oo = function(t, n) {
                csArray.prototype.forEach.call(this.Eo, (function(i) {
                    return i(t, n)
                }))
            }, t.prototype.So = function() {
                var t = this;
                this.Io() && (this.To = Ni({
                    target: window.CSSStyleSheet.prototype,
                    methodName: "insertRule",
                    hook: function(n) {
                        var i = n.context,
                            r = n.args;
                        t.ko(i, r)
                    }
                })), this.Co() && (this.Ro = Ni({
                    target: window.CSSStyleSheet.prototype,
                    methodName: "deleteRule",
                    hook: function(n) {
                        var i = n.context,
                            r = n.args;
                        return t.Oo(i, r)
                    }
                }))
            }, t.prototype.Io = function() {
                var t, n;
                return "function" == typeof(null === (n = null === (t = window.CSSStyleSheet) || void 0 === t ? void 0 : t.prototype) || void 0 === n ? void 0 : n.insertRule)
            }, t.prototype.Co = function() {
                var t, n;
                return "function" == typeof(null === (n = null === (t = window.CSSStyleSheet) || void 0 === t ? void 0 : t.prototype) || void 0 === n ? void 0 : n.deleteRule)
            }, t
        }(),
        Vr = function() {
            function t(t) {
                this._o = {}, this.Lo = new li(t)
            }
            return t.prototype.save = function(t) {
                var n = t.key,
                    i = t.metadata,
                    r = t.events;
                this.Lo.isThresholdReached() || (this.Lo.addString(n), "string" == typeof r ? this.Lo.addString(r) : this.Lo.addArrayBuffer(r), this.Lo.isThresholdReached() || (this._o[n] = {
                    metadata: i,
                    events: r
                }))
            }, t.prototype.recover = function(t) {
                var n = this,
                    i = [];
                csArray.prototype.forEach.call(this.xo(), (function(t) {
                    var r = n._o[t];
                    void 0 !== r && (delete r.metadata.datatype, csArray.prototype.push.call(i, r), n.Po(t))
                })), 0 !== i.length && (t(i), this.Lo.reset())
            }, t.prototype.xo = function() {
                return Object.keys(this._o)
            }, t.prototype.Po = function(t) {
                delete this._o[t]
            }, t
        }();
    ! function(t) {
        t[t.NOT_STARTED = 0] = "NOT_STARTED", t[t.OPEN_IN_PROGRESS = 1] = "OPEN_IN_PROGRESS", t[t.OPEN_FAILED = 2] = "OPEN_FAILED", t[t.READY = 3] = "READY"
    }(Br || (Br = {}));
    var Jr, Wr, Kr, Yr, Xr = function() {
            function t(t, n, i) {
                this.Mo = t, this.Do = i, this.Uo = Br.NOT_STARTED, this.jo = [], this.zo = 0, this.qo = self.origin, this.Bo = "object" == typeof window ? "" : "worker-", this.Lo = new li(n), this.Ho()
            }
            return t.prototype.Ho = function() {
                return V(this, void 0, void 0, (function() {
                    return J(this, (function(t) {
                        switch (t.label) {
                            case 0:
                                return [4, this.Fo()];
                            case 1:
                                return t.sent(), this.Uo === Br.READY ? this.Go() : this.Do(this.jo), [2]
                        }
                    }))
                }))
            }, t.prototype.Go = function() {
                var t = this;
                csArray.prototype.forEach.call(this.jo, (function(n) {
                    t.save(n)
                })), this.jo = []
            }, t.prototype.save = function(t) {
                return V(this, void 0, void 0, (function() {
                    var n, i, r;
                    return J(this, (function(s) {
                        switch (s.label) {
                            case 0:
                                return s.trys.push([0, 2, , 3]), this.Uo === Br.OPEN_IN_PROGRESS ? (csArray.prototype.push.call(this.jo, t), [2]) : this.Uo !== Br.READY || this.Lo.isThresholdReached() ? [2] : (n = t.key, i = t.metadata, r = t.events, this.Lo.addString(n), "string" == typeof r ? this.Lo.addString(r) : this.Lo.addArrayBuffer(r), this.Lo.isThresholdReached() ? [2] : [4, this.en.put("".concat(this.qo, "/").concat(n), new Response(r, {
                                    headers: i
                                }))]);
                            case 1:
                                return s.sent(), [3, 3];
                            case 2:
                                return s.sent(), [3, 3];
                            case 3:
                                return [2]
                        }
                    }))
                }))
            }, t.prototype.recover = function(t) {
                return V(this, void 0, void 0, (function() {
                    return J(this, (function(n) {
                        switch (n.label) {
                            case 0:
                                return this.en ? [3, 2] : [4, this.Fo()];
                            case 1:
                                if (n.sent(), this.Uo !== Br.READY) return [2];
                                n.label = 2;
                            case 2:
                                return this.Vo(t), [2]
                        }
                    }))
                }))
            }, t.prototype.Fo = function() {
                return V(this, void 0, void 0, (function() {
                    var t;
                    return J(this, (function(n) {
                        switch (n.label) {
                            case 0:
                                return n.trys.push([0, 2, , 3]), this.Uo = Br.OPEN_IN_PROGRESS, t = this, [4, self.caches.open("".concat(this.Bo).concat(this.Mo))];
                            case 1:
                                return t.en = n.sent(), this.Uo = Br.READY, [3, 3];
                            case 2:
                                return n.sent(), this.Uo = Br.OPEN_FAILED, [3, 3];
                            case 3:
                                return [2]
                        }
                    }))
                }))
            }, t.prototype.Vo = function(t) {
                return V(this, void 0, void 0, (function() {
                    var n, i, r, s, e = this;
                    return J(this, (function(u) {
                        switch (u.label) {
                            case 0:
                                return u.trys.push([0, 5, 6, 7]), this.zo++, this.zo > 1 ? [2] : [4, this.en.keys()];
                            case 1:
                                return 0 === (n = u.sent()).length ? [2] : [4, this.en.matchAll()];
                            case 2:
                                return i = u.sent(), r = csArray.prototype.map.call(i, (function(t) {
                                    var n = {};
                                    t.headers.forEach((function(t, i) {
                                        n[i] = t
                                    })), delete n["content-type"];
                                    var i = n.datatype;
                                    return delete n.datatype, "json" === i || "base64" === i ? t.text().then((function(t) {
                                        return {
                                            metadata: n,
                                            events: t
                                        }
                                    })) : t.arrayBuffer().then((function(t) {
                                        return {
                                            metadata: n,
                                            events: t
                                        }
                                    }))
                                })), [4, Promise.all(r)];
                            case 3:
                                return s = u.sent(), [4, Promise.all(csArray.prototype.map.call(n, (function(t) {
                                    return e.en.delete(t)
                                })))];
                            case 4:
                                return u.sent(), t(s), this.Lo.reset(), [3, 7];
                            case 5:
                                return u.sent(), [3, 7];
                            case 6:
                                return this.zo--, [7];
                            case 7:
                                return [2]
                        }
                    }))
                }))
            }, t
        }(),
        $r = function() {
            function t(t) {
                self.caches ? this.Jo(t) : this.Wo()
            }
            return t.prototype.save = function(t) {
                this.Ko.save(t)
            }, t.prototype.recover = function(t) {
                this.Ko.recover(t)
            }, t.prototype.Jo = function(n) {
                var i = this;
                this.Ko = new Xr(n, t.Yo, (function(t) {
                    i.Wo(t)
                }))
            }, t.prototype.Wo = function(n) {
                var i = this;
                this.Ko = new Vr(t.Yo), n && csArray.prototype.forEach.call(n, (function(t) {
                    i.Ko.save(t)
                }))
            }, t.Yo = 16777216, t
        }();
    ! function(t) {
        t.PORTRAIT = "Portrait", t.LANDSCAPE = "Landscape"
    }(Jr || (Jr = {})),
    function(t) {
        t.PORTRAIT_PRIMARY = "portrait-primary", t.PORTRAIT_SECONDARY = "portrait-secondary", t.LANDSCAPE_PRIMARY = "landscape-primary", t.LANDSCAPE_SECONDARY = "landscape-secondary"
    }(Wr || (Wr = {})),
    function(t) {
        t[t.PORTRAIT = 0] = "PORTRAIT", t[t.PORTRAIT_REVERSE = 180] = "PORTRAIT_REVERSE", t[t.LANDSCAPE = -90] = "LANDSCAPE", t[t.LANDSCAPE_REVERSE = 90] = "LANDSCAPE_REVERSE"
    }(Kr || (Kr = {})),
    function(t) {
        function n() {
            return "orientation" in screen
        }

        function i() {
            return "orientation" in window
        }
        t.isScreenOrientationApiSupported = n, t.isDeprecatedScreenOrientationApiSupported = i;
        var r = n() ? function() {
            switch (screen.orientation.type) {
                case Wr.PORTRAIT_PRIMARY:
                case Wr.PORTRAIT_SECONDARY:
                    return Jr.PORTRAIT;
                case Wr.LANDSCAPE_PRIMARY:
                case Wr.LANDSCAPE_SECONDARY:
                    return Jr.LANDSCAPE;
                default:
                    return Jr.PORTRAIT
            }
        } : i() ? function() {
            switch (window.orientation) {
                case Kr.PORTRAIT:
                case Kr.PORTRAIT_REVERSE:
                    return Jr.PORTRAIT;
                case Kr.LANDSCAPE:
                case Kr.LANDSCAPE_REVERSE:
                    return Jr.LANDSCAPE;
                default:
                    return Jr.PORTRAIT
            }
        } : function() {
            return Jr.LANDSCAPE
        };
        t.getCurrentOrientation = function() {
            return r()
        }
    }(Yr || (Yr = {}));
    var Zr = function() {
            function t() {
                this.Xo = null, this.$o = null, this.pi = !1
            }
            return t.prototype.start = function() {
                this.pi || (this.pi = !0, this.onScreenPotentiallyChanged())
            }, t.prototype.stop = function() {
                this.pi && (this.pi = !1, this.Xo = null, this.$o = null)
            }, t.prototype.setOnScreenChangedCallback = function(t) {
                this.Zo = t
            }, t.prototype.onScreenPotentiallyChanged = function() {
                var t;
                if (this.pi) {
                    var n = Yr.getCurrentOrientation(),
                        i = this.Qo(n),
                        r = i.screenWidth,
                        s = i.screenHeight;
                    if (r !== this.Xo || s !== this.$o) {
                        this.Xo = r, this.$o = s;
                        var e = {
                            type: Mn.SCREEN_RESIZE,
                            args: [r, s],
                            date: pt()
                        };
                        null === (t = this.Zo) || void 0 === t || t.call(this, e)
                    }
                }
            }, t.prototype.Qo = function(t) {
                var n, i, r = ai.screenWidth(),
                    s = ai.screenHeight();
                return t === Jr.PORTRAIT ? (n = r, i = s) : (n = Math.max(r, s), i = Math.min(r, s)), {
                    screenWidth: n,
                    screenHeight: i
                }
            }, t
        }(),
        Qr = function() {
            function t() {
                this.th = []
            }
            return t.prototype.setRegexRules = function(t) {
                var n = this;
                this.th = csArray.prototype.map.call(t, (function(t) {
                    return n.nh(t)
                }))
            }, t.prototype.evaluateUrl = function(t) {
                var n = this;
                return csArray.prototype.some.call(this.th, (function(i) {
                    var r, s, e = n.ih(t, i);
                    return (null == i ? void 0 : i.notOperator) ? !(null === (r = i.regex) || void 0 === r ? void 0 : r.test(e)) : null === (s = i.regex) || void 0 === s ? void 0 : s.test(e)
                }))
            }, t.prototype.ih = function(t, n) {
                var i = zt(t);
                return i ? n.ignoreQueryParams && n.ignoreURIFragments ? "".concat(i.origin).concat(i.pathname) : n.ignoreQueryParams ? "".concat(i.origin).concat(i.pathname).concat(i.hash) : n.ignoreURIFragments ? "".concat(i.origin).concat(i.pathname).concat(i.search) : t : t
            }, t.prototype.rh = function(t) {
                return t.ignoreCaseSensitivity ? "i" : ""
            }, t.prototype.nh = function(t) {
                switch (t.operator) {
                    case Pr.NOT_START:
                        t.notOperator = !0;
                    case Pr.START:
                        t.regex = new RegExp("^".concat(t.value), this.rh(t));
                        break;
                    case Pr.NOT_END:
                        t.notOperator = !0;
                    case Pr.END:
                        t.regex = new RegExp("".concat(t.value, "$"), this.rh(t));
                        break;
                    case Pr.NOT_CONTAIN:
                        t.notOperator = !0;
                    case Pr.CONTAIN:
                        t.regex = new RegExp("".concat(t.value), this.rh(t));
                        break;
                    case Pr.NOT_EXACT:
                        t.notOperator = !0;
                    case Pr.EXACT:
                        t.regex = new RegExp("^".concat(t.value, "$"), this.rh(t));
                        break;
                    default:
                        Kt.warn("buildRegexWithRule, unknown type: ".concat(t.operator))
                }
                return t
            }, t
        }(),
        ts = "v2/recording",
        ns = ["setCapturedElementsSelector"],
        is = ["setPIISelectors"],
        rs = ["setEncryptionSelectors"],
        ss = ["isRecording"],
        es = function() {
            function t(t, n, i, r, s, e, u, o, h, c, a, f, v, l, d, w, y, p, m, g, A, E, S) {
                this.eh = t, this.W = n, this.P = i, this.Ee = r, this._n = s, this.yo = e, this.uh = u, this.oh = o, this.M = h, this.Bi = c, this.$ = a, this.xn = f, this.Fi = v, this.Gi = l, this.Vi = d, this.su = w, this.Ji = y, this.wi = p, this.hh = m, this.ah = g, this.fh = A, this.Ws = E, this.lh = S
            }
            return t.prototype.init = function() {
                var t = this,
                    n = new $r("csPersisted");
                this.yh(n);
                var i = new wi;
                this.Li = new di;
                var r = new _i,
                    s = new xi(this.xn);
                this.ph = new zi(this.M, this.P), this.ph.init();
                var e = new nr,
                    u = new sr(this.Ws, r),
                    o = new yr(window.crypto),
                    h = new mr(window.crypto);
                h.init(), o.init();
                var c = new cr,
                    a = new cr,
                    f = new cr,
                    v = new cr,
                    l = new cr,
                    d = new or(r, this.P, h, o, c, a, f, l, v, this.Ee);
                d.init();
                var w = [new zr, s, this.ph, e];
                if (this.P.encryptionEnabled) {
                    var y = new hr(d);
                    csArray.prototype.push.call(w, y)
                }
                var p = new Gr,
                    m = new qr(r, p);
                m.init(), m.isAdoptedStyleSheetsSupported() && csArray.prototype.push.call(w, m);
                var g, A = new jr;
                A.isSupported() && csArray.prototype.push.call(w, A.getProcessor()), g = this.mh() ? new Dr(w, r) : new Ur(w);
                var E = new qi(i, this.uh, {
                        getRequestParameters: function() {
                            return {
                                let: t.recordingService.getRecordingLastEventTimestamp()
                            }
                        }
                    }, {
                        getRequestParameters: function() {
                            return {
                                rst: t.recordingService.getRecordingStartTimestamp()
                            }
                        }
                    }),
                    S = new er("".concat(this.P.getRecordingUri(), "/").concat(ts));
                this.P.useMalkaPipeline && E.addProvider({
                    getRequestParameters: function() {
                        return {
                            rt: csArray.prototype.join.call(t.W.getRecordingStates())
                        }
                    }
                });
                var b = new Qr;
                this.gh = new Hr(this.yo, this.P, this.$, b), this.gh.init(), this.fi = new Si(g, r, this.ph, d), this.fi.setAnonymization(this.gh.shouldUseAnonymization()), this.ji = new ei(this._n, r, this.xn, d), this.ji.init();
                var T = new vi(this.fi, u, e, this.wi, r, this.xn);
                this.Yi = new gi(this.Li, n, this.P, S, this.Ki, E), this.recordingService = new mi(this.P, this.Li, E, i, p, new Ci(r, this.xn, e, p), T, this.ji, new Gi(window.location, this.M, new Zr), new gr(this.su, r, this.xn), this.Bi, this.W, e, new ir(window), this.Fi, this.Gi, this.Vi, this.Ji, d, A, this.Ki, this.Yi, m, []), this.Ah = new Vi(this.ji, T, new Fi(this.P), this.recordingService, this.fi, this.wi), this.hh.addListener(this.recordingService), this.ah.addListener(this.recordingService), this.ah.addListener(this.Ah), u.init(), this.Ah.init(), this.recordingService.init(), this.oh.register(ss, (function() {
                    return t.W.isReplayRecorded() && !t.fh.isUrlExcludedForSessionReplay()
                })), this.oh.register(ns, (function(n) {
                    t.ph.setWhitelistedElementsSelector(n), t.wi.emitRecordingStatusChange()
                })), this.oh.register(is, (function(n) {
                    t.xn.setPIISelectors(n), t.wi.emitRecordingStatusChange()
                })), this.oh.register(rs, (function(t) {
                    d.setEncryptionSelectors(t)
                })), this.eh.enableRecordingStatus(this.recordingService, this.xn, this.gh, this.ph, d)
            }, t.prototype.onStartTracking = function() {
                this.Yi.recover(), this.W.isReplayRecorded() && !this.fh.isUrlExcludedForSessionReplay() && (this.P.useMalkaPipeline && this.W.isTemporarilyRecorded() && this.recordingService.blockSendingEventsFromQuotaService(), this.Eh())
            }, t.prototype.onArtificialPageViewEnd = function() {
                this.recordingService.clearStates(), !this.W.isReplayRecorded() || this.fh.isUrlExcludedForSessionReplay() || this.W.isTemporarilyRecorded() || this.Yi.sendLastMessageBeacon()
            }, t.prototype.onAfterArtificialPageView = function() {
                this.fi.setAnonymization(this.gh.shouldUseAnonymization()), this.W.isReplayRecorded() && !this.fh.isUrlExcludedForSessionReplay() ? (this.P.useMalkaPipeline && this.W.isTemporarilyRecorded() && this.recordingService.blockSendingEventsFromQuotaService(), this.Sh()) : this.bh()
            }, t.prototype.onBeforeSessionRenewal = function() {
                this.recordingService.clearStates(), this.bh()
            }, t.prototype.onOptout = function() {
                this.bh()
            }, t.prototype.onConsentGranted = function() {
                this.fi.setAnonymization(this.gh.shouldUseAnonymization()), this.recordingService.triggerConsentGranted(), this.wi.emitRecordingStatusChange()
            }, t.prototype.onConsentWithdrawn = function() {
                this.fi.setAnonymization(this.gh.shouldUseAnonymization()), this.recordingService.triggerConsentWithdrawn(), this.wi.emitRecordingStatusChange()
            }, t.prototype.onRecordingStateChange = function(t, n) {
                this.P.useMalkaPipeline && (t === fn.NOT_RECORDED && n === vn.ETR_OFF ? (this.recordingService.clearEvents(), this.bh()) : (this.Ki.setQueryParams({
                    rt: csArray.prototype.join.call(this.W.getRecordingStates(), ",")
                }), this.recordingService.allowSendingEventsFromQuotaService(), this.fi.isDOMSerializationInProgress() || this.recordingService.pushEvents()))
            }, t.prototype.onInitialDomStart = function() {
                this.recordingService.blockSendingEventsFromSerialization(), this.Yi.blockSendingLastMessage()
            }, t.prototype.onInitialDomDone = function(t) {
                this.recordingService.allowSendingEventsFromSerialization(), this.recordingService.addInitialDom(t), this.Yi.allowSendingLastMessage(), this.ji.start(), this.recordingService.pushEvents()
            }, t.prototype.Eh = function() {
                this.Ah.start(), this.recordingService.start(), this.Yi.start(), this.wi.emitRecordingStatusChange()
            }, t.prototype.bh = function() {
                this.Ah.stop(), this.recordingService.stop(), this.Yi.stop(), this.wi.emitRecordingStatusChange()
            }, t.prototype.Sh = function() {
                this.bh(), this.Eh()
            }, t.prototype.yh = function(t) {
                var n = this.P.useMalkaPipeline ? ts : "recording",
                    i = this.P.useMalkaPipeline ? "byteArray" : "base64";
                this.Ki = this.lh.create("".concat(this.P.getRecordingUri(), "/").concat(n), !0, i, t)
            }, t.prototype.mh = function() {
                return Fr.isAsyncSerializationSupported() && this.P.asyncSerializerEnabled
            }, G([Zn("Recording.onStartTracking")], t.prototype, "onStartTracking", null), G([Zn("onInitialDomDone")], t.prototype, "onInitialDomDone", null), t
        }(),
        us = function() {
            function t(t, n, i, r) {
                this.J = t, this.W = n, this.P = i, this.Th = r, this.Rh = !1
            }
            return t.prototype.isNaturalPageViewSent = function() {
                return this.Rh
            }, t.prototype.setNaturalPageViewSent = function(t) {
                this.Rh = t
            }, t.prototype.getTrackingContext = function() {
                var t = this.getSessionKey(),
                    n = this.Nh(),
                    i = this.kh(),
                    r = this.Oh(),
                    s = this.Ih(),
                    e = this.Ch();
                return t && n ? {
                    projectId: i,
                    sessionKey: t,
                    pageNumber: n,
                    pageViewType: r,
                    isRecording: e,
                    uxaDomain: s
                } : null
            }, t.prototype.getSessionKey = function() {
                var t = this.J.getVisitor();
                return t ? "".concat(t.id, ".").concat(t.visitsCount) : null
            }, t.prototype.Nh = function() {
                var t = this.W.getSession();
                return t ? t.pageNumber : null
            }, t.prototype.kh = function() {
                return this.P.projectId
            }, t.prototype.Oh = function() {
                return this.Th.getPageViewType()
            }, t.prototype.Ih = function() {
                return this.P.uxaDomain
            }, t.prototype.Ch = function() {
                return this.W.isReplayRecorded()
            }, t
        }(),
        os = function() {
            function t(t) {
                this._h = t, this.Lh = []
            }
            return t.prototype.handleCommand = function(t) {
                if (Nt(t) && (this.xh(t), this._h.isNaturalPageViewSent())) {
                    var n = this._h.getTrackingContext();
                    null !== n && this.Ph(t, n)
                }
            }, t.prototype.xh = function(t) {
                csArray.prototype.push.call(this.Lh, t)
            }, t.prototype.executeRegisteredCallbacks = function() {
                var t = this,
                    n = this._h.getTrackingContext();
                null !== n && csArray.prototype.map.call(this.Lh, (function(i) {
                    return t.Ph(i, n)
                }))
            }, t.prototype.Ph = function(t, n) {
                setTimeout((function() {
                    t(n)
                }))
            }, t
        }(),
        hs = function() {
            function t(t) {
                this._h = t, this.Mh = []
            }
            return t.prototype.handleCommand = function(t) {
                return this._h.isNaturalPageViewSent() ? this.Dh(t) : void this.Uh(t)
            }, t.prototype.Dh = function(t) {
                var n = this._h.getSessionKey();
                return this.bo(t) && null !== n && this.Ph(t.callback, n), n
            }, t.prototype.Uh = function(t) {
                this.bo(t) && csArray.prototype.push.call(this.Mh, t.callback)
            }, t.prototype.flushPendingCallbacks = function() {
                var t = this,
                    n = this._h.getSessionKey();
                null !== n && csArray.prototype.forEach.call(this.Mh, (function(i) {
                    t.Ph(i, n)
                })), this.Mh = []
            }, t.prototype.bo = function(t) {
                return t && "function" == typeof t.callback
            }, t.prototype.Ph = function(t, n) {
                setTimeout((function() {
                    t(n)
                }))
            }, t
        }(),
        cs = function() {
            function t(t, n) {
                this.jh = t, this._h = n
            }
            return t.prototype.onTrackingContextRequestCallback = function(t) {
                var n = this._h.getTrackingContext();
                null !== n && this.jh.sendToChildren(Ht.TrackingContextResultMessage, F(F({}, t), {
                    trackingContext: n
                }))
            }, t.prototype.onIframeIntegrationCallback = function(t) {
                if (this._h.isNaturalPageViewSent()) {
                    var n = this._h.getTrackingContext();
                    null !== n && (t.trackingContext = n, this.jh.sendToChildren(Ht.IntegrationCallback, t))
                }
            }, t.prototype.sendAfterPageViewCallbackToChildren = function() {
                var t = this._h.getTrackingContext();
                if (null !== t) {
                    var n = {
                        trackingContext: t,
                        initiator: qt.AfterPageView
                    };
                    this.jh.sendToChildren(Ht.IntegrationCallback, n)
                }
            }, t
        }();

    function as(t, n) {
        var i, r = t.isRecording,
            s = t.pageNumber,
            e = t.projectId,
            u = t.uxaDomain,
            o = /^(.+)\.(\d+)$/.exec(t.sessionKey);
        if (r && o) {
            var h = o[1],
                c = o[2];
            i = "".concat(u, "/quick-playback/index.html?pid=").concat(e, "&uu=").concat(h, "&sn=").concat(c, "&pvid=").concat(s, "&recordingType=cs"), n.withTimestamp && (i += "&t=".concat(pt() - n.recordingStartTimestamp))
        }
        return {
            replayLink: i,
            isRecording: r
        }
    }
    var fs, vs, ls = function() {
            function t(t) {
                this._h = t
            }
            return t.prototype.handleCommand = function(t, n) {
                bt(t) && Nt(n) && this.Ph(t, n)
            }, t.prototype.Ph = function(t, n) {
                var i = this;
                setTimeout((function() {
                    var r = i._h.getTrackingContext();
                    if (r) {
                        var s = as(r, t);
                        n(s)
                    }
                }))
            }, t
        }(),
        ds = ["afterPageView"],
        ws = ["getSessionKey"],
        ys = ["replay:link:generate"],
        ps = function() {
            function t(t, n, i, r, s, e, u) {
                this.J = t, this.W = n, this.oh = i, this.zh = r, this.jh = s, this.P = e, this.Th = u
            }
            return t.prototype.init = function() {
                var t = this;
                this._h = new us(this.J, this.W, this.P, this.Th), this.qh = new os(this._h), this.Bh = new hs(this._h), this.Hh = new ls(this._h), this.Fh = new cs(this.jh, this._h), this.zh.addListener(this.Fh), this.oh.register(ws, (function(n) {
                    return t.Bh.handleCommand(n)
                })), this.oh.register(ds, (function(n) {
                    return t.qh.handleCommand(n)
                })), this.oh.register(ys, (function(n, i) {
                    t.Ns && t.Hh.handleCommand(F(F({}, n), {
                        recordingStartTimestamp: parseInt(t.Ns.getRecordingStartTimestamp(), 10)
                    }), i)
                }))
            }, t.prototype.onAfterNaturalPageView = function() {
                this._h.setNaturalPageViewSent(!0), this.Bh.flushPendingCallbacks(), this.qh.executeRegisteredCallbacks(), this.Fh.sendAfterPageViewCallbackToChildren()
            }, t.prototype.onAfterArtificialPageView = function() {
                this.qh.executeRegisteredCallbacks(), this.Fh.sendAfterPageViewCallbackToChildren()
            }, t.prototype.setRecordingService = function(t) {
                this.Ns = t
            }, t
        }(),
        ms = function() {
            function t(t, n) {
                this.key = csString.prototype.slice.call(t, 0, 512), this.value = St(n) ? csString.prototype.slice.call(n, 0, 255) : n
            }
            return t.isValid = function(t, n) {
                return St(t) && (St(n) || Et(n))
            }, t
        }(),
        gs = function(t) {
            function n(n, i) {
                var r = t.call(this) || this;
                return r.Gh = n, r.M = i, r.Vh = [], r
            }
            return H(n, t), n.prototype.onStart = function() {
                var t = this;
                csArray.prototype.forEach.call(this.Vh, (function(n) {
                    return t.trackDynamicVariable(n.key, n.value)
                })), this.Vh = []
            }, n.prototype.onStop = function() {}, n.prototype.trackDynamicVariable = function(t, n) {
                this.isStarted ? ms.isValid(t, n) && this.Gh.add(new ms(this.M.anonymizeEmail(t), this.M.anonymizeEmail(n))) : csArray.prototype.push.call(this.Vh, {
                    key: t,
                    value: n
                })
            }, n
        }(pi),
        As = function() {
            function t(t) {
                this.Ee = t, this.Gh = []
            }
            return t.prototype.add = function(t) {
                csArray.prototype.push.call(this.Gh, t), this.setBatchReadyCall()
            }, t.prototype.clear = function() {
                this.Gh = []
            }, t.prototype.onBatchReady = function(t) {
                this.Jh = t
            }, t.prototype.getRequestParameters = function() {
                for (var t = {}, n = 0, i = this.Gh; n < i.length; n++) {
                    var r = i[n];
                    t[r.key] = r.value
                }
                return {
                    dv: this.Ee.compressSync(csJSON.stringify(t), "base64"),
                    ct: this.Ee.algorithm
                }
            }, t.prototype.setBatchReadyCall = function() {
                this.Jh()
            }, G([Hi(), tn("dynamicVariablesBatchReady")], t.prototype, "setBatchReadyCall", null), t
        }(),
        Es = ["trackDynamicVariable"],
        Ss = function() {
            function t(t, n, i, r, s, e) {
                this.oh = t, this.W = n, this.P = i, this.uh = r, this.Ee = s, this.M = e, this._ = new ot(this.P.getTrackerUri(), "dvar"), this.Gh = new As(this.Ee), this.Wh = new gs(this.Gh, this.M)
            }
            return t.prototype.init = function() {
                var t = this;
                this._.setRequestParametersProviders(this.uh, this.Gh), this.W.setDynamicVariablesService(this.Wh), this.Gh.onBatchReady((function() {
                    return t._.send()
                })), this._.after((function() {
                    return t.Gh.clear()
                })), this.oh.register(Es, (function(n) {
                    var i = void 0 === n ? {} : n,
                        r = i.key,
                        s = i.value;
                    t.Wh.trackDynamicVariable(r, s)
                }))
            }, t.prototype.onStartTracking = function() {
                this.Wh.start()
            }, t
        }(),
        bs = function() {
            function t(t, n) {
                this.id = t, this.revenue = n
            }
            return t.from = function(n) {
                var i = new t(n.id, parseFloat(n.revenue));
                return isNaN(parseFloat(n.tax)) || (i.tax = parseFloat(n.tax)), isNaN(parseFloat(n.shipping)) || (i.shipping = parseFloat(n.shipping)), St(n.currency) && n.currency.length <= 10 && (i.currency = n.currency), i
            }, t.prototype.hasValidRevenue = function() {
                return !isNaN(this.revenue) && this.revenue >= 0
            }, t.isValid = function(t) {
                return Rt(t) && At(t.revenue) && St(t.currency) && t.currency.length <= 10 && (!Rt(t.id) || St(t.id))
            }, t
        }(),
        Ts = function() {
            function t(t, n, i, r) {
                this.id = t, this.name = n, this.price = i, this.quantity = r
            }
            return t.from = function(n) {
                if (!t.Kh(n)) return null;
                var i = new t(n.id, n.name, parseFloat(n.price), parseInt(n.quantity, 10));
                return Tt(n.sku) && (i.sku = n.sku), Tt(n.category) && (i.category = n.category), Tt(n.merchant) && n.merchant.length > 0 && (i.merchant = n.merchant.slice(0, 100)), i
            }, t.Kh = function(t) {
                return Rt(t) && St(t.id) && St(t.name) && At(parseFloat(t.price)) && Et(parseInt(t.quantity, 10)) && (!Tt(t.sku) || St(t.sku)) && (!Tt(t.category) || St(t.category)) && (!Tt(t.merchant) || St(t.merchant))
            }, t
        }(),
        Rs = function() {
            function t(t, n, i) {
                this.M = t, this.Yh = n, this.Bi = i, this.clear()
            }
            return t.prototype.addTransaction = function(t) {
                var n = this.M.anonymizeFields(t, ["id"]);
                this.Xh = bs.from(n)
            }, t.prototype.getTransaction = function() {
                return this.Xh
            }, t.prototype.sendTransaction = function() {
                null !== this.Yh && null !== this.Bi && this.Bi.isSessionValid() && (this.Xh.hasValidRevenue() ? this.Yh.send() : Kt.warn("Transaction Service: unable to send transaction with invalid parameters"))
            }, t.prototype.addItem = function(t) {
                if (!Nt(t)) {
                    var n = this.M.anonymizeFields(t, ["id", "name", "sku", "category"]),
                        i = Ts.from(n);
                    null !== i && csArray.prototype.push.call(this.$h, i)
                }
            }, t.prototype.getItems = function() {
                return this.$h
            }, t.prototype.clear = function() {
                this.Xh = bs.from({
                    revenue: NaN
                }), this.$h = []
            }, t.prototype.getRequestParameters = function() {
                var t = {
                    id: this.Xh.id ? "".concat(this.Xh.id) : "",
                    revenue: "".concat(this.Xh.revenue)
                };
                return Tt(this.Xh.tax) && (t.tax = "".concat(this.Xh.tax)), Tt(this.Xh.shipping) && (t.shipping = "".concat(this.Xh.shipping)), Tt(this.Xh.currency) && (t.cu = "".concat(this.Xh.currency)), t.items = window.csJSON.stringify(this.$h), t
            }, t
        }(),
        Ns = function() {
            function t(t, n) {
                this.Zh = csString.prototype.slice.call(t, 0, 100), this.Qh = n && csString.prototype.slice.call(n, 0, 100)
            }
            return Object.defineProperty(t.prototype, "sku", {
                get: function() {
                    return this.Zh
                },
                enumerable: !1,
                configurable: !0
            }), Object.defineProperty(t.prototype, "merchant", {
                get: function() {
                    return this.Qh
                },
                enumerable: !1,
                configurable: !0
            }), t
        }(),
        ks = function() {
            function t(t, n) {
                this.tc = t, this.Bi = n, this.nc = null
            }
            return t.prototype.addToCart = function(t) {
                !this.ic(t.sku) || Tt(t.merchant) && !St(t.merchant) || (this.nc = new Ns(t.sku, t.merchant), this.sendCartItem())
            }, t.prototype.ic = function(t) {
                return St(t) && t.length > 0
            }, t.prototype.getCartItem = function() {
                return this.nc
            }, t.prototype.sendCartItem = function() {
                this.Bi.isSessionValid() && this.tc.send()
            }, t.prototype.clear = function() {
                this.nc = null
            }, t.prototype.getRequestParameters = function() {
                if (!this.nc) return {};
                var t = {
                    sku: "".concat(this.nc.sku)
                };
                return Tt(this.nc.merchant) && this.nc.merchant.length > 0 && (t.me = this.nc.merchant), t
            }, t
        }(),
        Os = ["ecommerce:addToCart", "ec:cart:add"],
        Is = ["ecommerce:addTransaction", "ec:transaction:create"],
        Cs = ["ecommerce:addItem", "ec:transaction:items:add"],
        _s = ["ecommerce:send", "ec:transaction:send"],
        Ls = function() {
            function t(t, n, i, r, s, e, u) {
                this.P = t, this.J = n, this.W = i, this.oh = r, this.M = s, this.Bi = e, this.$ = u
            }
            return t.prototype.init = function() {
                var t = new ot(this.P.getTrackerUri(), "transaction"),
                    i = new ot(this.P.getTrackerUri(), "addtocart"),
                    r = new Rs(this.M, t, this.Bi),
                    s = new ks(i, this.Bi);
                t.setRequestParametersProviders(this.P, this.J, this.W, this.$, r, n), t.after((function() {
                    r.clear()
                })), i.setRequestParametersProviders(this.P, this.J, this.W, this.$, s, n), i.after((function() {
                    s.clear()
                })), this.oh.register(Is, (function(t) {
                    r.addTransaction(t)
                })), this.oh.register(Cs, (function(t) {
                    return r.addItem(t)
                })), this.oh.register(_s, (function() {
                    return r.sendTransaction()
                })), this.oh.register(Os, (function(t) {
                    s.addToCart(t)
                }))
            }, t
        }(),
        xs = function() {
            function t(t) {
                this.Fs = t.performance
            }
            return t.prototype.getRequestParameters = function() {
                if (this.rc()) return {};
                var t = this.sc();
                return {
                    str: t.startRender,
                    di: t.domInteractive,
                    dc: t.domComplete,
                    fl: t.fullyLoaded
                }
            }, t.prototype.sc = function() {
                var t = this.Fs.timing;
                return {
                    startRender: "".concat(t.domLoading - t.requestStart),
                    domInteractive: "".concat(t.domInteractive - t.requestStart),
                    domComplete: "".concat(t.domComplete - t.requestStart),
                    fullyLoaded: "".concat(t.loadEventEnd - t.requestStart)
                }
            }, t.prototype.rc = function() {
                return !(this.Fs && this.Fs.timing && this.Fs.timing.loadEventEnd > 0)
            }, t
        }();

    function Ps(t) {
        return void 0 !== t.tgt
    }! function(t) {
        t[t.RESIZE = 0] = "RESIZE", t[t.SCROLL = 1] = "SCROLL", t[t.MOUSEMOVE = 2] = "MOUSEMOVE", t[t.MOUSEDOWN = 3] = "MOUSEDOWN", t[t.MOUSEUP = 4] = "MOUSEUP", t[t.CLICK = 5] = "CLICK", t[t.MOUSEOVER = 6] = "MOUSEOVER", t[t.MOUSEOUT = 7] = "MOUSEOUT", t[t.CHANGE = 10] = "CHANGE", t[t.FOCUSIN = 11] = "FOCUSIN", t[t.FOCUSOUT = 12] = "FOCUSOUT", t[t.TAP = 14] = "TAP", t[t.KEYDOWN = 15] = "KEYDOWN", t[t.KEYUP = 16] = "KEYUP", t[t.COMMAND = 17] = "COMMAND", t[t.SUBMIT = 18] = "SUBMIT", t[t.PERFORMANCE = 19] = "PERFORMANCE", t[t.DRAG = 20] = "DRAG", t[t.FLICK = 21] = "FLICK", t[t.KEYBOARD_NAVIGATION = 22] = "KEYBOARD_NAVIGATION", t[t.ZOOM = 23] = "ZOOM", t[t.VIEWPORT_SCALE = 24] = "VIEWPORT_SCALE", t[t.TEXT_HIGHLIGHT = 25] = "TEXT_HIGHLIGHT", t[t.EXTENSION = 26] = "EXTENSION"
    }(fs || (fs = {})),
    function(t) {
        t.SUCCESS = "success", t.FAILURE = "failure", t.ATTEMPT = "attempt"
    }(vs || (vs = {}));
    var Ms, Ds = function() {
            function t() {}
            return t.prototype.isEventTypeSupported = function(t) {
                return -1 !== csArray.prototype.indexOf.call(this.supportedEventTypes, t)
            }, t.prototype.enhanceAnalysisEvent = function(t, n) {
                return this.isEventTypeSupported(n.type) ? this.baseEnhanceAnalysisEvent(t, n) : n
            }, t
        }(),
        Us = function(t) {
            function n(n, i) {
                var r = t.call(this) || this;
                return r.I = n, r.ec = i, r.supportedEventTypes = [fs.MOUSEDOWN, fs.MOUSEUP, fs.CLICK, fs.MOUSEOVER, fs.TAP], r
            }
            return H(n, t), n.prototype.baseEnhanceAnalysisEvent = function(t, n) {
                return n
            }, n
        }(Ds),
        js = function() {
            function t() {}
            return t.build = function(t, n, i) {
                return csArray.prototype.reduce.call(i, (function(n, i) {
                    return i.enhanceAnalysisEvent(t, n)
                }), n)
            }, t
        }(),
        zs = function(t) {
            function n(n) {
                var i = t.call(this) || this;
                return i.ec = n, i.supportedEventTypes = [fs.MOUSEDOWN, fs.MOUSEUP, fs.CLICK, fs.MOUSEOVER, fs.TAP, fs.DRAG, fs.FLICK], i
            }
            return H(n, t), n.prototype.baseEnhanceAnalysisEvent = function(t, n) {
                return n.tgt || (n.tgt = this.ec.getEventTargetPath(t)), n
            }, n
        }(Ds),
        qs = function() {
            function t(t, n, i, r) {
                this.P = t, this.ec = n, this.su = i, this.oc = r, this.hc = [new Us(this.P, this.ec), new zs(this.ec)]
            }
            return t.prototype.processGesture = function(t, n) {
                switch (t.type) {
                    case vr.TAP:
                        this.cc(n);
                        break;
                    case vr.FLICK:
                        this.ac(t, n);
                        break;
                    case vr.DRAG:
                        this.fc(t, n)
                }
            }, t.prototype.cc = function(t) {
                var n = {
                        type: fs.TAP,
                        ts: 0,
                        x: 0,
                        y: 0,
                        tgt: ""
                    },
                    i = js.build(t, n, this.hc);
                i.tgt !== U.INVALID_ELEMENT && this.bi(i)
            }, t.prototype.fc = function(t, n) {
                var i, r, s = {
                    type: fs.DRAG,
                    ts: 0,
                    fd: t.direction,
                    tgt: ""
                };
                (null === (i = this.oc) || void 0 === i ? void 0 : i.collectGestureDistance) && (s.distance = t.distance), (null === (r = this.oc) || void 0 === r ? void 0 : r.collectGestureVelocity) && (s.velocity = t.velocity);
                var e = js.build(n, s, this.hc);
                e.tgt !== U.INVALID_ELEMENT && this.bi(e)
            }, t.prototype.ac = function(t, n) {
                var i, r, s = {
                    type: fs.FLICK,
                    ts: 0,
                    fd: t.direction,
                    tgt: ""
                };
                (null === (i = this.oc) || void 0 === i ? void 0 : i.collectGestureDistance) && (s.distance = t.distance), (null === (r = this.oc) || void 0 === r ? void 0 : r.collectGestureVelocity) && (s.velocity = t.velocity);
                var e = js.build(n, s, this.hc);
                e.tgt !== U.INVALID_ELEMENT && this.bi(e)
            }, t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.start = function() {
                var n = this;
                this.su.subscribe(t.eu, (function(t, i) {
                    return n.processGesture(t, i)
                }))
            }, t.prototype.stop = function() {
                this.su.unsubscribe(t.eu)
            }, t.eu = "AnalysisGestureTracker", G([ni()], t.prototype, "processGesture", null), t
        }();
    ! function(t) {
        t.getRelativePosition = function(t) {
            var n = ti(t);
            if (!(n && f(n) && Nt(n.getBoundingClientRect) && Rt(t.pageX) && Rt(t.pageY))) return {
                xRel: -1,
                yRel: -1,
                valid: !1
            };
            var i = n.getBoundingClientRect(),
                r = t.pageX - i.left - ai.windowOffsetX(),
                s = t.pageY - i.top - ai.windowOffsetY();
            n !== document.documentElement && (r += n.scrollLeft, s += n.scrollTop);
            var e = Math.max(n.scrollWidth, i.width),
                u = Math.max(n.scrollHeight, i.height);
            return {
                xRel: Math.round(r / e * 65535),
                yRel: Math.round(s / u * 65535),
                valid: !0
            }
        }
    }(Ms || (Ms = {}));
    var Bs, Hs = function(t) {
            function n(n, i) {
                var r = t.call(this) || this;
                return r.I = n, r.ec = i, r.supportedEventTypes = [fs.MOUSEMOVE], r.vc = "", r
            }
            return H(n, t), n.prototype.baseEnhanceAnalysisEvent = function(t, n) {
                if (!this.I.mouseMoveHeatmapEnabled) return n;
                var i = Ms.getRelativePosition(t),
                    r = i.valid,
                    s = i.xRel,
                    e = i.yRel;
                if (r) {
                    var u = this.ec.getEventTargetPath(t);
                    u !== U.INVALID_ELEMENT && (n.xRel = s, n.yRel = e, u !== this.vc || this.I.iframesTracking ? (this.vc = u, n.tgtHM = u) : n.tgtHM = "")
                } else this.vc = "";
                return n
            }, n
        }(Ds),
        Fs = function(t) {
            function n() {
                var n = null !== t && t.apply(this, arguments) || this;
                return n.supportedEventTypes = [fs.CHANGE], n.lc = ["text", "email", "number", "search", "tel", "url", "password"], n
            }
            return H(n, t), n.prototype.baseEnhanceAnalysisEvent = function(t, n) {
                var i = ti(t);
                return p(i) && csArray.prototype.indexOf.call(this.lc, i.type) >= 0 && (n.isBlank = "" === i.value), n
            }, n
        }(Ds),
        Gs = function() {
            function t(t, n, i) {
                var r = this;
                this.I = t, this.ec = n, this._n = i, this.wc = "select, select *, input, textarea", this.yc = "select, select *, input, textarea", this.mc = "a, a *, button, button *, select, select *, input, textarea", this.gc = "input, select, textarea", this.Ac = 150, this.Ec = 400, this.Sc = !1, this.bc = Bi((function(t, n) {
                    return r.scrollListener(t, n)
                }), this.Ac), this.Tc = Bi((function(t) {
                    return r.resizeListener(t)
                }), this.Ac), this.Rc = Fn((function(t) {
                    return r.mouseMoveListener(t)
                }), this.Ec), this.Nc = [{
                    boundElement: window,
                    type: "resize",
                    listener: function() {
                        return r.Tc()
                    }
                }, {
                    boundElement: document,
                    type: "scroll",
                    listener: function(t) {
                        return r.bc(t)
                    }
                }, {
                    boundElement: window,
                    type: "mousemove",
                    listener: function(t) {
                        r.Rc(r.kc(t))
                    }
                }, {
                    boundElement: document,
                    type: "mousedown",
                    listener: function(t) {
                        return r.mouseDownListener(t)
                    }
                }, {
                    boundElement: document,
                    type: "mouseup",
                    listener: function(t) {
                        return r.mouseUpListener(t)
                    }
                }, {
                    boundElement: document,
                    type: "click",
                    listener: function(t) {
                        return r.clickListener(t)
                    }
                }], this.Oc = [{
                    boundElement: document,
                    type: "mouseover",
                    listener: this._n.on(this.mc, (function(t) {
                        return r.mouseOverListener(t)
                    }))
                }, {
                    boundElement: document,
                    type: "mouseout",
                    listener: this._n.on(this.mc, (function(t) {
                        return r.mouseOutListener(t)
                    }))
                }, {
                    boundElement: document,
                    type: "focusin",
                    listener: this._n.on(this.wc, (function(t) {
                        return r.focusInListener(t)
                    }))
                }, {
                    boundElement: document,
                    type: "focusout",
                    listener: this._n.on(this.wc, (function(t) {
                        return r.focusOutListener(t)
                    }))
                }, {
                    boundElement: document,
                    type: "change",
                    listener: this._n.on(this.yc, (function(t) {
                        return r.changeListener(t)
                    }))
                }, {
                    boundElement: document,
                    type: "keyup",
                    listener: this._n.on(this.gc, (function(t) {
                        return r.keyUpListener(t)
                    }))
                }, {
                    boundElement: document,
                    type: "keydown",
                    listener: this._n.on(this.gc, (function(t) {
                        return r.keyDownListener(t)
                    }))
                }, {
                    boundElement: document,
                    type: "copy",
                    listener: this._n.on(this.gc, (function(t) {
                        return r.copyListener(t)
                    }))
                }, {
                    boundElement: document,
                    type: "cut",
                    listener: this._n.on(this.gc, (function(t) {
                        return r.cutListener(t)
                    }))
                }, {
                    boundElement: document,
                    type: "paste",
                    listener: this._n.on(this.gc, (function(t) {
                        return r.pasteListener(t)
                    }))
                }], this.hc = [new Us(this.I, this.ec), new Hs(this.I, this.ec), new Fs, new zs(this.ec)], this.ai = {}, this.Jn()
            }
            return t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.start = function() {
                var t = this.Ic();
                csArray.prototype.forEach.call(t, (function(t) {
                    return qn(t)
                })), this.resizeListener()
            }, t.prototype.stop = function() {
                var t = this.Ic();
                csArray.prototype.forEach.call(t, (function(t) {
                    return Bn(t)
                }))
            }, t.prototype.flushPendingDebouncedListeners = function() {
                this.bc.flushPending(), this.Tc.flushPending()
            }, t.prototype.Ic = function() {
                return this._n.isMatchesSelectorSupported() ? W(W([], this.Nc, !0), this.Oc, !0) : (Kt.warn("Element.matches is not implemented yet"), this.Nc)
            }, t.prototype.resizeListener = function(t) {
                var n = ii.getScrollContainer(),
                    i = kt(n);
                i && (this.Sc = !0);
                var r = {
                    type: fs.RESIZE,
                    ts: 0,
                    x: i ? n.clientWidth : ai.windowWidth(),
                    y: i ? n.clientHeight : ai.windowHeight()
                };
                void 0 !== t && (r.d = t), this.bi(r)
            }, t.prototype.scrollListener = function(t, n) {
                var i = ii.isEventOnScrollContainer(n);
                !this.Sc && i && this.resizeListener();
                var r = {
                        type: fs.SCROLL,
                        ts: 0,
                        x: i ? csEventtarget.apply(n).scrollLeft : ai.windowOffsetX(),
                        y: i ? csEventtarget.apply(n).scrollTop : ai.windowOffsetY(),
                        d: t
                    },
                    s = js.build(n, r, this.hc);
                this.bi(s)
            }, t.prototype.mouseMoveListener = function(t) {
                var n = {
                        type: fs.MOUSEMOVE,
                        ts: 0,
                        x: t.pageX,
                        y: t.pageY
                    },
                    i = js.build(t, n, this.hc);
                this.bi(i)
            }, t.prototype.mouseDownListener = function(t) {
                var n = {
                        type: fs.MOUSEDOWN,
                        ts: 0,
                        x: t.pageX,
                        y: t.pageY,
                        tgt: ""
                    },
                    i = js.build(t, n, this.hc);
                this.Cc(i)
            }, t.prototype.mouseUpListener = function(t) {
                var n = {
                        type: fs.MOUSEUP,
                        ts: 0,
                        x: t.pageX,
                        y: t.pageY,
                        tgt: ""
                    },
                    i = js.build(t, n, this.hc);
                this.Cc(i)
            }, t.prototype.clickListener = function(t) {
                var n = {
                        type: fs.CLICK,
                        ts: 0,
                        x: t.pageX,
                        y: t.pageY,
                        tgt: ""
                    },
                    i = js.build(t, n, this.hc);
                this.Cc(i)
            }, t.prototype.mouseOverListener = function(t) {
                var n = {
                        type: fs.MOUSEOVER,
                        ts: 0,
                        x: t.pageX,
                        y: t.pageY,
                        tgt: ""
                    },
                    i = js.build(t, n, this.hc);
                this.Cc(i)
            }, t.prototype.mouseOutListener = function(t) {
                var n = {
                        type: fs.MOUSEOUT,
                        ts: 0,
                        x: t.pageX,
                        y: t.pageY,
                        tgt: this.ec.getEventTargetPath(t)
                    },
                    i = js.build(t, n, this.hc);
                this.Cc(i)
            }, t.prototype.focusInListener = function(t) {
                var n = {
                        type: fs.FOCUSIN,
                        ts: 0,
                        tgt: this.ec.getEventTargetPath(t)
                    },
                    i = js.build(t, n, this.hc);
                this.Cc(i)
            }, t.prototype.focusOutListener = function(t) {
                var n = {
                        type: fs.FOCUSOUT,
                        ts: 0,
                        tgt: this.ec.getEventTargetPath(t)
                    },
                    i = js.build(t, n, this.hc);
                this.Cc(i)
            }, t.prototype.changeListener = function(t) {
                var n = {
                        type: fs.CHANGE,
                        ts: 0,
                        tgt: this.ec.getEventTargetPath(t)
                    },
                    i = js.build(t, n, this.hc);
                this.Cc(i)
            }, t.prototype.copyListener = function(t) {
                var n = {
                    type: fs.COMMAND,
                    ts: 0,
                    tgt: this.ec.getEventTargetPath(t),
                    key: Vn.COPY
                };
                this.Cc(n)
            }, t.prototype.cutListener = function(t) {
                var n = {
                    type: fs.COMMAND,
                    ts: 0,
                    tgt: this.ec.getEventTargetPath(t),
                    key: Vn.CUT
                };
                this.Cc(n)
            }, t.prototype.pasteListener = function(t) {
                var n = {
                    type: fs.COMMAND,
                    ts: 0,
                    tgt: this.ec.getEventTargetPath(t),
                    key: Vn.PASTE
                };
                this.Cc(n)
            }, t.prototype.keyUpListener = function(t) {
                var n = {
                    type: fs.KEYUP,
                    ts: 0,
                    tgt: this.ec.getEventTargetPath(t),
                    key: this._c(t)
                };
                this.Cc(n)
            }, t.prototype.keyDownListener = function(t) {
                var n = {
                    type: fs.KEYDOWN,
                    ts: 0,
                    tgt: this.ec.getEventTargetPath(t),
                    key: this._c(t)
                };
                this.Cc(n)
            }, t.prototype._c = function(t) {
                var n = this.ai[t.key];
                return void 0 === n ? Gn.ALPHANUMERICAL : n
            }, t.prototype.Cc = function(t) {
                Ps(t) && t.tgt !== U.INVALID_ELEMENT && this.bi(t)
            }, t.prototype.kc = function(t) {
                return t.composedPath && Object.defineProperty(t, "__csOriginalTarget", {
                    value: t.composedPath()[0],
                    writable: !1,
                    enumerable: !1
                }), t
            }, t.prototype.Jn = function() {
                this.ai[" "] = Gn.SPACE, this.ai.Spacebar = Gn.SPACE, this.ai.Enter = Gn.ENTER, this.ai.Backspace = Gn.BACKSPACE, this.ai.Delete = Gn.DELETE, this.ai.ArrowUp = Gn.ARROWUP, this.ai.ArrowDown = Gn.ARROWDOWN, this.ai.ArrowLeft = Gn.ARROWLEFT, this.ai.ArrowRight = Gn.ARROWRIGHT, this.ai.Up = Gn.ARROWUP, this.ai.Down = Gn.ARROWDOWN, this.ai.Left = Gn.ARROWLEFT, this.ai.Right = Gn.ARROWRIGHT, this.ai.CapsLock = Gn.CAPSLOCK, this.ai.Shift = Gn.SHIFT, this.ai.Tab = Gn.TAB
            }, G([tn("Event handler type: resize")], t.prototype, "resizeListener", null), G([tn("Event handler type: scroll")], t.prototype, "scrollListener", null), G([tn("Event handler type: mouseMove"), ni()], t.prototype, "mouseMoveListener", null), G([tn("Event handler type: mouseDown"), ni()], t.prototype, "mouseDownListener", null), G([tn("Event handler type: mouseUp"), ni()], t.prototype, "mouseUpListener", null), G([tn("Event handler type: click"), ni()], t.prototype, "clickListener", null), G([tn("Event handler type: mouseOver"), ni()], t.prototype, "mouseOverListener", null), G([tn("Event handler type: mouseOut"), ni()], t.prototype, "mouseOutListener", null), G([tn("Event handler type: focusIn")], t.prototype, "focusInListener", null), G([tn("Event handler type: focusOut")], t.prototype, "focusOutListener", null), G([tn("Event handler type: change")], t.prototype, "changeListener", null), G([tn("Event handler type: copy")], t.prototype, "copyListener", null), G([tn("Event handler type: cut")], t.prototype, "cutListener", null), G([tn("Event handler type: paste")], t.prototype, "pasteListener", null), G([tn("Event handler type: keyup")], t.prototype, "keyUpListener", null), G([tn("Event handler type: keydown")], t.prototype, "keyDownListener", null), t
        }(),
        Vs = function() {
            function t() {
                var t = this;
                this.Lc = 100, this.xc = 0, this.Pc = ai.documentHeight(), this.Mc = {
                    boundElement: document,
                    type: "scroll",
                    listener: function(n) {
                        return t.maxScrollRateListener(n)
                    }
                }
            }
            return t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.start = function() {
                qn(this.Mc), this.reset()
            }, t.prototype.stop = function() {
                Bn(this.Mc)
            }, t.prototype.reset = function() {
                this.Pc = ai.documentHeight();
                var t = ii.getScrollContainer();
                if (null === t) this.xc = this.Dc(ai.documentHeight());
                else {
                    var n = this.Uc(t);
                    this.xc = this.jc(t, n)
                }
                this.bi()
            }, t.prototype.maxScrollRateListener = function(t) {
                var n, i;
                if (ii.isEventOnScrollContainer(t)) {
                    var r = csEventtarget.apply(t),
                        s = this.Uc(r);
                    n = this.zc(r, s), i = this.jc(r, s)
                } else n = ai.documentHeight(), i = this.Dc(n);
                (i > this.xc || n > this.Pc) && (this.xc = i, n > this.Pc && (this.Pc = n), this.bi())
            }, t.prototype.Dc = function(t) {
                var n = Math.round(this.qc() / t * 100);
                return Math.min(n, this.Lc)
            }, t.prototype.qc = function() {
                var t = ai.windowHeight();
                return ai.windowOffsetY() + t
            }, t.prototype.jc = function(t, n) {
                var i = t.scrollTop + t.clientHeight + t.getBoundingClientRect().top + n,
                    r = this.zc(t, n),
                    s = Math.round(i / r * 100);
                return Math.min(s, this.Lc)
            }, t.prototype.Uc = function(t) {
                var n = window.getComputedStyle(t).paddingTop || "0px";
                return parseInt(n, 10)
            }, t.prototype.zc = function(t, n) {
                return t.scrollHeight + t.getBoundingClientRect().top + n
            }, t.prototype.getRequestParameters = function() {
                return {
                    sr: "".concat(this.xc),
                    mdh: "".concat(this.Pc)
                }
            }, G([tn("MaxScrollRate handler")], t.prototype, "maxScrollRateListener", null), t
        }();
    ! function(t) {
        t.Visible = "visible", t.Hidden = "hidden", t.Blur = "blur", t.PagehideVisible = "pagehideVisible", t.PagehideHidden = "pagehideHidden"
    }(Bs || (Bs = {}));
    var Js, Ws, Ks, Ys, Xs, $s, Zs, Qs = function() {
            function t() {
                var t = this;
                this.Bc = !1, this.Hc = function(n) {
                    try {
                        switch (n.type) {
                            case "visibilitychange":
                                if ("hidden" === document.visibilityState) return t.Fc(Bs.Hidden);
                                break;
                            case "pagehide":
                                return "hidden" === document.visibilityState ? t.Fc(Bs.PagehideHidden) : t.Fc(Bs.PagehideVisible);
                            case "blur":
                                return t.Fc(Bs.Blur);
                            default:
                                return
                        }
                    } catch (t) {}
                }
            }
            return t.prototype.start = function() {
                this.Bc || (this.Bc = !0, this.Gc(), this.Vc(), this.Jc())
            }, t.prototype.stop = function() {
                this.Bc && (this.Bc = !1, this.Wc(), this.Kc(), this.Yc())
            }, t.prototype.onEvent = function(t) {
                this.Fc = t
            }, t.prototype.Gc = function() {
                document.addEventListener("visibilitychange", this.Hc)
            }, t.prototype.Wc = function() {
                document.removeEventListener("visibilitychange", this.Hc)
            }, t.prototype.Vc = function() {
                window.addEventListener("pagehide", this.Hc)
            }, t.prototype.Kc = function() {
                window.removeEventListener("pagehide", this.Hc)
            }, t.prototype.Jc = function() {
                window.addEventListener("blur", this.Hc)
            }, t.prototype.Yc = function() {
                window.removeEventListener("blur", this.Hc)
            }, t
        }(),
        te = function() {
            function t(t, n, i, r, s, e, u, o, h, c, a, f, v, l, d, w, y, p, m) {
                this.P = t, this.Xc = n, this.su = i, this.$c = r, this.Zc = s, this.Qc = e, this.ta = u, this.na = o, this.Bi = h, this.W = c, this.Ft = a, this.ia = f, this.ra = v, this.sa = l, this.Ki = d, this.ea = w, this.ua = y, this.oa = p, this.ha = m, this.nr = new yi, this.ca = !1
            }
            return t.prototype.init = function() {
                var t, n, i, r, s = this;
                this.Xc.onEvent((function(t) {
                    return s.cr(t)
                })), this.su.onEvent((function(t) {
                    return s.cr(t)
                })), this.$c.onEvent((function() {
                    var t = s.$c.getRequestParameters();
                    s.Ki.setQueryParams(t), s.ta.setQueryParams(t)
                })), this.ra.onEvent((function(t) {
                    return s.aa(t)
                })), this.fa(), null === (t = this.ea) || void 0 === t || t.onEvent((function(t) {
                    return s.cr(t)
                })), null === (n = this.oa) || void 0 === n || n.onEvent((function(t) {
                    return s.cr(t)
                })), null === (i = this.ua) || void 0 === i || i.onEvent((function(t) {
                    return s.cr(t)
                })), null === (r = this.ha) || void 0 === r || r.onEvent((function(t) {
                    return s.cr(t)
                })), this.va()
            }, t.prototype.va = function() {
                var t = this;
                this.ta.onBeaconSuccess((function() {
                    t.Qc.clearEvents()
                })), this.ta.onBeaconFailure((function(n) {
                    t.da(n)
                }))
            }, t.prototype.initStates = function() {
                var t = this.na.getRequestParameters(),
                    n = this.Zc.getRequestParameters(),
                    i = this.$c.getRequestParameters();
                this.Ki.setQueryParams(t), this.Ki.setQueryParams(n), this.Ki.setQueryParams(i), this.ta.setQueryParams(t), this.ta.setQueryParams(n), this.ta.setQueryParams(i), this.wa()
            }, t.prototype.start = function(t) {
                var n, i, r, s;
                this.sa.start(), this.Xc.start(), this.$c.start(), this.su.start(), null === (n = this.ea) || void 0 === n || n.start(), null === (i = this.ha) || void 0 === i || i.start(), null === (r = this.oa) || void 0 === r || r.start(), t || this.ra.start(), null === (s = this.ua) || void 0 === s || s.start()
            }, t.prototype.collectInitialEvents = function() {
                var t, n;
                null === (t = this.oa) || void 0 === t || t.flushInitialEvent(), null === (n = this.ea) || void 0 === n || n.collectInitialEvents()
            }, t.prototype.onIframeAnalysisEvent = function(t) {
                this.gr(t)
            }, t.prototype.aa = function(t) {
                this.W.hasValidSession() && this.gr(t)
            }, t.prototype.cr = function(t) {
                this.Bi.isSessionValid() && this.gr(t)
            }, t.prototype.gr = function(t) {
                this.Qc.addEvent(this.ya(t)), this.Qc.isFull() && this.sendEvents(), this.P.emitDebugEvents && this.nr.emit("analysisEvent", F(F({}, t), {
                    typeName: fs[t.type]
                }))
            }, t.prototype.ya = function(t) {
                return t.ts = this.pa(), t
            }, t.prototype.ma = function() {
                this.ta.setQueryParams({
                    hlm: "true"
                }), this.ca = !0
            }, t.prototype.sendLastMessageBeacon = function() {
                this.ta.setQueryParams(this.Zc.getRequestParameters()), this.ta.send(this.Qc.stringifyEvents()), this.ta.removeQueryParams(["hlm"]), this.ca = !1
            }, t.prototype.sendEvents = function() {
                this.Qc.isEmpty() || (this.Ki.setQueryParams(this.na.getRequestParameters()), this.Ki.setQueryParams(this.Zc.getRequestParameters()), this.Ki.send(this.Qc.getEvents()), this.Qc.clearEvents())
            }, t.prototype.stop = function() {
                var t, n, i, r;
                this.sa.stop(), this.Xc.stop(), this.$c.stop(), this.su.stop(), this.ra.stop(), null === (t = this.ea) || void 0 === t || t.stop(), null === (n = this.oa) || void 0 === n || n.stop(), null === (i = this.ua) || void 0 === i || i.stop(), null === (r = this.ha) || void 0 === r || r.stop(), this.Qc.empty()
            }, t.prototype.clearStates = function(t) {
                var n, i;
                this.Xc.flushPendingDebouncedListeners(), null === (n = this.ua) || void 0 === n || n.flushPendingKeyboardNavigationEvent(), null === (i = this.ha) || void 0 === i || i.flushPendingTextHighlightEvent(), t ? (this.ma(), this.sendLastMessageBeacon()) : this.sendEvents(), this.$c.reset(), this.ra.stop(), this.Ki.removeQueryParams()
            }, t.prototype.wa = function() {
                this.ga = pt()
            }, t.prototype.pa = function() {
                return pt() - this.ga
            }, t.prototype.fa = function() {
                var t = this;
                this.sa.onEvent((function(n) {
                    var i, r;
                    null === (i = t.ua) || void 0 === i || i.flushPendingKeyboardNavigationEvent(), null === (r = t.ha) || void 0 === r || r.flushPendingTextHighlightEvent(), n === Bs.PagehideVisible ? t.ma() : n === Bs.PagehideHidden ? (t.ma(), t.sendLastMessageBeacon()) : t.Qc.isEmpty() && !t.ca || t.sendLastMessageBeacon()
                }))
            }, t.prototype.da = function(t) {
                try {
                    this.Qc.isEmpty() && !this.ca || this.Ft.save({
                        requestParameters: t,
                        events: this.Qc.getEvents()
                    })
                } catch (t) {}
            }, t.prototype.pushSubmitEvent = function(t, n) {
                if (function(t) {
                        return t === vs.SUCCESS || t === vs.FAILURE || t === vs.ATTEMPT
                    }(t))
                    if (kt(n)) {
                        var i = {
                            status: t,
                            type: fs.SUBMIT,
                            ts: 0,
                            tgt: this.ia.getElementPath(n)
                        };
                        i.tgt !== U.INVALID_ELEMENT && this.aa(i)
                    } else Kt.warn("AnalysisEvents Service: invalid element: ".concat(n));
                else Kt.warn("AnalysisEvents Service: invalid submit status: ".concat(t))
            }, t
        }(),
        ne = function() {
            function t(t, n) {
                var i = this;
                this.Ft = t, this.Ki = n, this.Aa = function() {
                    "visible" === document.visibilityState && i.Ea()
                }
            }
            return t.prototype.start = function() {
                this.Ea(), this.Gc()
            }, t.prototype.stop = function() {
                this.Wc()
            }, t.prototype.getRecoveryStorage = function() {
                return this.Ft
            }, t.prototype.Ea = function() {
                var t = this.Ft.recover();
                if (null !== t) {
                    var n = t,
                        i = n.requestParameters,
                        r = n.events;
                    this.Ki.send(r, i)
                }
            }, t.prototype.Gc = function() {
                document.addEventListener("visibilitychange", this.Aa)
            }, t.prototype.Wc = function() {
                document.removeEventListener("visibilitychange", this.Aa)
            }, t
        }(),
        ie = function() {
            function t(t) {
                this.Mo = t
            }
            return t.prototype.save = function(t) {
                localStorage.setItem(this.Mo, csJSON.stringify(t))
            }, t.prototype.clear = function() {
                localStorage.removeItem(this.Mo)
            }, t.prototype.recover = function() {
                var t = localStorage.getItem(this.Mo);
                if (null === t) return null;
                var n = null;
                try {
                    n = csJSON.parse(t)
                } catch (n) {
                    Kt.error("Invalid item in localStorage.\n         (key:".concat(this.Mo, "; value:").concat(t, ")"))
                } finally {
                    this.clear()
                }
                return n
            }, t
        }(),
        re = function() {
            function t(t) {
                var n = this;
                this.Sa = t, this.ba = function(t) {
                    return n.processMetric(t)
                }, this.Bc = !1
            }
            return t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.start = function() {
                this.Bc || (this.Bc = !0, this.Sa.onFCP(this.ba), this.Sa.onCLS(this.ba), this.Sa.onFID(this.ba), this.Sa.onLCP(this.ba), this.Sa.onTTFB(this.ba), this.Sa.onINP(this.ba))
            }, t.prototype.stop = function() {
                this.Bc = !1
            }, t.prototype.processMetric = function(t) {
                if (this.Bc) {
                    var n = {
                        type: fs.PERFORMANCE,
                        name: t.name,
                        val: t.value,
                        ts: 0
                    };
                    this.bi(n)
                }
            }, G([tn("Performance metric handler")], t.prototype, "processMetric", null), t
        }(),
        se = -1,
        ee = function(t) {
            addEventListener("pageshow", (function(n) {
                n.persisted && (se = n.timeStamp, t(n))
            }), !0)
        },
        ue = function() {
            return window.performance && performance.getEntriesByType && performance.getEntriesByType("navigation")[0]
        },
        oe = function() {
            var t = ue();
            return t && t.activationStart || 0
        },
        he = function(t, n) {
            var i = ue(),
                r = "navigate";
            return se >= 0 ? r = "back-forward-cache" : i && (document.prerendering || oe() > 0 ? r = "prerender" : document.wasDiscarded ? r = "restore" : i.type && (r = i.type.replace(/_/g, "-"))), {
                name: t,
                value: void 0 === n ? -1 : n,
                rating: "good",
                delta: 0,
                entries: [],
                id: "v3-".concat(Date.now(), "-").concat(Math.floor(8999999999999 * Math.random()) + 1e12),
                navigationType: r
            }
        },
        ce = function(t, n, i) {
            try {
                if (PerformanceObserver.supportedEntryTypes.includes(t)) {
                    var r = new PerformanceObserver((function(t) {
                        Promise.resolve().then((function() {
                            n(t.getEntries())
                        }))
                    }));
                    return r.observe(Object.assign({
                        type: t,
                        buffered: !0
                    }, i || {})), r
                }
            } catch (t) {}
        },
        ae = function(t, n, i, r) {
            var s, e;
            return function(u) {
                n.value >= 0 && (u || r) && ((e = n.value - (s || 0)) || void 0 === s) && (s = n.value, n.delta = e, n.rating = function(t, n) {
                    return t > n[1] ? "poor" : t > n[0] ? "needs-improvement" : "good"
                }(n.value, i), t(n))
            }
        },
        fe = function(t) {
            requestAnimationFrame((function() {
                return requestAnimationFrame((function() {
                    return t()
                }))
            }))
        },
        ve = function(t) {
            var n = function(n) {
                "pagehide" !== n.type && "hidden" !== document.visibilityState || t(n)
            };
            addEventListener("visibilitychange", n, !0), addEventListener("pagehide", n, !0)
        },
        le = function(t) {
            var n = !1;
            return function(i) {
                n || (t(i), n = !0)
            }
        },
        de = -1,
        we = function() {
            return "hidden" !== document.visibilityState || document.prerendering ? 1 / 0 : 0
        },
        ye = function(t) {
            "hidden" === document.visibilityState && de > -1 && (de = "visibilitychange" === t.type ? t.timeStamp : 0, me())
        },
        pe = function() {
            addEventListener("visibilitychange", ye, !0), addEventListener("prerenderingchange", ye, !0)
        },
        me = function() {
            removeEventListener("visibilitychange", ye, !0), removeEventListener("prerenderingchange", ye, !0)
        },
        ge = function() {
            return de < 0 && (de = we(), pe(), ee((function() {
                setTimeout((function() {
                    de = we(), pe()
                }), 0)
            }))), {
                get firstHiddenTime() {
                    return de
                }
            }
        },
        Ae = function(t) {
            document.prerendering ? addEventListener("prerenderingchange", (function() {
                return t()
            }), !0) : t()
        },
        Ee = [1800, 3e3],
        Se = function(t, n) {
            n = n || {}, Ae((function() {
                var i, r = ge(),
                    s = he("FCP"),
                    e = ce("paint", (function(t) {
                        t.forEach((function(t) {
                            "first-contentful-paint" === t.name && (e.disconnect(), t.startTime < r.firstHiddenTime && (s.value = Math.max(t.startTime - oe(), 0), s.entries.push(t), i(!0)))
                        }))
                    }));
                e && (i = ae(t, s, Ee, n.reportAllChanges), ee((function(r) {
                    s = he("FCP"), i = ae(t, s, Ee, n.reportAllChanges), fe((function() {
                        s.value = performance.now() - r.timeStamp, i(!0)
                    }))
                })))
            }))
        },
        be = [.1, .25],
        Te = {
            passive: !0,
            capture: !0
        },
        Re = new Date,
        Ne = function(t, n) {
            Js || (Js = n, Ws = t, Ks = new Date, Ie(removeEventListener), ke())
        },
        ke = function() {
            if (Ws >= 0 && Ws < Ks - Re) {
                var t = {
                    entryType: "first-input",
                    name: Js.type,
                    target: Js.target,
                    cancelable: Js.cancelable,
                    startTime: Js.timeStamp,
                    processingStart: Js.timeStamp + Ws
                };
                Ys.forEach((function(n) {
                    n(t)
                })), Ys = []
            }
        },
        Oe = function(t) {
            if (t.cancelable) {
                var n = (t.timeStamp > 1e12 ? new Date : performance.now()) - t.timeStamp;
                "pointerdown" == t.type ? function(t, n) {
                    var i = function() {
                            Ne(t, n), s()
                        },
                        r = function() {
                            s()
                        },
                        s = function() {
                            removeEventListener("pointerup", i, Te), removeEventListener("pointercancel", r, Te)
                        };
                    addEventListener("pointerup", i, Te), addEventListener("pointercancel", r, Te)
                }(n, t) : Ne(n, t)
            }
        },
        Ie = function(t) {
            ["mousedown", "keydown", "touchstart", "pointerdown"].forEach((function(n) {
                return t(n, Oe, Te)
            }))
        },
        Ce = [100, 300],
        _e = 0,
        Le = 1 / 0,
        xe = 0,
        Pe = function(t) {
            t.forEach((function(t) {
                t.interactionId && (Le = Math.min(Le, t.interactionId), xe = Math.max(xe, t.interactionId), _e = xe ? (xe - Le) / 7 + 1 : 0)
            }))
        },
        Me = function() {
            return Xs ? _e : performance.interactionCount || 0
        },
        De = function() {
            "interactionCount" in performance || Xs || (Xs = ce("event", Pe, {
                type: "event",
                buffered: !0,
                durationThreshold: 0
            }))
        },
        Ue = [200, 500],
        je = 0,
        ze = function() {
            return Me() - je
        },
        qe = [],
        Be = {},
        He = function(t) {
            var n = qe[qe.length - 1],
                i = Be[t.interactionId];
            if (i || qe.length < 10 || t.duration > n.latency) {
                if (i) i.entries.push(t), i.latency = Math.max(i.latency, t.duration);
                else {
                    var r = {
                        id: t.interactionId,
                        latency: t.duration,
                        entries: [t]
                    };
                    Be[r.id] = r, qe.push(r)
                }
                qe.sort((function(t, n) {
                    return n.latency - t.latency
                })), qe.splice(10).forEach((function(t) {
                    delete Be[t.id]
                }))
            }
        },
        Fe = [2500, 4e3],
        Ge = {},
        Ve = [800, 1800],
        Je = function t(n) {
            document.prerendering ? Ae((function() {
                return t(n)
            })) : "complete" !== document.readyState ? addEventListener("load", (function() {
                return t(n)
            }), !0) : setTimeout(n, 0)
        },
        We = function(t, n) {
            n = n || {};
            var i = he("TTFB"),
                r = ae(t, i, Ve, n.reportAllChanges);
            Je((function() {
                var s = ue();
                if (s) {
                    var e = s.responseStart;
                    if (e <= 0 || e > performance.now()) return;
                    i.value = Math.max(e - oe(), 0), i.entries = [s], r(!0), ee((function() {
                        i = he("TTFB", 0), (r = ae(t, i, Ve, n.reportAllChanges))(!0)
                    }))
                }
            }))
        },
        Ke = function() {
            function t() {}
            return t.prototype.onFCP = function(t) {
                Se(t, {
                    reportAllChanges: !0
                })
            }, t.prototype.onCLS = function(t) {
                ! function(t, n) {
                    n = n || {}, Se(le((function() {
                        var i, r = he("CLS", 0),
                            s = 0,
                            e = [],
                            u = function(t) {
                                t.forEach((function(t) {
                                    if (!t.hadRecentInput) {
                                        var n = e[0],
                                            i = e[e.length - 1];
                                        s && t.startTime - i.startTime < 1e3 && t.startTime - n.startTime < 5e3 ? (s += t.value, e.push(t)) : (s = t.value, e = [t])
                                    }
                                })), s > r.value && (r.value = s, r.entries = e, i())
                            },
                            o = ce("layout-shift", u);
                        o && (i = ae(t, r, be, n.reportAllChanges), ve((function() {
                            u(o.takeRecords()), i(!0)
                        })), ee((function() {
                            s = 0, r = he("CLS", 0), i = ae(t, r, be, n.reportAllChanges), fe((function() {
                                return i()
                            }))
                        })), setTimeout(i, 0))
                    })))
                }(t, {
                    reportAllChanges: !0
                })
            }, t.prototype.onFID = function(t) {
                ! function(t, n) {
                    n = n || {}, Ae((function() {
                        var i, r = ge(),
                            s = he("FID"),
                            e = function(t) {
                                t.startTime < r.firstHiddenTime && (s.value = t.processingStart - t.startTime, s.entries.push(t), i(!0))
                            },
                            u = function(t) {
                                t.forEach(e)
                            },
                            o = ce("first-input", u);
                        i = ae(t, s, Ce, n.reportAllChanges), o && ve(le((function() {
                            u(o.takeRecords()), o.disconnect()
                        }))), o && ee((function() {
                            var r;
                            s = he("FID"), i = ae(t, s, Ce, n.reportAllChanges), Ys = [], Ws = -1, Js = null, Ie(addEventListener), r = e, Ys.push(r), ke()
                        }))
                    }))
                }(t, {
                    reportAllChanges: !0
                })
            }, t.prototype.onLCP = function(t) {
                ! function(t, n) {
                    n = n || {}, Ae((function() {
                        var i, r = ge(),
                            s = he("LCP"),
                            e = function(t) {
                                var n = t[t.length - 1];
                                n && n.startTime < r.firstHiddenTime && (s.value = Math.max(n.startTime - oe(), 0), s.entries = [n], i())
                            },
                            u = ce("largest-contentful-paint", e);
                        if (u) {
                            i = ae(t, s, Fe, n.reportAllChanges);
                            var o = le((function() {
                                Ge[s.id] || (e(u.takeRecords()), u.disconnect(), Ge[s.id] = !0, i(!0))
                            }));
                            ["keydown", "click"].forEach((function(t) {
                                addEventListener(t, o, !0)
                            })), ve(o), ee((function(r) {
                                s = he("LCP"), i = ae(t, s, Fe, n.reportAllChanges), fe((function() {
                                    s.value = performance.now() - r.timeStamp, Ge[s.id] = !0, i(!0)
                                }))
                            }))
                        }
                    }))
                }(t, {
                    reportAllChanges: !0
                })
            }, t.prototype.onTTFB = function(t) {
                We(t, {
                    reportAllChanges: !0
                })
            }, t.prototype.onINP = function(t) {
                ! function(t, n) {
                    n = n || {}, Ae((function() {
                        De();
                        var i, r = he("INP"),
                            s = function(t) {
                                t.forEach((function(t) {
                                    t.interactionId && He(t), "first-input" === t.entryType && !qe.some((function(n) {
                                        return n.entries.some((function(n) {
                                            return t.duration === n.duration && t.startTime === n.startTime
                                        }))
                                    })) && He(t)
                                }));
                                var n, s = (n = Math.min(qe.length - 1, Math.floor(ze() / 50)), qe[n]);
                                s && s.latency !== r.value && (r.value = s.latency, r.entries = s.entries, i())
                            },
                            e = ce("event", s, {
                                durationThreshold: n.durationThreshold || 40
                            });
                        i = ae(t, r, Ue, n.reportAllChanges), e && (e.observe({
                            type: "first-input",
                            buffered: !0
                        }), ve((function() {
                            s(e.takeRecords()), r.value < 0 && ze() > 0 && (r.value = 0, r.entries = []), i(!0)
                        })), ee((function() {
                            qe = [], je = Me(), r = he("INP"), i = ae(t, r, Ue, n.reportAllChanges)
                        })))
                    }))
                }(t, {
                    reportAllChanges: !0
                })
            }, t
        }(),
        Ye = function() {
            function t(t) {
                void 0 === t && (t = []), this.ki = t
            }
            return t.prototype.stringifyEvents = function() {
                return csJSON.stringify(this.ki)
            }, t.prototype.addEvent = function(t) {
                csArray.prototype.push.call(this.ki, t)
            }, t.prototype.eventsCount = function() {
                return this.ki.length
            }, t.prototype.clearEvents = function() {
                this.ki = []
            }, t.prototype.empty = function() {
                this.clearEvents()
            }, t.prototype.isFull = function() {
                return this.eventsCount() >= 50
            }, t.prototype.isEmpty = function() {
                return 0 === this.ki.length
            }, t.prototype.getEvents = function() {
                return this.ki
            }, t
        }(),
        Xe = function() {
            function t() {
                var t = this;
                this.Ac = 500, this.Ta = 500, this.Ra = Bi((function(n, i) {
                    return t.onResize(i)
                }), this.Ac), this.Na = null, this.ka = !0
            }
            return t.prototype.start = function() {
                var n = this;
                this.Na || (this.Oa = t.scheduleStart((function() {
                    n.run()
                }), this.Ta))
            }, t.prototype.stop = function() {
                this.Na && (Bn(this.Na), this.Na = null), this.Oa()
            }, t.scheduleStart = function(t, n) {
                var i = 0,
                    r = null,
                    s = function() {
                        i = window.setTimeout((function() {
                            i = 0, t()
                        }), n)
                    };
                return "visible" === document.visibilityState ? s() : qn(r = {
                        boundElement: document,
                        type: "visibilitychange",
                        listener: function() {
                            "visible" === document.visibilityState && (s(), Bn(r), r = null)
                        }
                    }),
                    function() {
                        i > 0 && (window.clearTimeout(i), i = 0), null !== r && (Bn(r), r = null)
                    }
            }, t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.run = function() {
                var n, i = this;
                0 !== window.outerWidth && (this.Ia = this.Ca = t._a(), this.La = window.devicePixelRatio, this.xa = this.La, this.Pa = window.outerWidth, this.Ma = window.innerWidth, this.Da = window.innerHeight, this.Ua = (null === (n = window.visualViewport) || void 0 === n ? void 0 : n.scale) || 1, this.Na = {
                    boundElement: window.visualViewport || window,
                    type: "resize",
                    listener: function(t) {
                        return i.Ra(t)
                    }
                }, qn(this.Na), this.collectInitialEvents())
            }, t.prototype.collectInitialEvents = function() {
                if (this.Na) {
                    var n = {
                        type: fs.ZOOM,
                        ts: 0,
                        val: t.ja(this.Ca)
                    };
                    if (this.bi(n), window.visualViewport) {
                        var i = {
                            type: fs.VIEWPORT_SCALE,
                            ts: 0,
                            val: window.visualViewport.scale
                        };
                        this.bi(i)
                    }
                }
            }, t.prototype.onResize = function(t) {
                var n, i = (null === (n = window.visualViewport) || void 0 === n ? void 0 : n.scale) || 1;
                this.za(i), window.visualViewport && this.qa(i), this.Pa = window.outerWidth, this.Ma = window.innerWidth, this.Da = window.innerHeight, this.Ua = i
            }, t.prototype.za = function(n) {
                var i;
                window.devicePixelRatio !== this.xa ? (i = window.devicePixelRatio / this.La * this.Ia, this.xa = window.devicePixelRatio, this.ka = !1) : this.Pa === window.outerWidth && this.Da !== window.innerHeight && this.Ma !== window.innerWidth && this.Ua === n && this.ka && (i = window.outerWidth / window.innerWidth / n);
                if (void 0 !== i) {
                    this.Ca = i;
                    var r = {
                        type: fs.ZOOM,
                        ts: 0,
                        val: t.ja(i)
                    };
                    this.bi(r)
                }
            }, t.prototype.qa = function(t) {
                if (t !== this.Ua) {
                    var n = {
                        type: fs.VIEWPORT_SCALE,
                        ts: 0,
                        val: t
                    };
                    this.bi(n)
                }
            }, t._a = function() {
                return t.Ba() ? window.csScreen.deviceXDPI / window.csScreen.logicalXDPI : window.outerWidth / window.innerWidth
            }, t.Ba = function() {
                return "deviceXDPI" in window.csScreen && "logicalXDPI" in window.csScreen
            }, t.ja = function(t) {
                return 100 * t << 0
            }, G([tn("ZoomTracker.run")], t.prototype, "run", null), G([tn("ZoomTracker.onResize")], t.prototype, "onResize", null), G([tn("ZoomTracker.scheduleStart")], t, "scheduleStart", null), t
        }();
    ! function(t) {
        t[t.MUTATION = 0] = "MUTATION", t[t.WINDOW_PROPERTY = 1] = "WINDOW_PROPERTY"
    }($s || ($s = {})),
    function(t) {
        t[t.COLOR_ENHANCER = 0] = "COLOR_ENHANCER", t[t.OTHER = 1] = "OTHER"
    }(Zs || (Zs = {}));
    var $e, Ze = function() {
            function t(t) {
                this.Ha = t, this.Fa = 500, this.Oa = null
            }
            return t.prototype.start = function() {
                var n = this;
                this.Oa = t.Ga((function() {
                    n.initialDetection(), n.Oa = null
                }), this.Fa)
            }, t.prototype.stop = function() {
                var t;
                null === (t = this.vi) || void 0 === t || t.disconnect(), this.vi = null, this.Oa && this.Oa()
            }, t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.initialDetection = function() {
                var n = this;
                this.Va = [], this.Ja = [], csArray.prototype.forEach.call(this.Ha, (function(i) {
                    for (var r = i.id, s = !1, e = {
                            id: r,
                            attributesBasedDetectors: {},
                            childListBasedDetectors: {}
                        }, u = 0, o = i.detectors; u < o.length; u++) {
                        var h = o[u],
                            c = h.type;
                        switch (c) {
                            case $s.MUTATION:
                                (s = !!window.csquerySelector[document.nodeType].call(document, h.selector)) || t.Wa(e, h);
                                break;
                            case $s.WINDOW_PROPERTY:
                                s = h.property in window;
                                break;
                            default:
                        }
                        if (s) {
                            csArray.prototype.push.call(n.Ja, r);
                            break
                        }
                    }
                    s || csArray.prototype.push.call(n.Va, e)
                })), this.Xs(), this.Ka()
            }, t.prototype.Ka = function() {
                this.Ja.length > 0 && this.Ya(this.Ja)
            }, t.prototype.flushInitialEvent = function() {
                null !== this.Oa ? (this.Oa(), this.initialDetection()) : this.Ka()
            }, t.prototype.Ya = function(t) {
                var n = {
                    type: fs.EXTENSION,
                    ts: 0,
                    ids: W([], t, !0)
                };
                this.bi(n)
            }, t.prototype.Xs = function() {
                var t = this;
                0 !== this.Va.length && (this.vi = new csMutationObserver((function(n) {
                    return t.handleMutations(n)
                })), this.vi.observe(document.documentElement, {
                    childList: !1,
                    attributes: !0
                }), this.vi.observe(document.head, {
                    childList: !0,
                    attributes: !1
                }), this.vi.observe(document.body, {
                    childList: !0,
                    attributes: !0
                }))
            }, t.prototype.handleMutations = function(t) {
                var n, i = this,
                    r = [];
                csArray.prototype.forEach.call(t, (function(t) {
                    "childList" === t.type ? i.handleChildListMutation(t, r) : "attributes" === t.type && i.handleAttributesMutation(t, r)
                })), r.length > 0 && ((n = csArray.prototype.push).call.apply(n, W([this.Ja], r, !1)), this.Ya(r)), 0 === this.Va.length && this.stop()
            }, t.prototype.handleChildListMutation = function(n, i) {
                var r = this;
                if (0 !== n.addedNodes.length) {
                    var s = n.target;
                    oi(n.addedNodes, (function(n) {
                        if (f(n))
                            for (var e = 0; e < r.Va.length; e++) {
                                var u = r.Va[e];
                                if (t.Xa(u, s.localName))
                                    if (null == u.childListBasedDetectors[s.localName] ? void 0 : csArray.prototype.some.call(u.childListBasedDetectors[s.localName], (function(t) {
                                            return n.matches(t.selector)
                                        }))) {
                                        csArray.prototype.push.call(i, u.id), csArray.prototype.splice.call(r.Va, e, 1);
                                        break
                                    }
                            }
                    }))
                }
            }, t.prototype.handleAttributesMutation = function(n, i) {
                for (var r = n.target, s = 0; s < this.Va.length; s++) {
                    var e = this.Va[s];
                    if (t.$a(e, r.localName))
                        if (null == e.attributesBasedDetectors[r.localName] ? void 0 : csArray.prototype.some.call(e.attributesBasedDetectors[r.localName], (function(t) {
                                return r.matches(t.selector)
                            }))) {
                            csArray.prototype.push.call(i, e.id), csArray.prototype.splice.call(this.Va, s, 1);
                            break
                        }
                }
            }, t.Xa = function(t, n) {
                return n in t.childListBasedDetectors
            }, t.$a = function(t, n) {
                return n in t.attributesBasedDetectors
            }, t.Wa = function(t, n) {
                var i = t.attributesBasedDetectors;
                "childList" === n.mutationType && (i = t.childListBasedDetectors), n.target in i ? csArray.prototype.push.call(i[n.target], n) : i[n.target] = [n]
            }, t.Ga = function(t, n) {
                var i = 0;
                i = window.setTimeout((function() {
                    i = 0, t()
                }), n);
                var r = window.clearTimeout;
                return function() {
                    i > 0 && (r.call(window, i), i = 0)
                }
            }, t.isSupported = function() {
                return /Chrome/i.test(navigator.userAgent) && !/Android/i.test(navigator.userAgent)
            }, G([tn("ExtensionsTracker.initialDetection")], t.prototype, "initialDetection", null), G([tn("ExtensionsTracker.handleMutations")], t.prototype, "handleMutations", null), G([tn("ExtensionsTracker.handleChildListMutation")], t.prototype, "handleChildListMutation", null), G([tn("ExtensionsTracker.handleAttributesMutation")], t.prototype, "handleAttributesMutation", null), t
        }(),
        Qe = [{
            id: Zs.COLOR_ENHANCER,
            detectors: [{
                type: $s.MUTATION,
                target: "html",
                selector: "html[data-darkreader-mode]",
                mutationType: "attributes"
            }, {
                type: $s.MUTATION,
                target: "body",
                selector: "#hc_extension_svg_filters",
                mutationType: "childList"
            }, {
                type: $s.MUTATION,
                target: "body",
                selector: "#cvd_extension_svg_filter",
                mutationType: "childList"
            }, {
                type: $s.MUTATION,
                target: "html",
                selector: "html[class~=ss-shaded-scrollbars]",
                mutationType: "attributes"
            }]
        }, {
            id: Zs.OTHER,
            detectors: [{
                type: $s.MUTATION,
                target: "body",
                selector: "th-rw4gc",
                mutationType: "childList"
            }, {
                type: $s.MUTATION,
                target: "head",
                selector: 'link[href*="cdnapgfjopgaggbmfgbiinmmbdcglnam"]',
                mutationType: "childList"
            }, {
                type: $s.MUTATION,
                target: "head",
                selector: 'link[href*="dgmanlpmmkibanfdgjocnabmcaclkmod"]',
                mutationType: "childList"
            }, {
                type: $s.WINDOW_PROPERTY,
                property: "cvox"
            }, {
                type: $s.MUTATION,
                target: "body",
                selector: "#highlighter[style*=box-shadow]",
                mutationType: "childList"
            }, {
                type: $s.MUTATION,
                target: "head",
                selector: 'link[href*="ddnpdohiipephjpdpohikkamhdikbldp"]',
                mutationType: "childList"
            }, {
                type: $s.MUTATION,
                target: "head",
                selector: 'link[href*="emgfmfgandmhbgleikkoaebngboghfpe"]',
                mutationType: "childList"
            }]
        }],
        tu = function() {
            function t() {
                this.Za = 0, this.Qa = 0, this.tf = 0, this.nf = 0, this.if = 0
            }
            return t.prototype.incrementFocusWithKeyboard = function() {
                this.Za += 1
            }, t.prototype.incrementFocusWithMouse = function() {
                this.Qa += 1
            }, t.prototype.incrementClickWithKeyboard = function() {
                this.tf += 1
            }, t.prototype.incrementClickWithMouse = function() {
                this.nf += 1
            }, t.prototype.incrementScrollWithKeyboard = function() {
                this.if += 1
            }, t.prototype.buildKeyboardNavigationCounters = function() {
                return {
                    focus: {
                        keyboardCounter: this.Za,
                        mouseCounter: this.Qa
                    },
                    click: {
                        keyboardCounter: this.tf,
                        mouseCounter: this.nf
                    },
                    scroll: {
                        keyboardCounter: this.if
                    }
                }
            }, t.prototype.reset = function() {
                this.Za = 0, this.Qa = 0, this.tf = 0, this.nf = 0, this.if = 0
            }, t
        }(),
        nu = function() {
            function t() {
                var t = this;
                this.rf = Fn((function() {
                    return t.sf()
                }), 5e3), this.bc = Bi((function(n, i) {
                    return t.scrollListener()
                }), 150), this.Za = !1, this.tf = !1, this.if = !1, this.ef = [{
                    boundElement: document,
                    type: "click",
                    listener: function(n) {
                        return t.clickListener(n)
                    }
                }, {
                    boundElement: document,
                    type: "focus",
                    listener: function(n) {
                        return t.focusListener(n)
                    }
                }, {
                    boundElement: document,
                    type: "keydown",
                    listener: function(n) {
                        return t.keyDownListener(n)
                    }
                }, {
                    boundElement: document,
                    type: "mousedown",
                    listener: function() {
                        return t.uf()
                    }
                }, {
                    boundElement: document,
                    type: "mouseover",
                    listener: function(n) {
                        return t.mouseOverListener(n)
                    }
                }, {
                    boundElement: document,
                    type: "scroll",
                    listener: function() {
                        return t.bc()
                    }
                }, {
                    boundElement: document,
                    type: "wheel",
                    listener: function() {
                        return t.hf()
                    }
                }], this.cf = new tu
            }
            return t.prototype.start = function() {
                csArray.prototype.forEach.call(this.ef, (function(t) {
                    return qn(t)
                }))
            }, t.prototype.stop = function() {
                csArray.prototype.forEach.call(this.ef, (function(t) {
                    return Bn(t)
                }))
            }, t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.flushPendingKeyboardNavigationEvent = function() {
                this.bc.flushPending(), this.rf.flushPending()
            }, t.prototype.clickListener = function(t) {
                var n = ti(t);
                kt(n) && fi.isElementFocusable(n) && (this.tf ? (this.cf.incrementClickWithKeyboard(), this.tf = !1) : this.cf.incrementClickWithMouse(), this.rf())
            }, t.prototype.focusListener = function(t) {
                var n = ti(t);
                this.Za && kt(n) && fi.isElementFocusable(n) && (this.cf.incrementFocusWithKeyboard(), this.rf(), this.Za = !1)
            }, t.prototype.keyDownListener = function(t) {
                this.Za || "Tab" !== t.key && "ArrowUp" !== t.key && "ArrowDown" !== t.key && "ArrowRight" !== t.key && "ArrowLeft" !== t.key || (this.Za = !0), this.tf || "Spacebar" !== t.key && " " !== t.key && "Enter" !== t.key || (this.tf = !0), this.if || "ArrowDown" !== t.key && "ArrowUp" !== t.key && "ArrowRight" !== t.key && "ArrowLeft" !== t.key && "PageUp" !== t.key && "PageDown" !== t.key && "Spacebar" !== t.key && " " !== t.key || (this.if = !0)
            }, t.prototype.uf = function() {
                this.Za = !1, this.tf = !1
            }, t.prototype.mouseOverListener = function(t) {
                var n = ti(t);
                kt(n) && fi.isElementFocusable(n) && (this.cf.incrementFocusWithMouse(), this.rf())
            }, t.prototype.scrollListener = function() {
                this.if && (this.cf.incrementScrollWithKeyboard(), this.rf(), this.if = !1)
            }, t.prototype.hf = function() {
                this.if = !1
            }, t.prototype.sf = function() {
                var t = {
                    type: fs.KEYBOARD_NAVIGATION,
                    ts: 0,
                    val: this.cf.buildKeyboardNavigationCounters()
                };
                this.bi(t), this.cf.reset()
            }, G([tn("Keyboard navigation Event handler type: click")], t.prototype, "clickListener", null), G([tn("Keyboard navigation Event handler type: focus")], t.prototype, "focusListener", null), G([tn("Keyboard navigation Event handler type: keydown")], t.prototype, "keyDownListener", null), G([tn("Keyboard navigation Event handler type: mouseover")], t.prototype, "mouseOverListener", null), G([tn("Event handler type: scroll")], t.prototype, "scrollListener", null), t
        }(),
        iu = function() {
            function t() {
                var t = this;
                this.af = null, this.ff = [{
                    boundElement: document,
                    type: "selectionchange",
                    listener: function() {
                        return t.selectionChangeListener()
                    }
                }, {
                    boundElement: document,
                    type: "copy",
                    listener: function() {
                        return t.copyListener()
                    }
                }]
            }
            return t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.start = function() {
                csArray.prototype.forEach.call(this.ff, (function(t) {
                    return qn(t)
                }))
            }, t.prototype.stop = function() {
                csArray.prototype.forEach.call(this.ff, (function(t) {
                    return Bn(t)
                }))
            }, t.prototype.flushPendingTextHighlightEvent = function() {
                this.af && this.vf(this.af)
            }, t.prototype.selectionChangeListener = function() {
                var t = document.getSelection();
                if (t)
                    if (this.af) {
                        var n = this.af,
                            i = n.anchorNode,
                            r = n.anchorOffset;
                        if (i === t.anchorNode && r === t.anchorOffset) {
                            if (v(t.anchorNode)) {
                                var s = t.toString().length;
                                s > this.af.length && (this.af.length = s)
                            }
                        } else this.vf(this.af)
                    } else t.anchorNode && v(t.anchorNode) && 0 !== t.toString().length && (this.af = {
                        anchorNode: t.anchorNode,
                        anchorOffset: t.anchorOffset,
                        length: t.toString().length
                    })
            }, t.prototype.copyListener = function() {
                this.af && this.lf()
            }, t.prototype.vf = function(t) {
                var n = {
                    type: fs.TEXT_HIGHLIGHT,
                    ts: 0,
                    len: t.length
                };
                this.bi(n), this.lf()
            }, t.prototype.lf = function() {
                this.af = null
            }, G([tn("Text highlight event handler type: selectionChange")], t.prototype, "selectionChangeListener", null), G([tn("Text highlight event handler type: copy")], t.prototype, "copyListener", null), t
        }(),
        ru = "v2/events",
        su = ["submit"],
        eu = function() {
            function t(t, n, i, r, s, e, u, o, h, c) {
                this.P = t, this.J = n, this.W = i, this.ia = r, this._n = s, this.oh = e, this.Bi = u, this.su = o, this.zh = h, this.lh = c
            }
            return t.prototype.init = function() {
                var t = this,
                    n = new Ye,
                    i = this.lh.create("".concat(this.P.getTrackerUri(), "/").concat(ru), !0, "base64");
                this.df = this.wf(i), this.yf = this.pf(n, this.df.getRecoveryStorage(), i), this.yf.init(), this.zh.addListener(this.yf), this.oh.register(su, (function(n, i) {
                    t.yf.pushSubmitEvent(n, i)
                }))
            }, t.prototype.onStartTracking = function(t) {
                this.df.start(), this.yf.start(t)
            }, t.prototype.onAfterNaturalPageView = function() {
                this.yf.initStates()
            }, t.prototype.onAfterArtificialPageView = function() {
                this.yf.initStates(), this.yf.collectInitialEvents()
            }, t.prototype.onArtificialPageViewEnd = function() {
                this.yf.clearStates(!0)
            }, t.prototype.onBeforeSessionRenewal = function() {
                this.yf.clearStates(), this.yf.stop(), this.df.stop()
            }, t.prototype.onOptout = function() {
                this.yf.stop(), this.df.stop()
            }, t.prototype.pf = function(t, i, r) {
                var s, e, u, o, h = new xs(window),
                    c = new Vs,
                    a = new Gs(this.P, this.ia, this._n),
                    f = new qs(this.P, this.ia, this.su),
                    v = new re(new Ke),
                    l = new Qs;
                this.P.accessibilityEnabled && (s = new Xe, e = new nu, u = new iu, Ze.isSupported() && (o = new Ze(Qe)));
                var d = new er("".concat(this.P.getTrackerUri(), "/").concat(ru)),
                    w = new qi(this.P, this.J, this.W, n);
                return new te(this.P, a, f, c, h, t, d, w, this.Bi, this.W, i, this.ia, v, l, r, s, e, o, u)
            }, t.prototype.wf = function(t) {
                return new ne(new ie("csAnalysisEventsPersisted"), t)
            }, t
        }();
    ! function(t) {
        t.Artificial = "a", t.Renewal = "r", t.Natural = "n"
    }($e || ($e = {}));
    var uu = function(t) {
            function n(n, i, r, s) {
                var e = t.call(this) || this;
                return e.wi = n, e.mf = i, e.$ = r, e.Th = s, e
            }
            return H(n, t), n.prototype.init = function() {
                this.gf()
            }, n.prototype.onStart = function(t) {
                t ? this.Af() : this.Ef()
            }, n.prototype.onStop = function() {}, n.prototype.triggerArtificialPageView = function(t) {
                this.isStarted ? this.Sf(t) : this.$.overridePath(t)
            }, n.prototype.Ef = function() {
                this.Th.setPageViewType($e.Natural), this.wi.emitBeforeNaturalPageView(), this.mf.send(), this.wi.emitAfterNaturalPageView()
            }, n.prototype.Af = function() {
                this.Th.setPageViewType($e.Renewal), this.wi.emitBeforeNaturalPageView(), this.mf.send(), this.wi.emitAfterNaturalPageView()
            }, n.prototype.Sf = function(t) {
                this.Th.setPageViewType($e.Artificial), this.wi.emitArtificialPageViewEnd(), t && this.$.overridePath(t), this.wi.emitBeforeArtificialPageView(), this.mf.send(), this.wi.emitAfterArtificialPageView()
            }, n.prototype.gf = function() {
                var t = this;
                window.addEventListener("pageshow", (function(n) {
                    t.isStarted && n.persisted && t.Sf()
                }))
            }, n
        }(pi),
        ou = window.navigator.language || window.navigator.userLanguage || window.navigator.browserLanguage || window.navigator.systemLanguage || "unknown";

    function hu() {
        return {
            la: ou
        }
    }
    var cu, au, fu = function() {
            function t(t) {
                this.bf = t, this.Tf = [], this.Rf = !1
            }
            return t.prototype.getRequestParameters = function() {
                return {
                    dr: this.Nf()
                }
            }, t.prototype.addUrlMaskingPattern = function(t) {
                var n = this.bf.getUrlMaskingPattern(t);
                csArray.prototype.push.call(this.Tf, n)
            }, t.prototype.enableRemoveQueryString = function() {
                this.Rf = !0
            }, t.prototype.disableRemoveQueryString = function() {
                this.Rf = !1
            }, t.prototype.Nf = function() {
                var t = this.Rf ? this.bf.removeQueryString(this.kf()) : this.kf();
                return this.bf.anonymizeUrl(t, this.Tf)
            }, t.prototype.kf = function() {
                var t = "";
                try {
                    t = window.top.document.referrer
                } catch (n) {
                    if (window.parent) try {
                        t = window.parent.document.referrer
                    } catch (n) {
                        t = ""
                    }
                }
                return "" === t && (t = document.referrer), "string" != typeof t && (t = ""), t
            }, t
        }(),
        vu = function() {
            function t(t) {
                this.W = t, this.Of = this.If() && "currentScript" in document
            }
            return t.prototype.Cf = function() {
                var t = document.currentScript;
                if (!t) return null;
                var n = window.performance.getEntriesByName(t.src, "resource")[0];
                return !n || this._f(n) ? null : Math.round(n.responseEnd - n.fetchStart)
            }, t.prototype._f = function(t) {
                var n = t.transferSize;
                return void 0 !== n ? 0 === n || n < t.encodedBodySize : t.connectStart === t.domainLookupEnd
            }, t.prototype.getRequestParameters = function() {
                if (!this.Of || 1 !== this.Nh()) return {};
                var t = this.Cf();
                return null === t ? {} : {
                    dt: "".concat(Math.min(t, 99999))
                }
            }, t.prototype.Nh = function() {
                var t;
                return (null === (t = this.W.getSession()) || void 0 === t ? void 0 : t.pageNumber) || null
            }, t.prototype.If = function() {
                return "object" == typeof window.performance && "function" == typeof window.performance.getEntriesByName
            }, t
        }(),
        lu = ["trackPageview"],
        du = ["setPath"],
        wu = ["setQuery"],
        yu = ["referrer:maskUrl"],
        pu = ["referrer:removeQueryString"],
        mu = ["referrer:keepQueryString"],
        gu = function() {
            function t(t, n, i, r, s, e, u, o, h, c, a) {
                this.P = t, this.oh = n, this.wi = i, this.J = r, this.W = s, this.yo = e, this.Qt = u, this.bf = o, this.$ = h, this.fh = c, this.Th = a
            }
            return t.prototype.init = function() {
                var t = this,
                    r = new ot(this.P.getTrackerUri(), "pageview");
                this.Lf = new uu(this.wi, r, this.$, this.Th);
                var s = new fu(this.bf);
                this.Lf.init(), r.setRequestParametersProviders(this.P, this.J, this.W, ai, s, this.$, this.yo, i, this.Qt, n, this.Th, new vu(this.W), this.fh), this.oh.register(lu, (function(n) {
                    return t.Lf.triggerArtificialPageView(n)
                })), this.oh.register(du, (function(n) {
                    return t.$.overridePath(n)
                })), this.oh.register(wu, (function(n) {
                    return t.$.overrideQuery(n)
                })), this.oh.register(yu, (function(t) {
                    return s.addUrlMaskingPattern(t)
                })), this.oh.register(pu, (function() {
                    return s.enableRemoveQueryString()
                })), this.oh.register(mu, (function() {
                    return s.disableRemoveQueryString()
                }))
            }, t.prototype.start = function(t) {
                this.Lf.start(t)
            }, t.prototype.onBeforeSessionRenewal = function() {
                this.Lf.stop()
            }, t
        }(),
        Au = function() {
            function t(t) {
                this.ec = t
            }
            return t.prototype.on = function(t, n) {
                var i = this;
                return function(r) {
                    i.ec.hasValidEventTarget(r) && i.xf(r, t) && n(r)
                }
            }, t.prototype.xf = function(t, n) {
                var i = ti(t);
                return N.call(i, n)
            }, t.prototype.isMatchesSelectorSupported = function() {
                return !!N
            }, t
        }(),
        Eu = function() {
            function t() {}
            return t.prototype.onLoad = function(t) {
                this.Jt = t
            }, t.prototype.onLoadCallbackExecute = function() {
                this.Jt()
            }, t.prototype.start = function() {
                var t = this.onLoadCallbackExecute.bind(this);
                this.Pf(t)
            }, t.prototype.Pf = function(t) {
                function n() {
                    document.removeEventListener("DOMContentLoaded", n), window.removeEventListener("load", n), t()
                }
                "complete" === document.readyState || "loading" !== document.readyState && !document.documentElement.doScroll ? setTimeout(t) : (document.addEventListener("DOMContentLoaded", n), window.addEventListener("load", n))
            }, G([tn("onLoad")], t.prototype, "onLoadCallbackExecute", null), t
        }(),
        Su = function() {
            function t(t, n, i) {
                this.P = t, this.J = n, this.W = i
            }
            return t.prototype.getSessionData = function() {
                var t = this.P.projectId,
                    n = this.J.getVisitor();
                null == n && Kt.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");
                var i = null != n ? n : {},
                    r = i.id,
                    s = i.visitsCount,
                    e = this.W.getSession();
                return null === e && Kt.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized."), {
                    projectId: t,
                    userId: r,
                    sessionNumber: s,
                    pageNumber: (null != e ? e : {}).pageNumber
                }
            }, t
        }(),
        bu = ["clearSession"],
        Tu = ["extendSession"],
        Ru = ["getSessionData"],
        Nu = function() {
            function t(t, n, i, r) {
                this.P = t, this.J = n, this.W = i, this.oh = r
            }
            return t.prototype.init = function() {
                var t = this;
                this.Mf = new Su(this.P, this.J, this.W), this.oh.register(bu, (function() {
                    return t.W.removeSession()
                })), this.oh.register(Tu, (function() {
                    return t.W.extendSessionPeriodically()
                }), {
                    disableApplyPending: !0
                }), this.oh.register(Ru, (function() {
                    return t.Mf.getSessionData()
                }), {
                    disableApplyPending: !0
                })
            }, t.prototype.onBeforeNaturalPageView = function() {
                this.J.createOrUpdateVisitor(), this.W.createOrUpdateSession()
            }, t.prototype.onBeforeArtificialPageView = function() {
                this.W.abortQuotaServiceRequest(), this.J.createOrUpdateVisitor(), this.W.createOrUpdateSession()
            }, t.prototype.onOptout = function() {
                this.J.removeVisitor(), this.W.removeSession()
            }, t.prototype.onRecordingStateChange = function(t, n) {
                this.W.updateRecordingState(t, n)
            }, t
        }(),
        ku = function() {
            function t(t, n) {
                this.W = t, this.J = n, this.Df = !1
            }
            return t.prototype.onSessionExpired = function(t) {
                this.Uf = t
            }, t.prototype.isSessionValid = function() {
                if (this.Df) return !0;
                var t = this.W.hasValidSession(),
                    n = !1;
                return this.W.pollCacheRefreshEvent() && (n = this.J.isSessionRenewed()), t && !n || !this.jf() ? t : (this.zf = pt(), this.Df = !0, this.Uf(), this.Df = !1, this.W.hasValidSession())
            }, t.prototype.jf = function() {
                return !Tt(this.zf) || pt() - this.zf > 6e4
            }, t
        }();

    function Ou(t) {
        return t.tagDeploymentMode === cu.DualCollectionReview || t.tagDeploymentMode === cu.DualCollection
    }! function(t) {
        t.ContentSquare = "CONTENTSQUARE", t.LoadedByClicktale = "LOADED_BY_CLICKTALE", t.LoadClicktalePtc = "LOAD_CLICKTALE_PTC", t.DualCollectionReview = "DUAL_COLLECTION_REVIEW", t.DualCollection = "DUAL_COLLECTION", t.ContentSquareTagClickTaleEndpoints = "CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"
    }(cu || (cu = {})),
    function(t) {
        t.isRecording = function() {
            return window.ClickTaleIsRecording && window.ClickTaleIsRecording()
        }, t.stopRecording = function() {
            window.ClickTaleStop && window.ClickTaleStop()
        }, t.triggerLogicalPageView = function(t) {
            window.ClickTaleLogicalWithUploadPage && window.ClickTaleLogicalWithUploadPage(t)
        }, t.sendPageEvent = function(t) {
            window.ClickTaleEvent && window.ClickTaleEvent(t)
        }, t.sendEventTriggerRecording = function(t) {
            window.ClickTaleEventTrigger && window.ClickTaleEventTrigger(t)
        }
    }(au || (au = {}));
    var Iu, Cu = "@user-identifier@",
        _u = function(t) {
            function n(n, i, r, s, e) {
                var u = t.call(this) || this;
                return u.P = n, u.qf = i, u.Ee = r, u.Bf = s, u.Hf = e, u.Ff = [], u.Gf = [], u
            }
            return H(n, t), n.prototype.onStart = function() {
                var t = this;
                csArray.prototype.forEach.call(this.Ff, (function(n) {
                    return t.trackPageEvent(n)
                })), this.Ff = [], csArray.prototype.forEach.call(this.Gf, (function(n) {
                    return t.trackEventTriggerRecording(n)
                })), this.Gf = []
            }, n.prototype.onStop = function() {}, n.prototype.trackPageEvent = function(t) {
                this.isStarted ? n.Vf(t) && (this.Jf(t) ? this.Hf.isSupported() && this.Wf(t) : this.Kf(t)) : csArray.prototype.push.call(this.Ff, t)
            }, n.prototype.Jf = function(t) {
                return X(t, Cu)
            }, n.prototype.Wf = function(t) {
                return V(this, void 0, void 0, (function() {
                    var n, i;
                    return J(this, (function(r) {
                        switch (r.label) {
                            case 0:
                                return this.P.customHashIdEnabled ? (n = csString.prototype.slice.call(t, 17), this.Hf.isValidInput(n) ? [4, this.Hf.digest(n, this.P.projectId)] : (Kt.warn("UserIdentifier event: invalid user identifier"), [2])) : [2];
                            case 1:
                                return (i = r.sent()) ? (this.Yf = {
                                    eventName: i,
                                    isETR: !1,
                                    isCustomHashId: !0
                                }, this.Xf()) : Kt.warn("Page event: unable to compute customHashId"), this.P.encryptionEnabled ? (this.Bf.emitUserIdentifierEvent(n), [2]) : [2]
                        }
                    }))
                }))
            }, n.prototype.Kf = function(t) {
                this.Bf.emitPageEvent(t), this.Yf = {
                    eventName: t,
                    isETR: !1,
                    isCustomHashId: !1
                }, this.Xf(), this.P.tagDeploymentMode === cu.LoadClicktalePtc && au.sendPageEvent(t)
            }, n.prototype.trackEventTriggerRecording = function(t) {
                this.isStarted ? n.Vf(t) && (this.P.useMalkaPipeline && this.P.malkaEtrEnabled ? this.$f(t) : this.Zf(t)) : csArray.prototype.push.call(this.Gf, t)
            }, n.prototype.$f = function(t) {
                X(t, "@ETP@") ? this.Bf.emitEventTriggerRecording(t, ln.ETR_PAGE) : this.Bf.emitEventTriggerRecording(t, ln.ETR_SESSION), this.Yf = {
                    eventName: t,
                    isETR: !0,
                    isCustomHashId: !1
                }, this.Xf()
            }, n.prototype.Zf = function(t) {
                (function(t) {
                    return Ou(t) || t.tagDeploymentMode === cu.LoadClicktalePtc
                })(this.P) && (this.Bf.emitEventTriggerRecording(t, ln.ETR_LEGACY), this.Yf = {
                    eventName: t,
                    isETR: !0,
                    isCustomHashId: !1
                }, this.Xf(), this.P.tagDeploymentMode === cu.LoadClicktalePtc && au.sendEventTriggerRecording(t))
            }, n.prototype.getRequestParameters = function() {
                return {
                    value: this.Ee.compressSync(this.Yf.eventName, "base64"),
                    ct: this.Ee.algorithm,
                    isETR: "".concat(this.Yf.isETR),
                    isCustomHashId: "".concat(this.Yf.isCustomHashId)
                }
            }, n.prototype.Xf = function() {
                this.qf.send()
            }, n.Vf = function(t) {
                return St(t) && !!csString.prototype.trim.call(t)
            }, n
        }(pi),
        Lu = function() {
            function t(t) {
                this.Qf = t, this.tv = !1
            }
            return t.prototype.init = function() {
                this.tv = this.nv(), this.tv && (this.De = new TextEncoder)
            }, t.prototype.nv = function() {
                return !!(this.Qf && this.Qf.subtle && this.Qf.subtle.digest && self.TextEncoder && csArray.from)
            }, t.prototype.isSupported = function() {
                return this.tv
            }, t.prototype.isValidInput = function(t) {
                return !!t && t.length <= 100
            }, t.prototype.iv = function(t, n) {
                var i = csString.prototype.toLowerCase.call(csString.prototype.trim.call(t));
                return "".concat(i, ":").concat(n)
            }, t.prototype.digest = function(t, n) {
                return V(this, void 0, void 0, (function() {
                    var i, r, s;
                    return J(this, (function(e) {
                        switch (e.label) {
                            case 0:
                                if (!this.tv) return [2, null];
                                i = this.iv(t, n), r = this.De.encode(i), e.label = 1;
                            case 1:
                                return e.trys.push([1, 3, , 4]), [4, crypto.subtle.digest("SHA-1", r)];
                            case 2:
                                return s = e.sent(), [2, (u = s, o = csArray.from(new Uint8Array(u)), csArray.prototype.join.call(csArray.prototype.map.call(o, (function(t) {
                                    return csString.prototype.padStart.call(t.toString(16), 2, "0")
                                })), ""))];
                            case 3:
                                return e.sent(), [2, null];
                            case 4:
                                return [2]
                        }
                        var u, o
                    }))
                }))
            }, t
        }(),
        xu = ["trackPageEvent"],
        Pu = ["trackEventTriggerRecording"],
        Mu = function() {
            function t(t, n, i, r, s) {
                this.P = t, this.oh = n, this.Ee = i, this.uh = r, this.Bf = s
            }
            return t.prototype.init = function() {
                var t = this,
                    n = new ot(this.P.getTrackerUri(), "pageEvent"),
                    i = new Lu(window.crypto);
                i.init(), this.rv = new _u(this.P, n, this.Ee, this.Bf, i), n.setRequestParametersProviders(this.rv, this.uh), this.oh.register(xu, (function(n) {
                    t.rv.trackPageEvent(n)
                })), this.oh.register(Pu, (function(n) {
                    t.rv.trackEventTriggerRecording(n)
                }))
            }, t.prototype.onStartTracking = function() {
                this.rv.start()
            }, t
        }(),
        Du = function() {
            function t() {
                this.subscriptions = {}
            }
            return t.prototype.subscribe = function(t, n) {
                this.subscriptions[t] = n, 1 === Object.keys(this.subscriptions).length && this.onStartTracking()
            }, t.prototype.unsubscribe = function(t) {
                delete this.subscriptions[t], 0 === Object.keys(this.subscriptions).length && this.onStopTracking()
            }, t
        }(),
        Uu = function(t) {
            function n() {
                var n = t.call(this) || this;
                return n.sv = !1, n.Na = {
                    boundElement: window,
                    type: "error",
                    listener: function(t) {
                        return n.errorListener(t)
                    }
                }, n
            }
            return H(n, t), n.prototype.onStartTracking = function() {
                qn(this.Na, this.sv)
            }, n.prototype.onStopTracking = function() {
                Bn(this.Na, this.sv)
            }, n.prototype.errorListener = function(t) {
                var n = this.ev(t);
                for (var i in this.subscriptions) {
                    (0, this.subscriptions[i])(n)
                }
            }, n.prototype.uv = function(t) {
                return (t = null != t ? t : "[NO ERROR MESSAGE]").length <= n.ov ? t : csString.prototype.slice.call(t, 0, n.ov - n.truncatedErrorMessageMarker.length) + n.truncatedErrorMessageMarker
            }, n.prototype.ev = function(t) {
                return {
                    errorType: "jsError",
                    message: this.uv(t.message),
                    filename: t.filename,
                    lineno: t.lineno,
                    colno: t.colno
                }
            }, n.truncatedErrorMessageMarker = "", n.ov = 1024, G([tn("Event handler type: error")], n.prototype, "errorListener", null), n
        }(Du),
        ju = ["#c1_card_info_id"];
    ! function(t) {
        t[t.Sensitive = 1] = "Sensitive", t[t.SensitiveChild = 2] = "SensitiveChild"
    }(Iu || (Iu = {}));
    var zu, qu = ["value", "checked", "src", "data", "alt"],
        Bu = W(["[data-cs-mask]", "img[src^='data:']", "script"], ju, !0),
        Hu = [{
            selector: "input:not([type=button]):not([type=submit])",
            attrName: "value"
        }],
        Fu = {
            PIISelectors: W([".ctHidden, textarea", "#c1_card_info_id"], ju, !0),
            Attributes: [{
                selector: ".ctHidden, input:not([type=button]):not([type=submit])",
                attrName: "value"
            }]
        },
        Gu = function() {
            function t(t) {
                var n;
                this.P = t, this.hv = [], this.cv = "", this.ke = document.createElement("div"), Ou(this.P) || (this.cv = this.av(this.cv, Bu), (n = csArray.prototype.push).call.apply(n, W([this.hv], Hu, !1)))
            }
            return t.prototype.setPIISelectors = function(t) {
                var n, i = this;
                if (t) {
                    if (null === (n = t.PIISelectors) || void 0 === n ? void 0 : n.length) {
                        var r = csArray.prototype.filter.call(t.PIISelectors, (function(t) {
                            return ur(t, i.ke)
                        }));
                        this.cv = this.av(this.cv, r)
                    }
                    t.Attributes instanceof Array && csArray.prototype.forEach.call(t.Attributes, (function(t) {
                        t && t.attrName && ur(t.selector, i.ke) && !i.fv(t) && csArray.prototype.push.call(i.hv, t)
                    }))
                }
            }, t.prototype.getPIISelectors = function() {
                return {
                    PIISelectors: [this.cv],
                    Attributes: this.hv
                }
            }, t.prototype.initCTPII = function() {
                var t, n, i, r = this;
                if (this.cv = this.av(this.cv, Fu.PIISelectors), null === (i = null === (n = null === window || void 0 === window ? void 0 : window.ClickTaleSettings) || void 0 === n ? void 0 : n.DOM) || void 0 === i ? void 0 : i.PII) {
                    var s = csArray.prototype.filter.call(window.ClickTaleSettings.DOM.PII.Text, (function(t) {
                        return ur(t, r.ke)
                    }));
                    this.cv = this.av(this.cv, s), (t = csArray.prototype.push).call.apply(t, W([this.hv], Fu.Attributes, !1)), csArray.prototype.forEach.call(window.ClickTaleSettings.DOM.PII.Attributes, (function(t) {
                        t.attr && ur(t.rule, r.ke) && csArray.prototype.push.call(r.hv, {
                            selector: t.rule,
                            attrName: t.attr
                        })
                    }))
                }
            }, t.prototype.isSensitiveAttribute = function(t, n) {
                return this.isSensitive(t) && -1 !== csArray.prototype.indexOf.call(qu, n) || this.vv(t, n, this.hv)
            }, t.prototype.isSensitive = function(t) {
                return t.__contentsquare_sensitive === Iu.Sensitive
            }, t.prototype.isSensitiveChild = function(t) {
                return t.__contentsquare_sensitive === Iu.SensitiveChild
            }, t.prototype.identifySensitiveNodes = function(t) {
                var n = this;
                if (f(t) || g(t)) {
                    this.lv(t);
                    var i = ci.getAllShadowHosts(t);
                    csArray.prototype.forEach.call(i, (function(t) {
                        return csElementshadowRoot.apply(t) && n.lv(csElementshadowRoot.apply(t))
                    }))
                }
            }, t.prototype.unidentifySensitiveNodes = function(t) {
                var n = this;
                if (f(t) || g(t)) {
                    this.wv(t);
                    var i = ci.getAllShadowHosts(t);
                    csArray.prototype.forEach.call(i, (function(t) {
                        return csElementshadowRoot.apply(t) && n.wv(csElementshadowRoot.apply(t))
                    }))
                }
            }, t.prototype.wv = function(t) {
                for (var n, i = document.createNodeIterator(t, NodeFilter.SHOW_ELEMENT, null, !1); n = i.nextNode();) "__contentsquare_sensitive" in n && delete n.__contentsquare_sensitive
            }, t.prototype.lv = function(t) {
                var n = this;
                if (this.yv(t)) return this.pv(t), void this.mv(t);
                this.gv(t, this.cv) ? (this.Av(t), this.mv(t)) : oi(window.csquerySelectorAll[t.nodeType].call(t, this.cv), (function(t) {
                    n.Ev(t) || (n.Av(t), n.mv(t))
                }))
            }, t.prototype.Ev = function(t) {
                return w(t) && (X(t.src, "data:image/svg+xml") || X(t.src, "data:image/png")) && t.src.length <= 1024
            }, t.prototype.Av = function(t) {
                t.__contentsquare_sensitive = Iu.Sensitive
            }, t.prototype.pv = function(t) {
                t.__contentsquare_sensitive = Iu.SensitiveChild
            }, t.prototype.mv = function(t) {
                var n = document.createNodeIterator(t, NodeFilter.SHOW_ELEMENT, null, !1),
                    i = n.nextNode();
                for (t === i && (i = n.nextNode()); i;) this.pv(i), i = n.nextNode()
            }, t.prototype.yv = function(t) {
                return !(!csNodeparentNode.apply(t) || !f(csNodeparentNode.apply(t)) && !g(csNodeparentNode.apply(t)) || !this.isSensitive(csNodeparentNode.apply(t)) && !this.isSensitiveChild(csNodeparentNode.apply(t))) || E(t) && (this.isSensitive(t.host) || this.isSensitiveChild(t.host))
            }, t.prototype.gv = function(t, n) {
                return f(t) && N.call(t, n)
            }, t.prototype.vv = function(t, n, i) {
                return csArray.prototype.some.call(i, (function(i) {
                    return t.hasAttribute(n) && csString.prototype.indexOf.call(i.attrName, n) > -1 && N.call(t, i.selector)
                }))
            }, t.prototype.av = function(t, n) {
                if (0 === n.length) return t;
                if (0 === t.length) return csArray.prototype.join.call(n, ",");
                for (var i = t, r = 0, s = n; r < s.length; r++)
                    for (var e = s[r], u = 0, o = csString.prototype.split.call(e, ","); u < o.length; u++) {
                        var h = o[u]; - 1 === csString.prototype.indexOf.call(i, h) && (i += ",".concat(h))
                    }
                return i
            }, t.prototype.fv = function(t) {
                return csArray.prototype.some.call(this.hv, (function(n) {
                    return n.selector === t.selector && n.attrName === t.attrName
                }))
            }, t
        }(),
        Vu = function() {
            function t(t) {
                this.oh = t
            }
            return t.prototype.init = function() {
                this.Sv(t.bv, Lt), this.Sv(t.Tv, _t)
            }, t.prototype.Sv = function(t, n) {
                this.oh.register([t], (function(t, i) {
                    St(t) && (St(i) || Ot(i)) && Kt.error(i, "".concat(n).concat(t))
                }))
            }, t.Tv = "logSnippetError", t.bv = "logImplementationSnippetError", t
        }(),
        Ju = function() {
            function t(t, n, i, r) {
                this.P = t, this.jh = n, this.eh = i, this.zh = r
            }
            return t.prototype.init = function() {
                var t = this;
                this.jh.onChildMessage((function(n, i, r) {
                    return t.zh.emitIframeEvent(n, i, r)
                })), this.jh.setRecordingStatusCallback((function() {
                    return t.eh.getRecordingStatus()
                }))
            }, t.prototype.onStartTracking = function() {
                this.P.iframesTracking && this.jh.start()
            }, t.prototype.onOptout = function() {
                this.P.iframesTracking && this.jh.stop()
            }, t.prototype.onRecordingStatusChange = function() {
                this.P.iframesTracking && this.jh.onRecordingStatusChange(this.eh.getRecordingStatus())
            }, t
        }(),
        Wu = function(t) {
            function n(n, i) {
                var r = t.call(this) || this;
                return r.P = n, r.xn = i, r.Rv = 0, r.Nv = new Map, r.kv = {
                    boundElement: window,
                    type: "message",
                    listener: function(t) {
                        return r.Ov(t)
                    }
                }, r
            }
            return H(n, t), n.prototype.onChildMessage = function(t) {
                this.Iv = t
            }, n.prototype.setRecordingStatusCallback = function(t) {
                this.Cv = t
            }, n.prototype.onRecordingStatusChange = function(t) {
                var n = this,
                    i = Ft.buildBaseMessage(Ht.RecordingStatus, Bt.Parent, this.P.projectId);
                i.content = t, this.Nv.forEach((function(t) {
                    !n._v(t) && t.port && Ft.sendChannelMessage(t.port, i)
                }))
            }, n.prototype.sendToChildren = function(t, n) {
                var i = Ft.buildBaseMessage(t, Bt.Parent, this.P.projectId);
                i.content = n, this.Lv(i)
            }, n.prototype.onStart = function() {
                qn(this.kv, !1), this.xv()
            }, n.prototype.onStop = function() {
                this.Pv(), Bn(this.kv, !1), this.Mv()
            }, n.prototype.xv = function() {
                var t = this,
                    n = this.Dv();
                this.Uv(n), csArray.prototype.forEach.call(n, (function(n) {
                    if (null === t.jv(n)) {
                        var i = {
                            iframe: n
                        };
                        t.Nv.set(t.Rv, i), t.Rv += 1
                    }
                })), this.zv()
            }, n.prototype.Dv = function() {
                var t = this;
                return csArray.prototype.filter.call(fi.findAllElements("iframe"), (function(n) {
                    return t.qv(n)
                }))
            }, n.prototype.Uv = function(t) {
                var n = this;
                this.Nv.forEach((function(i, r) {
                    i.iframe && -1 === csArray.prototype.indexOf.call(t, i.iframe) && n.Bv(r, i)
                }))
            }, n.prototype.Bv = function(t, n) {
                n.port && Ft.closeChannelPort(n.port), this.Nv.delete(t)
            }, n.prototype.Mv = function() {
                this.Nv.forEach((function(t) {
                    t.port && Ft.closeChannelPort(t.port)
                })), this.Nv.clear()
            }, n.prototype.jv = function(t) {
                var n = null;
                return this.Nv.forEach((function(i, r) {
                    null === n && i.iframe === t && (n = r)
                })), n
            }, n.prototype.qv = function(t) {
                return t.id !== r && (!t.src || Ut(Dt(t.src), this.P.hostnames))
            }, n.prototype.Lv = function(t) {
                this.Nv.forEach((function(n) {
                    n.port && Ft.sendChannelMessage(n.port, t)
                }))
            }, n.prototype.zv = function() {
                var t = this;
                this.Nv.forEach((function(n, i) {
                    if (n.iframe.contentWindow) {
                        var r = t.Hv(i);
                        Ft.sendPostMessage(n.iframe.contentWindow, "*", r)
                    }
                }))
            }, n.prototype.Pv = function() {
                var t = this.Fv();
                this.Nv.forEach((function(n) {
                    n.port ? Ft.sendChannelMessage(n.port, t) : n.iframe.contentWindow && Ft.sendPostMessage(n.iframe.contentWindow, "*", t)
                }))
            }, n.prototype.Hv = function(t) {
                return Ft.buildBaseMessage(Ht.Discovery, Bt.Parent, this.P.projectId, t)
            }, n.prototype.Fv = function() {
                return Ft.buildBaseMessage(Ht.Stop, Bt.Parent, this.P.projectId)
            }, n.prototype.Gv = function(t, n) {
                var i = this,
                    r = this.Nv.get(t);
                void 0 !== r ? (r.port = n, r.port.onmessage = function(t) {
                    i.Vv(t, r)
                }) : Kt.error("Parent received channel messaging initialization from unknow child id : ".concat(t, " (").concat(this.Rv, ")"))
            }, n.prototype.Jv = function(t) {
                if (t.port) {
                    var n = Ft.buildBaseMessage(Ht.RecordingStatus, Bt.Parent, this.P.projectId),
                        i = this.Cv();
                    this._v(t) && (i.isRecording = !1, i.isMutationTrackerStarted = !1), n.content = i, Ft.sendChannelMessage(t.port, n)
                }
            }, n.prototype.Vv = function(t, n) {
                if (void 0 !== n) {
                    var i = t.data.type,
                        r = t.data.content;
                    i === Ht.EndOfBufferedMessages ? this.Jv(n) : this.Iv(n.iframe, i, r)
                } else Kt.error("Parent received channelMessage from unknown child : ".concat(csJSON.stringify(t.data)))
            }, n.prototype.Ov = function(t) {
                if (Ft.isMessageValid(t, Bt.Child, this.P.projectId, this.P.hostnames)) switch (t.data.type) {
                    case Ht.Discovery:
                        if (void 0 === t.data.id) return void this.xv();
                        if (t.ports && 1 === t.ports.length && this.Nv.has(t.data.id)) return void this.Gv(t.data.id, t.ports[0]);
                        Kt.error("Parent received wrong channelMessage initialization : (".concat(t.origin, ") : ").concat(csJSON.stringify(t.data)));
                        break;
                    case Ht.ChildLogMessage:
                        this.Iv(null, Ht.ChildLogMessage, t.data.content);
                        break;
                    default:
                        Kt.warn("Parent received unexpected postMessage type from child (".concat(t.origin, ") : ").concat(csJSON.stringify(t.data)))
                }
            }, n.prototype._v = function(t) {
                return this.xn.isSensitive(t.iframe) || this.xn.isSensitiveChild(t.iframe)
            }, n
        }(pi),
        Ku = function() {
            function t(t, n) {
                this.M = t, this.$ = n
            }
            return t.prototype.anonymize = function(t) {
                return St(t.message) && (t.message = this.Wv(t.message), t.message = this.M.anonymizeEmail(t.message)), St(t.filename) && (t.filename = this.$.computeOverriddenUrl(t.filename)), t
            }, t.prototype.Wv = function(t) {
                return csString.prototype.replace.call(t, /(value\s*=\s*".*"|value\s*=\s*'.*')/, "value='".concat("CS_ANONYMIZED_VALUE", "'"))
            }, t
        }(),
        Yu = function() {
            function t() {}
            return t.prototype.compute = function(t, n) {
                var i = this.Kv(n.x) - this.Kv(t.x),
                    r = this.Kv(n.y) - this.Kv(t.y),
                    s = n.time - t.time;
                return {
                    duration: s,
                    distance: this.Yv(i, r),
                    direction: this.Xv(i, r),
                    velocity: this.$v(i, r, s)
                }
            }, t.prototype.computePinchMetrics = function(t, n) {
                var i = this.Kv(n.x) - this.Kv(t.x),
                    r = this.Kv(n.y) - this.Kv(t.y);
                return {
                    duration: n.time - t.time,
                    distance: this.Yv(i, r)
                }
            }, t.prototype.getScale = function(t, n) {
                return Math.abs(n / t - 1)
            }, t.prototype.Kv = function(t) {
                return t / window.devicePixelRatio
            }, t.prototype.Yv = function(t, n) {
                return Math.round(Math.sqrt(t * t + n * n))
            }, t.prototype.$v = function(t, n, i) {
                var r = i / 1e3,
                    s = t / r,
                    e = n / r;
                return Math.round(Math.abs(s) + Math.abs(e))
            }, t.prototype.Xv = function(t, n) {
                return Math.abs(t) > Math.abs(n) ? t > 0 ? lr.RIGHT : lr.LEFT : n > 0 ? lr.DOWN : lr.UP
            }, t
        }(),
        Xu = function() {
            function t() {
                this.Zv = {}, this.Qv = new Yu, this.tl()
            }
            return t.prototype.onGesture = function(t) {
                this.nl = t
            }, t.prototype.isValidTouchEvent = function(t) {
                return "touches" in t && "changedTouches" in t
            }, t.prototype.processActionDown = function(t) {
                if (this.il(t)) {
                    this.rl(t) && this.tl();
                    var n = {
                        x: t.touches[0].clientX,
                        y: t.touches[0].clientY,
                        time: pt()
                    };
                    if (1 === t.touches.length) this.Zv.startPinchTime = n.time, this.Zv.firstTouch = n;
                    else if (2 === t.touches.length && (this.Zv.secondTouch = {
                            x: t.touches[1].clientX,
                            y: t.touches[1].clientY,
                            time: pt()
                        }, this.Zv.firstTouch && this.Zv.secondTouch)) {
                        var i = this.Qv.computePinchMetrics(this.Zv.firstTouch, this.Zv.secondTouch);
                        this.sl = i.distance
                    }
                    csArray.prototype.push.call(this.el, n), this.ul = ti(t)
                }
            }, t.prototype.processActionMove = function() {
                this.ol = !0
            }, t.prototype.processActionUp = function(t) {
                if (this.hl(t)) {
                    if (csArray.prototype.push.call(this.el, {
                            x: t.changedTouches[0].clientX,
                            y: t.changedTouches[0].clientY,
                            time: pt()
                        }), this.cl(t) && this.Zv.startPinchTime) {
                        var n = {
                                x: t.touches[0].clientX,
                                y: t.touches[0].clientY,
                                time: this.Zv.startPinchTime
                            },
                            i = {
                                x: t.changedTouches[0].clientX,
                                y: t.changedTouches[0].clientY,
                                time: pt()
                            };
                        this.Zv.firstTouch && (this.Zv.firstTouch = n, this.Zv.secondTouch = i), this.al(t)
                    }
                    this.sl || this.vl() && this.ll(t)
                }
            }, t.prototype.tl = function() {
                this.el = [], this.ul = null, this.ol = !1, this.sl = null, this.dl = !0
            }, t.prototype.ll = function(t) {
                var n = this.Qv.compute(this.el[0], this.el[1]);
                this.dl = t.isTrusted;
                var i = this.ol ? this.wl(n) : this.yl(n);
                this.nl(i, t)
            }, t.prototype.al = function(t) {
                if (this.Zv.firstTouch && this.Zv.secondTouch) {
                    var n = this.Qv.computePinchMetrics(this.Zv.firstTouch, this.Zv.secondTouch);
                    this.dl = t.isTrusted;
                    var i = this.pl(n);
                    i && this.nl(i, t)
                }
            }, t.prototype.pl = function(t) {
                if (this.sl && !(this.Qv.getScale(this.sl, t.distance) < .1)) return {
                    type: this.sl > t.distance ? vr.PINCH_IN : vr.PINCH_OUT,
                    target: this.ul,
                    distance: t.distance,
                    isTrusted: this.dl
                }
            }, t.prototype.wl = function(t) {
                return {
                    type: t.velocity < 100 ? vr.DRAG : vr.FLICK,
                    target: this.ul,
                    velocity: t.velocity,
                    distance: t.distance,
                    direction: t.direction,
                    isTrusted: this.dl
                }
            }, t.prototype.yl = function(t) {
                return {
                    type: t.duration < 1e3 ? vr.TAP : vr.LONG_PRESS,
                    target: this.ul,
                    isTrusted: this.dl
                }
            }, t.prototype.rl = function(t) {
                return 1 === t.touches.length
            }, t.prototype.vl = function() {
                return 2 === this.el.length
            }, t.prototype.il = function(t) {
                return t.touches.length > 0
            }, t.prototype.hl = function(t) {
                return t.changedTouches.length > 0
            }, t.prototype.cl = function(t) {
                return this.ol && !!this.sl && 1 === t.changedTouches.length && 1 === t.touches.length
            }, t
        }(),
        $u = function(t) {
            function n(n) {
                var i = t.call(this) || this;
                return i.ml = n, i.Ts = [{
                    boundElement: document,
                    type: "touchstart",
                    listener: function(t) {
                        return i.gr(t)
                    }
                }, {
                    boundElement: document,
                    type: "touchmove",
                    listener: function(t) {
                        return i.gr(t)
                    }
                }, {
                    boundElement: document,
                    type: "touchend",
                    listener: function(t) {
                        return i.gr(t)
                    }
                }], i.gl = new Xu, i.gl.onGesture((function(t, n) {
                    return i.Al(t, n)
                })), i
            }
            return H(n, t), n.prototype.Al = function(t, n) {
                for (var i in this.subscriptions) {
                    (0, this.subscriptions[i])(t, n)
                }
            }, n.prototype.onStartTracking = function() {
                this.canDetectGesture() && csArray.prototype.forEach.call(this.Ts, (function(t) {
                    return qn(t)
                }))
            }, n.prototype.onStopTracking = function() {
                this.canDetectGesture() && csArray.prototype.forEach.call(this.Ts, (function(t) {
                    return Bn(t)
                }))
            }, n.prototype.canDetectGesture = function() {
                return void 0 !== window.devicePixelRatio
            }, n.prototype.gr = function(t) {
                var n = this;
                this.ml.tryToExecute("process gesture event", (function() {
                    if (n.gl.isValidTouchEvent(t)) switch (t.type) {
                        case "touchstart":
                            n.gl.processActionDown(t);
                            break;
                        case "touchmove":
                            n.gl.processActionMove();
                            break;
                        case "touchend":
                            n.gl.processActionUp(t)
                    }
                }))()
            }, n.isSwipe = function(t) {
                return t.type === vr.FLICK || t.type === vr.DRAG
            }, n
        }(Du),
        Zu = function(t) {
            function n(n, i) {
                var r = t.call(this) || this;
                return r.Ki = n, r.El = i, r.Sl = 0, r
            }
            return H(n, t), n.prototype.onStart = function() {
                var t = this;
                Kt.isPerfLoggingActive() && (this.bl = window.setInterval((function() {
                    return t.Tl()
                }), n.Rl))
            }, n.prototype.onStop = function() {
                Kt.isPerfLoggingActive() && (this.Tl(), clearInterval(this.bl))
            }, n.prototype.Tl = function() {
                if (!(Jn.isEmpty() || this.Sl >= n.Nl)) {
                    var t = Jn.getAll();
                    this.Sl++;
                    var i = F({
                            a: n.kl,
                            l: n.Ol
                        }, this.El.getRequestParameters()),
                        r = csArray.prototype.map.call(t, (function(t) {
                            return F(F({}, t), i)
                        }));
                    this.Ki.send(r), Jn.clear()
                }
            }, n.kl = "uxa", n.Ol = "perf", n.Rl = 5e3, n.Nl = 5, n
        }(pi),
        Qu = function() {
            function t(t, n, i) {
                this.P = t, this.El = n, this.lh = i
            }
            return t.prototype.init = function() {
                this.Il = new Zu(this.lh.create(this.P.getLoggerUri(), !0), this.El)
            }, t.prototype.onStartTracking = function() {
                this.Il.start()
            }, t.prototype.onOptout = function() {
                this.Il.stop()
            }, t
        }(),
        to = function() {
            function t() {
                this.Cl = !1
            }
            return t.prototype.enableRecordingStatus = function(t, n, i, r, s) {
                this.Cl = !0, this.Ns = t, this.xn = n, this.gh = i, this.ph = r, this.Pn = s
            }, t.prototype.getRecordingStatus = function() {
                return this.Cl ? {
                    isRecording: this.Ns.isRecording(),
                    isMutationTrackerStarted: this.Ns.isMutationTrackerStarted(),
                    PIISelectors: this.xn.getPIISelectors(),
                    capturedElementSelector: this.ph.getWhitelistedElementsSelector(),
                    useAnonymization: this.gh.shouldUseAnonymization(),
                    encryptionSelectors: this.Pn.getEncryptionSelectors()
                } : {
                    isRecording: !1
                }
            }, t
        }(),
        no = function(t) {
            function n(n, i, r, s, e, u) {
                var o = t.call(this) || this;
                return o.Fi = n, o._l = i, o.Ll = r, o.Gi = s, o.hh = e, o.$ = u, o.xl = [], o.Zi = 0, o.Pl = [], o
            }
            return H(n, t), n.prototype.initStates = function() {
                this.ga = pt(), this._l.removeQueryParams(), this._l.setQueryParams(this.Ll.getRequestParameters()), this.xl = [], this.Zi = 0
            }, n.prototype.onStart = function() {
                var t = this;
                this.Fi.subscribe(n.Er, (function(n) {
                    return t.gr(n)
                })), this.Ml()
            }, n.prototype.onStop = function() {
                this.Fi.unsubscribe(n.Er)
            }, n.prototype.onIframeJavascriptError = function(t) {
                this.gr(t)
            }, n.prototype.trackCustomError = function(t) {
                var n = {
                    errorType: "jsError",
                    message: "".concat("Custom Error:", " ").concat(t),
                    lineno: 1,
                    colno: 1,
                    filename: "https://cserror.com/texterror.js"
                };
                this.Dl(n)
            }, n.prototype.Dl = function(t) {
                var n = this;
                this.isStarted ? this.gr(t, (function(t) {
                    return n.hh.emitCustomJavaScriptErrorEvent(t)
                })) : csArray.prototype.push.call(this.Pl, t)
            }, n.prototype.Ml = function() {
                var t = this;
                this.isStarted && (csArray.prototype.forEach.call(this.Pl, (function(n) {
                    return t.Dl(n)
                })), this.Pl = [])
            }, n.prototype.gr = function(t, n) {
                if (this.isStarted && this.Zi < 20) {
                    var i = F(F({}, t), {
                        pageUrl: this.$.getAnonymizedUrl(),
                        rt: this.pa()
                    });
                    this.Gi.anonymize(i), csArray.prototype.push.call(this.xl, i), this.Ul(), n && n(i)
                }
            }, n.prototype.pa = function() {
                return pt() - this.ga
            }, n.prototype.Ul = function() {
                this._l.send({
                    errors: this.xl
                }), this.xl = [], this.Zi += 1
            }, n.Er = "JavaScriptErrorsService", n
        }(pi),
        io = ["trackError"],
        ro = function() {
            function t(t, n, i, r, s, e, u, o, h) {
                this.Fi = t, this.Gi = n, this.P = i, this.Ll = r, this.zh = s, this.oh = e, this.hh = u, this.$ = o, this.lh = h
            }
            return t.prototype.init = function() {
                var t = this.lh.create("".concat(this.P.getTrackerUri(), "/").concat("errors"), !0);
                this.jl = new no(this.Fi, t, this.Ll, this.Gi, this.hh, this.$), this.zh.addListener(this.jl), this.zl()
            }, t.prototype.zl = function() {
                var t = this;
                this.P.jsCustomErrorsEnabled && !this.P.customErrorsEnabled && this.oh.register(io, (function(n) {
                    t.jl.trackCustomError(n)
                }))
            }, t.prototype.onStartTracking = function() {
                this.jl.start()
            }, t.prototype.onAfterNaturalPageView = function() {
                this.jl.initStates()
            }, t.prototype.onAfterArtificialPageView = function() {
                this.jl.initStates()
            }, t.prototype.onBeforeSessionRenewal = function() {
                this.jl.stop()
            }, t.prototype.onOptout = function() {
                this.jl.stop()
            }, t
        }(),
        so = function() {
            function t() {
                this.ql = $e.Natural
            }
            return t.prototype.setPageViewType = function(t) {
                this.ql = t
            }, t.prototype.getPageViewType = function() {
                return this.ql
            }, t.prototype.getRequestParameters = function() {
                return {
                    pvt: this.ql
                }
            }, t
        }(),
        eo = function() {
            function t(t, n, i, r, s, e, u, o, h, c, a, f, v, l, d, w, y, p, m, g, A, E, S, b, T) {
                var R = this;
                this.Ll = t, this.Ee = n, this.J = i, this.W = r, this.wi = s, this.oh = e, this.Bl = u, this.P = o, this.Hl = h, this.Fl = c, this.Gl = a, this.yo = f, this.M = v, this.ia = l, this.bf = d, this.$ = w, this.Vl = y, this.Bf = p, this.zh = m, this.Qt = g, this.Jl = A, this.fh = E, this.Wl = S, this.Ws = b, this.lh = T, this.Kl = function(t) {
                    void 0 === t && (t = !1), R.Yl.start(t), R.Xl.start()
                }
            }
            return t.prototype.start = function() {
                var t, n, i, r, s, e, u, o, h, c, a, f, v, l, d = this;
                (this.Hl.init(), this.Fl.init(), this.Fl.isActive()) || (this.Ws.schedule((function() {
                    f = new ku(d.W, d.J), a = new Au(d.ia), l = new $u(Kt), t = new eu(d.P, d.J, d.W, d.ia, a, d.oh, f, l, d.zh, d.lh), n = new Ss(d.oh, d.W, d.P, d.Ll, d.Ee, d.M), v = new Gu(d.P), c = new to;
                    var w = new Wu(d.P, v);
                    (h = new Ju(d.P, w, c, d.zh)).init();
                    var y = new so;
                    i = new ps(d.J, d.W, d.oh, d.zh, w, d.P, y), r = new Ls(d.P, d.J, d.W, d.oh, d.M, f, d.$), d.Yl = new gu(d.P, d.oh, d.wi, d.J, d.W, d.yo, d.Qt, d.bf, d.$, d.fh, y), s = new Nu(d.P, d.J, d.W, d.oh), e = new Mu(d.P, d.oh, d.Ee, d.Ll, d.Bf), u = new Vu(d.oh), o = new Qu(d.P, new gt(d.P, d.M), d.lh), d.Xl = new Eu
                })), this.P.jsErrorsEnabled && this.Ws.schedule((function() {
                    d.Fi = new Uu, d.Gi = new Ku(d.M, d.$);
                    var t = new ro(d.Fi, d.Gi, d.P, d.Ll, d.zh, d.oh, d.Bf, d.$, d.lh);
                    t.init(), d.wi.addListener(t)
                })), this.Ws.schedule((function() {
                    d.Gl.init()
                })), this.Ws.schedule((function() {
                    i.init()
                })), this.Ws.schedule((function() {
                    n.init()
                })), this.Ws.schedule((function() {
                    r.init()
                })), this.Ws.schedule((function() {
                    d.Jl.init()
                })), this.Ws.schedule((function() {
                    d.Yl.init()
                })), this.Ws.schedule((function() {
                    s.init()
                })), this.Ws.schedule((function() {
                    e.init()
                })), this.Ws.schedule((function() {
                    d.Vl.init()
                })), this.Ws.schedule((function() {
                    u.init()
                })), this.Ws.schedule((function() {
                    o.init()
                })), this.Ws.schedule((function() {
                    d.Wl.init()
                })), this.Ws.schedule((function() {
                    d.wi.addListener(s), d.wi.addListener(d.Bl), d.wi.addListener(t), d.wi.addListener(d.Gl), d.wi.addListener(i), d.wi.addListener(d.Jl), d.wi.addListener(d.Yl), d.wi.addListener(e), d.wi.addListener(n), d.wi.addListener(h), d.wi.addListener(o)
                })), Fr.isRecordingSupported() && this.Ws.schedule((function() {
                    var t = new es(c, d.W, d.P, d.Ee, a, d.yo, d.Ll, d.oh, d.M, f, d.$, v, d.Fi, d.Gi, d.Vi, l, d.Ji, d.wi, d.Bf, d.zh, d.fh, d.Ws, d.lh);
                    t.init(), d.wi.addListener(t), i.setRecordingService(t.recordingService)
                })), this.Ws.schedule((function() {
                    t.init()
                })), this.Ws.schedule((function() {
                    f.onSessionExpired((function() {
                        d.wi.emitBeforeSessionRenewal(), d.$l(!0), d.wi.emitAfterSessionRenewal()
                    })), d.$l()
                })))
            }, t.prototype.$l = function(t) {
                var n = this;
                void 0 === t && (t = !1), this.oh.start(), this.Xl.onLoad((function() {
                    n.wi.emitStartTracking(t)
                })), Ou(this.P) && !t || this.Kl(t)
            }, t
        }(),
        uo = function() {
            function t(t, n, i, r, s, e, u, o) {
                this.P = t, this.J = n, this.Zt = i, this.Zl = r, this.Ql = s, this.td = e, this.nn = u, this.nd = o
            }
            return t.prototype.compute = function(t) {
                var n = this;
                this.P.crossDomainTracking && !this.P.cookielessTrackingEnabled ? this.P.crossDomainSingleIframeTracking ? this.nn.start((function() {
                    return n.rd(t)
                })) : this.td.applyUpToDate((function() {
                    return n.rd(t)
                })) : this.rd(t)
            }, t.prototype.rd = function(t) {
                this.Ql.handle(), this.Zl.clear(), this.sd() ? (this.Zl.restoreClearedVisitor(), t(!0)) : (this.Zt.exclude(this.P), t(!1))
            }, t.prototype.sd = function() {
                var t = Q.boolean(this.P.sampleRate);
                return this.nd.isForceIncluded() || !this.Zt.isExcluded() && this.J.doesVisitorExist() || !this.Zt.isExcluded() && t
            }, t
        }();
    ! function(t) {
        t.generate = function() {
            var t = navigator.userAgent + navigator.language + navigator.platform,
                n = csString.prototype.slice.call(function(t) {
                    for (var n = 0, i = 0; i < t.length; i += 1) n = csString.prototype.charCodeAt.call(t, i) + (n << 6) + (n << 16) - n;
                    return Math.abs(n)
                }(t).toString(16), -4),
                i = (new csDate).getTime(),
                r = "xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, (function(t) {
                    var n = (i + 16 * Math.random()) % 16 | 0;
                    return i = Math.floor(i / 16), ("x" === t ? n : 7 & n | 8).toString(16)
                }));
            return csString.prototype.replace.call(r, "hhhh", n)
        }
    }(zu || (zu = {}));
    var oo, ho = function() {
            function t(t, n, i) {
                this.P = t, this.ud = n, this.W = i
            }
            return t.prototype.createOrUpdateVisitor = function() {
                var t = this.getVisitor();
                null === t && (t = this.od(), this.W.removeSession()), this.ad(t), this.setVisitor(t)
            }, t.prototype.od = function() {
                return {
                    id: zu.generate(),
                    visitsCount: 0,
                    appliedTrackingDraw: this.P.lastTrackingDraw,
                    creationTimestamp: mt(),
                    lastVisitTimestamp: 0,
                    hitTimestamp: 0,
                    expires: pt() + this.P.visitorCookieTimeout
                }
            }, t.prototype.ad = function(t) {
                var n = mt();
                this.W.doesSessionExist() || (t.visitsCount += 1, t.lastVisitTimestamp = n), t.hitTimestamp = n, t.appliedTrackingDraw = this.P.lastTrackingDraw, this.vd = t.visitsCount
            }, t.prototype.getRequestParameters = function() {
                var t = this.getVisitor();
                return t ? {
                    uu: t.id,
                    sn: "".concat(t.visitsCount),
                    hd: "".concat(t.hitTimestamp)
                } : {}
            }, t.prototype.getVisitor = function() {
                return this.ud.get()
            }, t.prototype.setVisitor = function(t) {
                this.ud.set(t)
            }, t.prototype.doesVisitorExist = function() {
                return null !== this.ud.get()
            }, t.prototype.removeVisitor = function() {
                this.ud.remove()
            }, t.prototype.handleSubdomainChange = function() {
                this.ud.handleSubdomainChange()
            }, t.prototype.isSessionRenewed = function() {
                var t = this.getVisitor();
                return null !== t && void 0 !== this.vd && t.visitsCount !== this.vd
            }, t
        }(),
        co = function(t) {
            this.configuration = t
        },
        ao = function(t) {
            function n(n, i, r) {
                var s = t.call(this, n) || this;
                return s.configuration = n, s.nd = i, s.$ = r, s
            }
            return H(n, t), n.prototype.sanitizeSessionRecordingState = function(t) {
                return t
            }, n.prototype.computeInitialRecordingState = function(t) {
                return this.nd.isForceLegacyReplayRecorded() || Q.percentage() < this.configuration.replayRecordingRate && Fr.isRecordingSupported() ? an.REPLAY_RECORDING_ENABLED : an.REPLAY_RECORDING_DISABLED
            }, n.prototype.updateRecordingState = function(t) {
                return t.recordingState
            }, n.prototype.isReplayRecorded = function(t) {
                return t.recordingState === an.REPLAY_RECORDING_ENABLED || this.computeTriggerSessionReplayStatus(t)
            }, n.prototype.computeTriggerSessionReplayStatus = function(t) {
                if (this.configuration.triggerSessionReplayEnabled && this.configuration.triggerSessionReplayRegex && t.recordingState !== an.REPLAY_RECORDING_ENABLED) {
                    var n = this.$.getAnonymizedUrl();
                    return this.configuration.triggerSessionReplayRegex.test(n)
                }
                return !1
            }, n.prototype.getDisabledRecordingState = function() {
                return an.REPLAY_RECORDING_DISABLED
            }, n.prototype.setVisitorService = function(t) {}, n
        }(co),
        fo = function(t) {
            function n(n, i, r, s, e) {
                var u = t.call(this, n) || this;
                return u.configuration = n, u.ld = i, u.wi = r, u.nd = s, u.$ = e, u.dd = [], u
            }
            return H(n, t), n.prototype.init = function() {
                this.wd()
            }, n.prototype.sanitizeSessionRecordingState = function(t) {
                return t.recordingState === fn.TEMPORARILY_RECORDED && (t.recordingState = fn.NOT_RECORDED), t
            }, n.prototype.computeInitialRecordingState = function(t) {
                return Fr.isRecordingSupported() ? (this.dd = [], Q.percentage() < this.configuration.replayRecordingRate || this.nd.isForceMalkaReplayRecorded() ? csArray.prototype.push.call(this.dd, fn.GLOBAL_SAMPLING) : this.configuration.malkaUrlEnabled && csArray.prototype.push.call(this.dd, fn.URL_SAMPLING), this.configuration.malkaEtrEnabled && csArray.prototype.push.call(this.dd, fn.ETR_SAMPLING), this.dd.length > 0 ? (this.yd(t), fn.TEMPORARILY_RECORDED) : fn.NOT_RECORDED) : fn.NOT_RECORDED
            }, n.prototype.updateRecordingState = function(t) {
                return Fr.isRecordingSupported() ? t.recordingState === fn.GLOBAL_SAMPLING ? fn.GLOBAL_SAMPLING : (this.dd = [], this.configuration.malkaUrlEnabled && (csArray.prototype.push.call(this.dd, fn.URL_SAMPLING), this.configuration.malkaEtrEnabled && csArray.prototype.push.call(this.dd, fn.ETR_SAMPLING)), this.dd.length > 0 ? (this.yd(t), fn.TEMPORARILY_RECORDED) : fn.NOT_RECORDED) : fn.NOT_RECORDED
            }, n.prototype.yd = function(t) {
                var n, i = null === (n = this.J) || void 0 === n ? void 0 : n.getVisitor();
                this.ld.send({
                    recordingTypes: csArray.prototype.map.call(this.dd, Number),
                    url: this.$.getAnonymizedUrl(),
                    projectId: this.configuration.projectId,
                    uu: (null == i ? void 0 : i.id) || "",
                    sn: (null == i ? void 0 : i.visitsCount) || "",
                    pn: (null == t ? void 0 : t.pageNumber) || ""
                })
            }, n.prototype.abortQuotaServiceRequest = function() {
                this.ld.abort()
            }, n.prototype.isReplayRecorded = function(t) {
                return t.recordingState === fn.TEMPORARILY_RECORDED || t.recordingState === fn.GLOBAL_SAMPLING || t.recordingState === fn.URL_SAMPLING || t.etrState === vn.ETR_ON
            }, n.prototype.wd = function() {
                var t = this;
                this.ld.onError((function() {
                    return t.quotaServiceErrorHandler("NetworkError")
                })), this.ld.onTimeout((function() {
                    return t.quotaServiceTimeoutHandler()
                }), 3e3), this.ld.onLoad((function(n) {
                    return t.quotaServiceLoadHandler(n)
                }))
            }, n.prototype.quotaServiceErrorHandler = function(t) {
                this.pd("error - ".concat(t))
            }, n.prototype.quotaServiceTimeoutHandler = function() {
                this.pd("timeout")
            }, n.prototype.pd = function(t) {
                var n = fn.NOT_RECORDED;
                this.md(this.dd) ? (n = fn.GLOBAL_SAMPLING, Kt.warn("Quota Service: request ".concat(t, " - bypassed by GLOBAL_SAMPLING"))) : Kt.warn("Quota Service: request ".concat(t)), this.wi.emitRecordingStateChange(n, vn.ETR_OFF)
            }, n.prototype.quotaServiceLoadHandler = function(t) {
                if (200 === t.status) {
                    var n;
                    try {
                        n = csJSON.parse(t.responseText)
                    } catch (n) {
                        return void this.quotaServiceErrorHandler("Unable to parse the quota service response: ".concat(t.responseText))
                    }
                    var i = null == n.allowedRecordingTypes ? void 0 : csArray.prototype.map.call(n.allowedRecordingTypes, csString);
                    if (i) {
                        var r = vn.ETR_OFF,
                            s = fn.NOT_RECORDED;
                        this.md(i) ? s = fn.GLOBAL_SAMPLING : this.gd(i) && (s = fn.URL_SAMPLING), this.Ad(i) && (r = vn.ETR_ON), this.wi.emitRecordingStateChange(s, r)
                    } else this.quotaServiceErrorHandler("recording types missing from quota service response")
                } else this.quotaServiceErrorHandler("Status code: ".concat(t.status))
            }, n.prototype.md = function(t) {
                return csArray.prototype.some.call(t, (function(t) {
                    return t === fn.GLOBAL_SAMPLING
                }))
            }, n.prototype.gd = function(t) {
                return csArray.prototype.some.call(t, (function(t) {
                    return t === fn.URL_SAMPLING
                }))
            }, n.prototype.Ad = function(t) {
                return csArray.prototype.some.call(t, (function(t) {
                    return t === fn.ETR_SAMPLING
                }))
            }, n.prototype.setVisitorService = function(t) {
                this.J = t
            }, n.prototype.getDisabledRecordingState = function() {
                return fn.NOT_RECORDED
            }, G([tn("Quota Service: onerror")], n.prototype, "quotaServiceErrorHandler", null), G([tn("Quota Service: ontimeout")], n.prototype, "quotaServiceTimeoutHandler", null), G([tn("Quota Service: onload")], n.prototype, "quotaServiceLoadHandler", null), n
        }(co),
        vo = function() {
            function t(t, n) {
                this.Ed = t, this.Sd = n, this.bd = !1, this.Td = null, this.Rd = 0
            }
            return t.prototype.setDynamicVariablesService = function(t) {
                this.Nd = t
            }, t.prototype.createOrUpdateSession = function() {
                this.kd(), this.Od = pt(), this.Rd = 0;
                var t = this.Id();
                null === t ? (t = this.Cd(), this._d(t), t.recordingState = this.Sd.computeInitialRecordingState(t)) : (t = this.Sd.sanitizeSessionRecordingState(t), this._d(t), t.recordingState = this.Sd.updateRecordingState(t)), this.setSession(t), this.Ld(t)
            }, t.prototype.Cd = function() {
                return {
                    pageNumber: 0,
                    recordingState: this.Sd.getDisabledRecordingState(),
                    etrState: vn.ETR_OFF
                }
            }, t.prototype.Ld = function(t) {
                this.Sd instanceof ao ? this.bd = this.Sd.computeTriggerSessionReplayStatus(t) : this.bd = !1
            }, t.prototype._d = function(t) {
                t.pageNumber += 1
            }, t.prototype.isReplayRecorded = function() {
                var t = this.getSession();
                return !!t && this.Sd.isReplayRecorded(t)
            }, t.prototype.isTemporarilyRecorded = function() {
                var t = this.getSession();
                return (null == t ? void 0 : t.recordingState) === fn.TEMPORARILY_RECORDED
            }, t.prototype.abortQuotaServiceRequest = function() {
                this.Sd instanceof fo && this.Sd.abortQuotaServiceRequest()
            }, t.prototype.getRequestParameters = function() {
                var t = {},
                    n = this.getSession();
                return null !== n && (t.pn = "".concat(n.pageNumber), this.Sd instanceof ao && (t.re = this.bd ? an.TRIGGER_REPLAY_RECORDING_ENABLED : n.recordingState)), t
            }, t.prototype.getSession = function() {
                return this.Ed.get()
            }, t.prototype.Id = function() {
                return this.Ed.get(!0)
            }, t.prototype.doesSessionExist = function() {
                return null !== this.Ed.get()
            }, t.prototype.setSession = function(t) {
                this.Ed.set(t)
            }, t.prototype.removeSession = function() {
                this.Ed.remove()
            }, t.prototype.getRecordingStates = function() {
                var t = this.getSession(),
                    n = [];
                return t && (t.recordingState !== fn.NOT_RECORDED && csArray.prototype.push.call(n, t.recordingState), t.etrState === vn.ETR_ON && csArray.prototype.push.call(n, fn.ETR_SAMPLING)), n
            }, t.prototype.updateRecordingState = function(t, n) {
                var i = this.getSession();
                null !== i && (i.recordingState = t, i.etrState = n, this.setSession(i))
            }, t.prototype.hasValidSession = function() {
                var t = this.Ed.getRawSession();
                return this.Ed.isValid(t)
            }, t.prototype.handleSubdomainChange = function() {
                this.Ed.handleSubdomainChange()
            }, t.prototype.pollCacheRefreshEvent = function() {
                var t = this.Ed.isCacheRefreshed();
                return t && this.Ed.resetCacheRefreshed(), t
            }, t.prototype.extendSessionPeriodically = function() {
                this.Td || this.xd()
            }, t.prototype.xd = function() {
                if (this.Pd()) this.kd();
                else {
                    var t = this.getSession();
                    if (null === t) return Kt.warn("extendSession is trying to extend an expired session"), void this.kd();
                    this.Ed.set(t, bn), this.Md(), this.Dd()
                }
            }, t.prototype.Dd = function() {
                var t = this;
                this.Td = window.setTimeout((function() {
                    t.xd()
                }), 174e4)
            }, t.prototype.Pd = function() {
                return 1434e4 - (pt() + bn - this.Od) < 0
            }, t.prototype.kd = function() {
                this.Td && (window.clearTimeout(this.Td), this.Td = null)
            }, t.prototype.Md = function() {
                this.Rd += 1, this.Nd.trackDynamicVariable("session_expiry_update", this.Rd)
            }, t
        }(),
        lo = function() {
            function t(t, n, i) {
                this.P = t, this.J = n, this.Zt = i
            }
            return t.prototype.clear = function() {
                this.Ud() && (this.jd = this.J.getVisitor(), this.J.removeVisitor()), this.zd() && this.Zt.removeExclusion()
            }, t.prototype.Ud = function() {
                return this.J.doesVisitorExist() && this.J.getVisitor().appliedTrackingDraw !== this.P.lastTrackingDraw
            }, t.prototype.zd = function() {
                return this.Zt.getAppliedTrackingDraw() !== this.P.lastTrackingDraw
            }, t.prototype.restoreClearedVisitor = function() {
                this.jd && this.J.setVisitor(this.jd)
            }, t
        }(),
        wo = function() {
            function t(t, n) {
                this.J = t, this.W = n
            }
            return t.prototype.handle = function() {
                this.qd(), this.Bd()
            }, t.prototype.qd = function() {
                this.J.handleSubdomainChange()
            }, t.prototype.Bd = function() {
                this.W.handleSubdomainChange()
            }, t
        }(),
        yo = function() {
            function t() {
                this.listeners = []
            }
            return t.prototype.addListener = function(t) {
                csArray.prototype.push.call(this.listeners, t)
            }, t
        }(),
        po = function(t) {
            function n(n) {
                var i = t.call(this) || this;
                return i.Ws = n, i
            }
            return H(n, t), n.prototype.emitBeforeNaturalPageView = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onBeforeNaturalPageView && i.onBeforeNaturalPageView()
                }
            }, n.prototype.emitAfterNaturalPageView = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onAfterNaturalPageView && i.onAfterNaturalPageView()
                }
            }, n.prototype.emitInitTracking = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onInitTracking && i.onInitTracking()
                }
            }, n.prototype.emitStartTracking = function(t) {
                for (var n = function(n) {
                        n.onStartTracking && i.Ws.schedule((function() {
                            return n.onStartTracking(t)
                        }))
                    }, i = this, r = 0, s = this.listeners; r < s.length; r++) {
                    n(s[r])
                }
            }, n.prototype.emitArtificialPageViewEnd = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    if (i.onArtificialPageViewEnd) try {
                        i.onArtificialPageViewEnd()
                    } catch (t) {
                        Kt.error(t)
                    }
                }
            }, n.prototype.emitBeforeArtificialPageView = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onBeforeArtificialPageView && i.onBeforeArtificialPageView()
                }
            }, n.prototype.emitAfterArtificialPageView = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onAfterArtificialPageView && i.onAfterArtificialPageView()
                }
            }, n.prototype.emitBeforeSessionRenewal = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onBeforeSessionRenewal && i.onBeforeSessionRenewal()
                }
            }, n.prototype.emitAfterSessionRenewal = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onAfterSessionRenewal && i.onAfterSessionRenewal()
                }
            }, n.prototype.emitOptout = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onOptout && i.onOptout()
                }
            }, n.prototype.emitConsentGranted = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onConsentGranted && i.onConsentGranted()
                }
            }, n.prototype.emitConsentWithdrawn = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onConsentWithdrawn && i.onConsentWithdrawn()
                }
            }, n.prototype.emitRecordingStateChange = function(t, n) {
                for (var i = 0, r = this.listeners; i < r.length; i++) {
                    var s = r[i];
                    s.onRecordingStateChange && s.onRecordingStateChange(t, n)
                }
            }, n.prototype.emitInitialDomStart = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onInitialDomStart && i.onInitialDomStart()
                }
            }, n.prototype.emitInitialDomDone = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onInitialDomDone && r.onInitialDomDone(t)
                }
            }, n.prototype.emitRecordingStatusChange = function() {
                for (var t = 0, n = this.listeners; t < n.length; t++) {
                    var i = n[t];
                    i.onRecordingStatusChange && i.onRecordingStatusChange()
                }
            }, G([Zn("emitStartTracking")], n.prototype, "emitStartTracking", null), n
        }(yo),
        mo = "_cs_c";
    ! function(t) {
        t[t.NOT_REQUIRED = 0] = "NOT_REQUIRED", t[t.NOT_EXPRESSED = 1] = "NOT_EXPRESSED", t[t.GRANTED = 2] = "GRANTED", t[t.WITHDRAWN = 3] = "WITHDRAWN"
    }(oo || (oo = {}));
    var go, Ao = function() {
            function t(t, n, i) {
                this.P = t, this.tn = n, this.Hd = i
            }
            return t.prototype.get = function() {
                var t;
                return null === (t = this.P.cookielessTrackingEnabled ? this.Hd.getItem(mo) : this.tn.get(mo)) ? t : Number(t)
            }, t.prototype.set = function(t) {
                this.P.cookielessTrackingEnabled ? this.Hd.setItem(mo, csString(t)) : this.tn.set(mo, csString(t), Z)
            }, t.prototype.remove = function() {
                this.P.cookielessTrackingEnabled ? this.Hd.removeItem(mo) : this.tn.delete(mo)
            }, t.prototype.handleSubdomainChange = function() {
                this.P.cookielessTrackingEnabled || (this.P.allowSubdomains ? this.tn.delete(mo, nn.CURRENT_DOMAIN) : this.tn.delete(mo, this.tn.getRootDomain()))
            }, t
        }(),
        Eo = ["trackConsentGranted"],
        So = ["trackConsentWithdrawn"],
        bo = function() {
            function t(t, n) {
                this.oh = t, this.Wh = n
            }
            return t.prototype.init = function() {
                this.Wh.handleSubdomainChange(), this.Wh.setInitialConsent(), this.zl()
            }, t.prototype.zl = function() {
                var t = this;
                this.oh.register(Eo, (function() {
                    t.Wh.grantConsent()
                })), this.oh.register(So, (function() {
                    t.Wh.withdrawConsent()
                }))
            }, t.prototype.onOptout = function() {
                this.Wh.removeConsent()
            }, t
        }(),
        To = function() {
            function t(t, n, i) {
                this.P = t, this.ud = n, this.wi = i
            }
            return t.prototype.setInitialConsent = function() {
                var t = this.ud.get();
                (null === t || this.hasConsentRequiredChanged(t)) && this.setDefault()
            }, t.prototype.hasConsentRequiredChanged = function(t) {
                var n = this.P.consentRequired;
                return n && t === oo.NOT_REQUIRED || !n && t !== oo.NOT_REQUIRED
            }, t.prototype.handleSubdomainChange = function() {
                this.ud.handleSubdomainChange()
            }, t.prototype.setDefault = function() {
                var t = this.P.consentRequired ? oo.NOT_EXPRESSED : oo.NOT_REQUIRED;
                this.ud.set(t)
            }, t.prototype.grantConsent = function() {
                this.P.consentRequired && (this.ud.set(oo.GRANTED), this.wi.emitConsentGranted())
            }, t.prototype.withdrawConsent = function() {
                this.P.consentRequired && (this.ud.set(oo.WITHDRAWN), this.wi.emitConsentWithdrawn())
            }, t.prototype.removeConsent = function() {
                this.ud.remove()
            }, t.prototype.isAllowedByConsent = function() {
                return !this.P.consentRequired || this.ud.get() === oo.GRANTED
            }, t.prototype.getRequestParameters = function() {
                return {
                    uc: "".concat(this.ud.get())
                }
            }, t
        }(),
        Ro = function() {
            function t(t, n, i, r, s, e, u) {
                this.wi = t, this.oh = n, this.Bl = i, this.Hl = r, this.Fl = s, this.Fd = e, this.Gl = u
            }
            return t.prototype.start = function() {
                this.wi.addListener(this.Fd), this.wi.addListener(this.Gl), this.wi.addListener(this.Bl), this.Gl.init(), this.Hl.init(), this.Fl.init(), this.Fl.isActive() || this.oh.start()
            }, t
        }(),
        No = function() {
            function t(t, n) {
                this.mn = t, this.ud = n
            }
            return t.prototype.exclude = function(t) {
                this.ud.set(csString(t.lastTrackingDraw))
            }, t.prototype.removeExclusion = function() {
                this.ud.remove()
            }, t.prototype.isExcluded = function() {
                return this.Gd() || this.Vd()
            }, t.prototype.Gd = function() {
                return 0 !== this.getAppliedTrackingDraw()
            }, t.prototype.getAppliedTrackingDraw = function() {
                return this.ud.get()
            }, t.prototype.Vd = function() {
                return csString.prototype.indexOf.call(this.mn.href, In) > 0
            }, t
        }(),
        ko = function() {
            function t(t) {
                this.Wh = t
            }
            return t.prototype.onOptout = function() {
                this.Wh.removeExclusion()
            }, t
        }();
    ! function(t) {
        t.SessionReplay = "SR", t.None = ""
    }(go || (go = {}));
    var Oo, Io = function() {
            function t(t) {
                this.$ = t, this.Jd = new RegExp("".concat(".^"))
            }
            return t.prototype.setExcludeUrlForSessionReplay = function(t) {
                this.Jd = new RegExp(t)
            }, t.prototype.Wd = function() {
                return this.Jd.test(this.$.getAnonymizedUrl()) ? go.SessionReplay : go.None
            }, t.prototype.isUrlExcludedForSessionReplay = function() {
                return this.Wd() === go.SessionReplay
            }, t.prototype.getRequestParameters = function() {
                return {
                    ex: this.Wd()
                }
            }, t
        }(),
        Co = ["excludeURLforReplay"],
        _o = function() {
            function t(t, n) {
                this.Wh = t, this.oh = n
            }
            return t.prototype.init = function() {
                var t = this;
                this.oh.register(Co, (function(n) {
                    St(n) && t.Wh.setExcludeUrlForSessionReplay(n)
                }))
            }, t
        }(),
        Lo = "_cs_inc",
        xo = function() {
            function t(t, n) {
                this.mn = t, this.tn = n
            }
            return t.prototype.isForceIncluded = function() {
                return this.Kd() || this.Yd()
            }, t.prototype.isForceLegacyReplayRecorded = function() {
                return this.Xd(an.REPLAY_RECORDING_ENABLED) || this.$d(an.REPLAY_RECORDING_ENABLED)
            }, t.prototype.isForceMalkaReplayRecorded = function() {
                return this.Xd(fn.GLOBAL_SAMPLING)
            }, t.prototype.Kd = function() {
                return null !== this.tn.get(Lo)
            }, t.prototype.Xd = function(t) {
                return this.tn.get(Lo) === t
            }, t.prototype.Yd = function() {
                return csString.prototype.indexOf.call(this.mn.href, Lo) > 0
            }, t.prototype.$d = function(t) {
                return csString.prototype.indexOf.call(this.mn.href, "".concat(Lo, "=").concat(t)) > 0
            }, t
        }(),
        Po = "_cs_optout",
        Mo = function() {
            function t(t, n, i) {
                this.P = t, this.tn = n, this.Hd = i
            }
            return t.prototype.get = function() {
                return this.P.cookielessTrackingEnabled ? this.Hd.getItem(Po) : this.tn.get(Po)
            }, t.prototype.set = function(t) {
                this.P.cookielessTrackingEnabled ? this.Hd.setItem(Po, t) : this.tn.set(Po, t, Z)
            }, t
        }(),
        Do = function() {
            function t(t, n, i) {
                this.wi = t, this.mn = n, this.ud = i
            }
            return t.prototype.init = function() {
                !this.isActive() && this.Zd() && this.activate()
            }, t.prototype.isActive = function() {
                return "1" === this.ud.get()
            }, t.prototype.activate = function() {
                this.wi.emitOptout(), this.ud.set("1")
            }, t.prototype.Zd = function() {
                return csString.prototype.indexOf.call(this.mn.href, Po) > 0
            }, t
        }(),
        Uo = ["optout"],
        jo = ["optin"],
        zo = function() {
            function t(t, n) {
                this.oh = t, this.Fl = n
            }
            return t.prototype.init = function() {
                var t = this;
                this.oh.register(Uo, (function() {
                    t.Fl.activate()
                }))
            }, t
        }();

    function qo(t, n) {
        return n.visitor.visitsCount !== t.visitor.visitsCount ? n.visitor.visitsCount - t.visitor.visitsCount : t.session ? n.session ? n.session.pageNumber - t.session.pageNumber : -1 : 1
    }! function(t) {
        t.select = function(t, n) {
            var i = function(t, n) {
                    return csArray.prototype.filter.call(t, (function(t) {
                        return t.exclusion === n
                    }))[0]
                }(t, n),
                r = function(t, n) {
                    return csArray.prototype.sort.call(csArray.prototype.filter.call(t, (function(t) {
                        return function(t, n) {
                            return t.visitor && t.visitor.appliedTrackingDraw === n
                        }(t, n)
                    })), qo)[0]
                }(t, n);
            return i || r
        }
    }(Oo || (Oo = {}));
    var Bo = function() {
            function t(t, n, i) {
                this.P = t, this.Qd = n, this.tw = i
            }
            return t.prototype.applyUpToDate = function(t) {
                var n = this;
                this.tw.retrieve(this.P.hostnames, (function(i) {
                    var r = W([n.Qd.get()], i, !0),
                        s = Oo.select(r, n.P.lastTrackingDraw);
                    n.Qd.apply(s), t()
                }))
            }, t
        }(),
        Ho = function() {
            function t(t, n) {
                this.oh = t, this.zh = n
            }
            return t.prototype.init = function() {
                this.zh.addListener(this.oh)
            }, t.prototype.onOptout = function() {
                this.oh.stop()
            }, t.prototype.onBeforeSessionRenewal = function() {
                this.oh.stop()
            }, t
        }();
    var Fo;
    ! function(t) {
        t.UXA = "_uxa", t.WVT = "cs_wvt"
    }(Fo || (Fo = {}));
    var Go, Vo = function(t) {
            function n(n) {
                var i = t.call(this) || this;
                return i.nw = n, i.iw = {}, i
            }
            return H(n, t), n.prototype.register = function(t, n, i) {
                for (var r = 0, s = t; r < s.length; r++) {
                    var e = s[r];
                    this.iw[e] = {
                        callback: n,
                        configuration: i
                    }, this.iw
                }
            }, n.prototype.onStart = function() {
                this.rw(), this.ew()
            }, n.prototype.onStop = function() {
                for (var t = 0, n = this.nw; t < n.length; t++) {
                    var i = n[t];
                    window[i] = []
                }
            }, n.prototype.onIframeCommands = function(t) {
                for (var n = 0, i = t.commands; n < i.length; n++) {
                    var r = i[n];
                    this.uw(r.name, r.params, t.iframePath)
                }
            }, n.prototype.uw = function(t, n, i) {
                var r = this;
                Kt.tryToExecute("Commands.apply.from.iframe: ".concat(i), (function() {
                    var i;
                    if (r.iw[t]) return (i = r.iw[t]).callback.apply(i, n)
                }))()
            }, n.prototype.rw = function() {
                for (var t = this, n = 0, i = this.nw; n < i.length; n++) {
                    var r = i[n];
                    window[r].forEach((function(n) {
                        var i = n[0],
                            r = n.slice(1);
                        return t.ow(i, r, !1)
                    }))
                }
            }, n.prototype.ew = function() {
                for (var t = this, n = 0, i = this.nw; n < i.length; n++) {
                    var r = i[n];
                    window[r] = {
                        push: function(n) {
                            var i = n[0],
                                r = n.slice(1);
                            return t.ow(i, r, !0)
                        }
                    }
                }
            }, n.prototype.ow = function(t, n, i) {
                var r, s;
                if (this.iw[t]) {
                    if ((null === (s = this.iw[t].configuration) || void 0 === s ? void 0 : s.disableApplyPending) && !i) return void Kt.warn("Command ".concat(t, " is disabled when pushed before tag starts"));
                    try {
                        return (r = this.iw[t]).callback.apply(r, n)
                    } catch (i) {
                        Kt.error("Command ".concat(t, " failed - params: ").concat(csJSON.stringify(n)), i)
                    }
                }
            }, n
        }(pi),
        Jo = "contentsquare.net";
    ! function(t) {
        t.Set = "set", t.Remove = "remove"
    }(Go || (Go = {}));
    var Wo = function() {
            function t(t, n) {
                this.P = t, this.tn = n, this.hw = Zt.None, this.cw = !1, this.aw = [], this.fw = []
            }
            return t.prototype.init = function() {
                this.hw = this.tn.isSameSiteSupported() ? Zt.None : Zt.NotSet
            }, t.prototype.setStates = function(t, n) {
                this.Qd = t, this.lw = n
            }, t.prototype.start = function(t) {
                var n = this;
                this.lw.init(this.yw(), (function(i, r) {
                    var s = [n.Qd.get()];
                    r && csArray.prototype.push.call(s, i);
                    var e = Oo.select(s, n.P.lastTrackingDraw);
                    n.cw = !0, n.Qd.apply(e), t()
                })), this.pw = this.lw.openIframe()
            }, t.prototype.setCookie = function(t, n, i) {
                if (this.cw) {
                    var r = {
                        name: t,
                        value: n,
                        samesite: this.hw,
                        secure: Qt.Yes
                    };
                    i && (r.expires = Xt.toExpireDate(i).getTime()), this.mw(r)
                }
            }, t.prototype.removeCookie = function(t) {
                this.cw && this.gw(t)
            }, t.prototype.gw = function(t) {
                this.fw = csArray.prototype.filter.call(this.fw, (function(n) {
                    return n !== t
                })), this.aw = csArray.prototype.filter.call(this.aw, (function(n) {
                    return n.name !== t
                })), csArray.prototype.push.call(this.fw, t), this.setBatchReadyCall()
            }, t.prototype.mw = function(t) {
                this.fw = csArray.prototype.filter.call(this.fw, (function(n) {
                    return n !== t.name
                })), this.aw = csArray.prototype.filter.call(this.aw, (function(n) {
                    return n.name !== t.name
                })), csArray.prototype.push.call(this.aw, t), this.setBatchReadyCall()
            }, t.prototype.setBatchReadyCall = function() {
                this.Aw()
            }, t.prototype.Aw = function() {
                if (this.aw.length > 0) {
                    var t = this.Ew(Go.Set, this.aw);
                    this.Sw(t), this.aw = []
                }
                if (this.fw.length > 0) {
                    var n = this.Ew(Go.Remove, this.fw);
                    this.Sw(n), this.fw = []
                }
            }, t.prototype.Ew = function(t, n) {
                return {
                    command: t,
                    cookies: n,
                    domain: null,
                    pid: this.P.projectId
                }
            }, t.prototype.Sw = function(t) {
                var n = "https://".concat(this.yw());
                this.pw.contentWindow && this.pw.contentWindow.postMessage(t, n)
            }, t.prototype.yw = function() {
                return this.P.dualCollectionTagDomain && this.P.dualCollectionTagDomain !== Jo ? "cdnssl.".concat(this.P.dualCollectionTagDomain) : "csxd.".concat(Jo)
            }, G([Hi(), tn("send xdframe-single-iframe batch")], t.prototype, "setBatchReadyCall", null), t
        }(),
        Ko = function() {
            function t(t, n) {
                this.P = t, this.yn = n
            }
            return t.prototype.init = function(t, n) {
                this.bw = "https://".concat(t), this.gn = n
            }, t.prototype.openIframe = function() {
                var t = this;
                this.yn.onMessage((function(n) {
                    t.Sn(n)
                })), this.yn.onTimeout((function() {
                    t.bn()
                })), this.yn.start();
                var n = this.Tw(this.bw);
                return this.yn.open(n)
            }, t.prototype.Sn = function(t) {
                if (this.Tn(t)) {
                    var n = t.data,
                        i = !0;
                    if (this.Rw(t)) return void Kt.warn("Error xdframe single domain: ".concat(csJSON.stringify(t.data), " from ").concat(t.origin));
                    if (!On.isRawDomainState(n)) return void Kt.warn("Unknown message format from xdframe single domain: ".concat(csJSON.stringify(t.data), " from ").concat(t.origin));
                    On.isValid(n) || (Kt.warn("Invalid xdframe single domain state: ".concat(csJSON.stringify(t.data), " from ").concat(t.origin)), i = !1), this.yn.stop(), this.gn(i ? Nn.fromRaw(n) : {}, i)
                }
            }, t.prototype.bn = function() {
                Kt.warn("xdframe single domain: all messages not received")
            }, t.prototype.Tn = function(t) {
                return t.origin === this.bw && bt(t.data)
            }, t.prototype.Rw = function(t) {
                return !!t.data.error
            }, t.prototype.Tw = function(t) {
                var n = this.P.projectId;
                return "".concat(t, "/uxa/xdframe-single-domain-").concat("1.1.1", ".html?pid=").concat(n)
            }, t
        }(),
        Yo = function() {
            function t(t, n, i) {
                this.P = t, this.J = n, this.W = i
            }
            return t.prototype.getRequestParameters = function() {
                var t = F(F({}, yt()), this.P.getRequestParameters()),
                    n = this.W.getSession();
                n && (t.pn = "".concat(n.pageNumber));
                var i = this.J.getVisitor();
                return i && (t.sn = "".concat(i.visitsCount), t.uu = "".concat(i.id)), t
            }, t
        }(),
        Xo = function() {
            function t(t, n) {
                this.oh = t, this.I = n
            }
            return t.prototype.init = function() {
                var t = this;
                this.oh.register(["debugEvents"], (function(n) {
                    "boolean" == typeof n && t.I.updateDynamicFields("emitDebugEvents", n)
                }))
            }, t
        }();

    function $o(t, n, i) {
        if (!Tt(n) && !Tt(i)) return t.href;
        var r = Tt(n) ? function(t) {
                return X(t, "/") ? t : "/".concat(t)
            }(n) : t.pathname,
            s = Tt(i) ? function(t) {
                return X(t, "?") || "" === t ? t : "?".concat(t)
            }(i) : t.search;
        return "".concat(t.protocol, "//").concat(t.host).concat(r).concat(s)
    }
    var Zo, Qo = function() {
            function t(t, n) {
                this.mn = t, this.bf = n
            }
            return t.prototype.overridePath = function(t) {
                Tt(t) && St(t) && (this.Nw = "" === t ? void 0 : t)
            }, t.prototype.overrideQuery = function(t) {
                Tt(t) && St(t) && (this.kw = t)
            }, t.prototype.computeOverriddenUrl = function(t) {
                return this.Ow(t) ? this.getAnonymizedUrl() : t
            }, t.prototype.Ow = function(t) {
                var n = this.Iw(this.mn.href);
                return this.Iw(t) === n
            }, t.prototype.Iw = function(t) {
                return $(t, "/") ? csString.prototype.slice.call(t, 0, -1) : t
            }, t.prototype.getAnonymizedUrl = function() {
                var t = $o(this.mn, this.Nw, this.kw);
                return this.bf.anonymizeUrl(t, [])
            }, t.prototype.getUrlProtocol = function() {
                return this.mn.protocol
            }, t.prototype.getRequestParameters = function() {
                return {
                    url: this.getAnonymizedUrl()
                }
            }, t
        }(),
        th = function(t) {
            function n() {
                return null !== t && t.apply(this, arguments) || this
            }
            return H(n, t), n.prototype.emitPageEvent = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onPageEvent && r.onPageEvent(t)
                }
            }, n.prototype.emitEventTriggerRecording = function(t, n) {
                for (var i = 0, r = this.listeners; i < r.length; i++) {
                    var s = r[i];
                    s.onEventTriggerRecording && s.onEventTriggerRecording(t, n)
                }
            }, n.prototype.emitCustomJavaScriptErrorEvent = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onCustomJavaScriptErrorEvent && r.onCustomJavaScriptErrorEvent(t)
                }
            }, n.prototype.emitCustomErrorEvent = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onCustomErrorEvent && r.onCustomErrorEvent(t)
                }
            }, n.prototype.emitUserIdentifierEvent = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onUserIdentifierEvent && r.onUserIdentifierEvent(t)
                }
            }, n
        }(yo),
        nh = "|iframe|",
        ih = function(t) {
            function n(n, i, r, s) {
                var e = t.call(this) || this;
                return e.Cw = n, e._w = i, e.Lw = r, e.xw = s, e
            }
            return H(n, t), n.prototype.emitIframeEvent = function(t, n, i) {
                if (this.Pw(n) && null === t) Kt.error("iframeEventEmitter received event ".concat(n, " with null iframe, content:").concat(csJSON.stringify(i)));
                else switch (n) {
                    case Ht.ChildLogMessage:
                        this.Mw(i);
                        break;
                    case Ht.AnalysisEvent:
                        var r = this.Cw.transformEvent(t, i);
                        this.Dw(r);
                        break;
                    case Ht.RecordingEvent:
                        var s = i,
                            e = this.xw.transformEvents(t, s);
                        if (0 === e.events.length) return;
                        e.containsUserEvent ? this.Uw(e.events) : this.jw(e.events);
                        break;
                    case Ht.JavascriptError:
                        this.zw(i);
                        break;
                    case Ht.ApiError:
                        this.qw(i);
                        break;
                    case Ht.DetailedApiError:
                        this.Bw(i);
                        break;
                    case Ht.EmerchandisingMessage:
                        var u = this.Lw.transformEvent(t, i);
                        this.Hw(u);
                        break;
                    case Ht.Commands:
                        var o = this._w.transformEvent(t, i);
                        this.Fw(o);
                        break;
                    case Ht.IntegrationCallback:
                        this.Gw(i);
                        break;
                    case Ht.TrackingContextRequestMessage:
                        this.Vw(i);
                        break;
                    default:
                        Kt.error("Parent received unknown data type from iframe : ".concat(csJSON.stringify(i)))
                }
            }, n.prototype.Pw = function(t) {
                var n = [Ht.AnalysisEvent, Ht.RecordingEvent, Ht.EmerchandisingMessage, Ht.Commands];
                return -1 !== csArray.prototype.indexOf.call(n, t)
            }, n.prototype.Mw = function(t) {
                var n = t.message,
                    i = t.errorCode;
                switch (t.level) {
                    case nt.debug:
                        Kt.debug(n, i);
                        break;
                    case nt.warn:
                        Kt.warn(n, i);
                        break;
                    case nt.error:
                        Kt.error(n, i);
                        break;
                    case nt.critical:
                        Kt.critical(n, i)
                }
            }, n.prototype.Dw = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onIframeAnalysisEvent && r.onIframeAnalysisEvent(t)
                }
            }, n.prototype.Uw = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onIframeRecordingUserEvent && r.onIframeRecordingUserEvent(t)
                }
            }, n.prototype.jw = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onIframeRecordingBrowserEvent && r.onIframeRecordingBrowserEvent(t)
                }
            }, n.prototype.zw = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onIframeJavascriptError && r.onIframeJavascriptError(t)
                }
            }, n.prototype.qw = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onIframeApiError && r.onIframeApiError(t)
                }
            }, n.prototype.Bw = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onIframeDetailedApiError && r.onIframeDetailedApiError(t)
                }
            }, n.prototype.Hw = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onIframeEmerchandisingMessage && r.onIframeEmerchandisingMessage(t)
                }
            }, n.prototype.Fw = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onIframeCommands && r.onIframeCommands(t)
                }
            }, n.prototype.Gw = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onIframeIntegrationCallback && r.onIframeIntegrationCallback(t)
                }
            }, n.prototype.Vw = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onTrackingContextRequestCallback && r.onTrackingContextRequestCallback(t)
                }
            }, n
        }(yo);
    ! function(t) {
        t.COMPRESSION_DISABLED = "compressionDisabled"
    }(Zo || (Zo = {}));
    var rh = function() {
        function t() {}
        return t.init = function(t) {
            var n;
            void 0 === t && (t = document.cookie);
            var i = null === (n = /_cs_debug=((\w|\.|\:|=)+)/g.exec(t)) || void 0 === n ? void 0 : n[1];
            if (this.Jw = new Map, i)
                for (var r = csString.prototype.split.call(i, "."), s = 0; s < r.length; s++) {
                    var e = csString.prototype.split.call(r[s], "="),
                        u = e[0],
                        o = e[1];
                    this.Jw.set(u, o || "true")
                }
        }, t.getBoolean = function(t) {
            var n = this.getString(t);
            return null != n && "false" !== n && 0 !== parseInt(n)
        }, t.getString = function(t) {
            var n;
            return null === (n = this.Jw) || void 0 === n ? void 0 : n.get(t)
        }, t.isCompressionEnabled = function() {
            return !this.getBoolean(Zo.COMPRESSION_DISABLED)
        }, t.Log = function(n) {
            return function(i, r, s) {
                var e, u = r.toString(),
                    o = "".concat(null === (e = i.constructor) || void 0 === e ? void 0 : e.name, ".").concat(u),
                    h = s.value;
                (function(t, n) {
                    var i;
                    if (null == t) return !1;
                    return t === n || !!(null === (i = csString.prototype.match.call(t, new RegExp("(^|,)(" + n + ")(,|$)"))) || void 0 === i ? void 0 : i.length)
                })(t.getString("debugLog"), n) && (s.value = function() {
                    for (var t = [], n = 0; n < arguments.length; n++) t[n] = arguments[n];
                    return console.log.apply(console, W([o], t, !1)), h.bind(this).apply(void 0, t)
                })
            }
        }, t
    }();

    function sh() {
        function t(t) {
            for (var n = t.length; --n >= 0;) t[n] = 0
        }
        var n = 256,
            i = 286,
            r = 30,
            s = 15,
            e = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0]),
            u = new Uint8Array([0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13]),
            o = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7]),
            h = new Uint8Array([16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15]),
            c = new Array(576);
        t(c);
        var a = new Array(60);
        t(a);
        var f = new Array(512);
        t(f);
        var v = new Array(256);
        t(v);
        var l = new Array(29);
        t(l);
        var d, w, y, p = new Array(r);

        function m(t, n, i, r, s) {
            this.static_tree = t, this.extra_bits = n, this.extra_base = i, this.elems = r, this.max_length = s, this.has_stree = t && t.length
        }

        function g(t, n) {
            this.dyn_tree = t, this.max_code = 0, this.stat_desc = n
        }
        t(p);
        var A = function(t) {
                return t < 256 ? f[t] : f[256 + (t >>> 7)]
            },
            E = function(t, n) {
                t.pending_buf[t.pending++] = 255 & n, t.pending_buf[t.pending++] = n >>> 8 & 255
            },
            S = function(t, n, i) {
                t.bi_valid > 16 - i ? (t.bi_buf |= n << t.bi_valid & 65535, E(t, t.bi_buf), t.bi_buf = n >> 16 - t.bi_valid, t.bi_valid += i - 16) : (t.bi_buf |= n << t.bi_valid & 65535, t.bi_valid += i)
            },
            b = function(t, n, i) {
                S(t, i[2 * n], i[2 * n + 1])
            },
            T = function(t, n) {
                var i = 0;
                do {
                    i |= 1 & t, t >>>= 1, i <<= 1
                } while (--n > 0);
                return i >>> 1
            },
            R = function(t, n, i) {
                var r, e, u = new Array(16),
                    o = 0;
                for (r = 1; r <= s; r++) u[r] = o = o + i[r - 1] << 1;
                for (e = 0; e <= n; e++) {
                    var h = t[2 * e + 1];
                    0 !== h && (t[2 * e] = T(u[h]++, h))
                }
            },
            N = function(t) {
                var n;
                for (n = 0; n < i; n++) t.dyn_ltree[2 * n] = 0;
                for (n = 0; n < r; n++) t.dyn_dtree[2 * n] = 0;
                for (n = 0; n < 19; n++) t.bl_tree[2 * n] = 0;
                t.dyn_ltree[512] = 1, t.opt_len = t.static_len = 0, t.last_lit = t.matches = 0
            },
            k = function(t) {
                t.bi_valid > 8 ? E(t, t.bi_buf) : t.bi_valid > 0 && (t.pending_buf[t.pending++] = t.bi_buf), t.bi_buf = 0, t.bi_valid = 0
            },
            O = function(t, n, i, r) {
                var s = 2 * n,
                    e = 2 * i;
                return t[s] < t[e] || t[s] === t[e] && r[n] <= r[i]
            },
            I = function(t, n, i) {
                for (var r = t.heap[i], s = i << 1; s <= t.heap_len && (s < t.heap_len && O(n, t.heap[s + 1], t.heap[s], t.depth) && s++, !O(n, r, t.heap[s], t.depth));) t.heap[i] = t.heap[s], i = s, s <<= 1;
                t.heap[i] = r
            },
            C = function(t, i, r) {
                var s, o, h, c, a = 0;
                if (0 !== t.last_lit)
                    do {
                        s = t.pending_buf[t.d_buf + 2 * a] << 8 | t.pending_buf[t.d_buf + 2 * a + 1], o = t.pending_buf[t.l_buf + a], a++, 0 === s ? b(t, o, i) : (h = v[o], b(t, h + n + 1, i), 0 !== (c = e[h]) && (o -= l[h], S(t, o, c)), s--, h = A(s), b(t, h, r), 0 !== (c = u[h]) && (s -= p[h], S(t, s, c)))
                    } while (a < t.last_lit);
                b(t, 256, i)
            },
            _ = function(t, n) {
                var i, r, e, u = n.dyn_tree,
                    o = n.stat_desc.static_tree,
                    h = n.stat_desc.has_stree,
                    c = n.stat_desc.elems,
                    a = -1;
                for (t.heap_len = 0, t.heap_max = 573, i = 0; i < c; i++) 0 !== u[2 * i] ? (t.heap[++t.heap_len] = a = i, t.depth[i] = 0) : u[2 * i + 1] = 0;
                for (; t.heap_len < 2;) u[2 * (e = t.heap[++t.heap_len] = a < 2 ? ++a : 0)] = 1, t.depth[e] = 0, t.opt_len--, h && (t.static_len -= o[2 * e + 1]);
                for (n.max_code = a, i = t.heap_len >> 1; i >= 1; i--) I(t, u, i);
                e = c;
                do {
                    i = t.heap[1], t.heap[1] = t.heap[t.heap_len--], I(t, u, 1), r = t.heap[1], t.heap[--t.heap_max] = i, t.heap[--t.heap_max] = r, u[2 * e] = u[2 * i] + u[2 * r], t.depth[e] = (t.depth[i] >= t.depth[r] ? t.depth[i] : t.depth[r]) + 1, u[2 * i + 1] = u[2 * r + 1] = e, t.heap[1] = e++, I(t, u, 1)
                } while (t.heap_len >= 2);
                t.heap[--t.heap_max] = t.heap[1],
                    function(t, n) {
                        var i, r, e, u, o, h, c = n.dyn_tree,
                            a = n.max_code,
                            f = n.stat_desc.static_tree,
                            v = n.stat_desc.has_stree,
                            l = n.stat_desc.extra_bits,
                            d = n.stat_desc.extra_base,
                            w = n.stat_desc.max_length,
                            y = 0;
                        for (u = 0; u <= s; u++) t.bl_count[u] = 0;
                        for (c[2 * t.heap[t.heap_max] + 1] = 0, i = t.heap_max + 1; i < 573; i++)(u = c[2 * c[2 * (r = t.heap[i]) + 1] + 1] + 1) > w && (u = w, y++), c[2 * r + 1] = u, r > a || (t.bl_count[u]++, o = 0, r >= d && (o = l[r - d]), h = c[2 * r], t.opt_len += h * (u + o), v && (t.static_len += h * (f[2 * r + 1] + o)));
                        if (0 !== y) {
                            do {
                                for (u = w - 1; 0 === t.bl_count[u];) u--;
                                t.bl_count[u]--, t.bl_count[u + 1] += 2, t.bl_count[w]--, y -= 2
                            } while (y > 0);
                            for (u = w; 0 !== u; u--)
                                for (r = t.bl_count[u]; 0 !== r;)(e = t.heap[--i]) > a || (c[2 * e + 1] !== u && (t.opt_len += (u - c[2 * e + 1]) * c[2 * e], c[2 * e + 1] = u), r--)
                        }
                    }(t, n), R(u, a, t.bl_count)
            },
            L = function(t, n, i) {
                var r, s, e = -1,
                    u = n[1],
                    o = 0,
                    h = 7,
                    c = 4;
                for (0 === u && (h = 138, c = 3), n[2 * (i + 1) + 1] = 65535, r = 0; r <= i; r++) s = u, u = n[2 * (r + 1) + 1], ++o < h && s === u || (o < c ? t.bl_tree[2 * s] += o : 0 !== s ? (s !== e && t.bl_tree[2 * s]++, t.bl_tree[32]++) : o <= 10 ? t.bl_tree[34]++ : t.bl_tree[36]++, o = 0, e = s, 0 === u ? (h = 138, c = 3) : s === u ? (h = 6, c = 3) : (h = 7, c = 4))
            },
            x = function(t, n, i) {
                var r, s, e = -1,
                    u = n[1],
                    o = 0,
                    h = 7,
                    c = 4;
                for (0 === u && (h = 138, c = 3), r = 0; r <= i; r++)
                    if (s = u, u = n[2 * (r + 1) + 1], !(++o < h && s === u)) {
                        if (o < c)
                            do {
                                b(t, s, t.bl_tree)
                            } while (0 != --o);
                        else 0 !== s ? (s !== e && (b(t, s, t.bl_tree), o--), b(t, 16, t.bl_tree), S(t, o - 3, 2)) : o <= 10 ? (b(t, 17, t.bl_tree), S(t, o - 3, 3)) : (b(t, 18, t.bl_tree), S(t, o - 11, 7));
                        o = 0, e = s, 0 === u ? (h = 138, c = 3) : s === u ? (h = 6, c = 3) : (h = 7, c = 4)
                    }
            },
            P = !1,
            M = function(t, n, i, r) {
                S(t, 0 + (r ? 1 : 0), 3),
                    function(t, n, i, r) {
                        k(t), r && (E(t, i), E(t, ~i)), t.pending_buf.set(t.window.subarray(n, n + i), t.pending), t.pending += i
                    }(t, n, i, !0)
            },
            D = function(t) {
                P || (! function() {
                    var t, n, h, g, A, E = new Array(16);
                    for (h = 0, g = 0; g < 28; g++)
                        for (l[g] = h, t = 0; t < 1 << e[g]; t++) v[h++] = g;
                    for (v[h - 1] = g, A = 0, g = 0; g < 16; g++)
                        for (p[g] = A, t = 0; t < 1 << u[g]; t++) f[A++] = g;
                    for (A >>= 7; g < r; g++)
                        for (p[g] = A << 7, t = 0; t < 1 << u[g] - 7; t++) f[256 + A++] = g;
                    for (n = 0; n <= s; n++) E[n] = 0;
                    for (t = 0; t <= 143;) c[2 * t + 1] = 8, t++, E[8]++;
                    for (; t <= 255;) c[2 * t + 1] = 9, t++, E[9]++;
                    for (; t <= 279;) c[2 * t + 1] = 7, t++, E[7]++;
                    for (; t <= 287;) c[2 * t + 1] = 8, t++, E[8]++;
                    for (R(c, 287, E), t = 0; t < r; t++) a[2 * t + 1] = 5, a[2 * t] = T(t, 5);
                    d = new m(c, e, 257, i, s), w = new m(a, u, 0, r, s), y = new m(new Array(0), o, 0, 19, 7)
                }(), P = !0), t.l_desc = new g(t.dyn_ltree, d), t.d_desc = new g(t.dyn_dtree, w), t.bl_desc = new g(t.bl_tree, y), t.bi_buf = 0, t.bi_valid = 0, N(t)
            },
            U = function(t, i, r, s) {
                var e, u, o = 0;
                t.level > 0 ? (2 === t.strm.data_type && (t.strm.data_type = function(t) {
                    var i, r = 4093624447;
                    for (i = 0; i <= 31; i++, r >>>= 1)
                        if (1 & r && 0 !== t.dyn_ltree[2 * i]) return 0;
                    if (0 !== t.dyn_ltree[18] || 0 !== t.dyn_ltree[20] || 0 !== t.dyn_ltree[26]) return 1;
                    for (i = 32; i < n; i++)
                        if (0 !== t.dyn_ltree[2 * i]) return 1;
                    return 0
                }(t)), _(t, t.l_desc), _(t, t.d_desc), o = function(t) {
                    var n;
                    for (L(t, t.dyn_ltree, t.l_desc.max_code), L(t, t.dyn_dtree, t.d_desc.max_code), _(t, t.bl_desc), n = 18; n >= 3 && 0 === t.bl_tree[2 * h[n] + 1]; n--);
                    return t.opt_len += 3 * (n + 1) + 5 + 5 + 4, n
                }(t), e = t.opt_len + 3 + 7 >>> 3, (u = t.static_len + 3 + 7 >>> 3) <= e && (e = u)) : e = u = r + 5, r + 4 <= e && -1 !== i ? M(t, i, r, s) : 4 === t.strategy || u === e ? (S(t, 2 + (s ? 1 : 0), 3), C(t, c, a)) : (S(t, 4 + (s ? 1 : 0), 3), function(t, n, i, r) {
                    var s;
                    for (S(t, n - 257, 5), S(t, i - 1, 5), S(t, r - 4, 4), s = 0; s < r; s++) S(t, t.bl_tree[2 * h[s] + 1], 3);
                    x(t, t.dyn_ltree, n - 1), x(t, t.dyn_dtree, i - 1)
                }(t, t.l_desc.max_code + 1, t.d_desc.max_code + 1, o + 1), C(t, t.dyn_ltree, t.dyn_dtree)), N(t), s && k(t)
            },
            j = function(t, i, r) {
                return t.pending_buf[t.d_buf + 2 * t.last_lit] = i >>> 8 & 255, t.pending_buf[t.d_buf + 2 * t.last_lit + 1] = 255 & i, t.pending_buf[t.l_buf + t.last_lit] = 255 & r, t.last_lit++, 0 === i ? t.dyn_ltree[2 * r]++ : (t.matches++, i--, t.dyn_ltree[2 * (v[r] + n + 1)]++, t.dyn_dtree[2 * A(i)]++), t.last_lit === t.lit_bufsize - 1
            },
            z = function(t) {
                S(t, 2, 3), b(t, 256, c),
                    function(t) {
                        16 === t.bi_valid ? (E(t, t.bi_buf), t.bi_buf = 0, t.bi_valid = 0) : t.bi_valid >= 8 && (t.pending_buf[t.pending++] = 255 & t.bi_buf, t.bi_buf >>= 8, t.bi_valid -= 8)
                    }(t)
            },
            q = {
                _tr_init: D,
                _tr_stored_block: M,
                _tr_flush_block: U,
                _tr_tally: j,
                _tr_align: z
            },
            B = function(t, n, i, r) {
                for (var s = 65535 & t | 0, e = t >>> 16 & 65535 | 0, u = 0; 0 !== i;) {
                    i -= u = i > 2e3 ? 2e3 : i;
                    do {
                        e = e + (s = s + n[r++] | 0) | 0
                    } while (--u);
                    s %= 65521, e %= 65521
                }
                return s | e << 16 | 0
            },
            H = new Uint32Array(function() {
                for (var t, n = [], i = 0; i < 256; i++) {
                    t = i;
                    for (var r = 0; r < 8; r++) t = 1 & t ? 3988292384 ^ t >>> 1 : t >>> 1;
                    n[i] = t
                }
                return n
            }()),
            F = function(t, n, i, r) {
                var s = H,
                    e = r + i;
                t ^= -1;
                for (var u = r; u < e; u++) t = t >>> 8 ^ s[255 & (t ^ n[u])];
                return -1 ^ t
            },
            G = {
                2: "need dictionary",
                1: "stream end",
                0: "",
                "-1": "file error",
                "-2": "stream error",
                "-3": "data error",
                "-4": "insufficient memory",
                "-5": "buffer error",
                "-6": "incompatible version"
            },
            V = 0,
            J = 2,
            W = 3,
            K = 4,
            Y = 0,
            X = 1,
            $ = -1,
            Z = 0,
            Q = 8,
            tt = q._tr_init,
            nt = q._tr_stored_block,
            it = q._tr_flush_block,
            rt = q._tr_tally,
            st = q._tr_align,
            et = V,
            ut = 1,
            ot = W,
            ht = K,
            ct = 5,
            at = Y,
            ft = X,
            vt = -2,
            lt = -3,
            dt = -5,
            wt = $,
            yt = 1,
            pt = 2,
            mt = 3,
            gt = 4,
            At = Z,
            Et = 2,
            St = Q,
            bt = 258,
            Tt = 262,
            Rt = 103,
            Nt = 113,
            kt = 666,
            Ot = function(t, n) {
                return t.msg = G[n], n
            },
            It = function(t) {
                return (t << 1) - (t > 4 ? 9 : 0)
            },
            Ct = function(t) {
                for (var n = t.length; --n >= 0;) t[n] = 0
            },
            _t = function(t, n, i) {
                return (n << t.hash_shift ^ i) & t.hash_mask
            },
            Lt = function(t) {
                var n = t.state,
                    i = n.pending;
                i > t.avail_out && (i = t.avail_out), 0 !== i && (t.output.set(n.pending_buf.subarray(n.pending_out, n.pending_out + i), t.next_out), t.next_out += i, n.pending_out += i, t.total_out += i, t.avail_out -= i, n.pending -= i, 0 === n.pending && (n.pending_out = 0))
            },
            xt = function(t, n) {
                it(t, t.block_start >= 0 ? t.block_start : -1, t.strstart - t.block_start, n), t.block_start = t.strstart, Lt(t.strm)
            },
            Pt = function(t, n) {
                t.pending_buf[t.pending++] = n
            },
            Mt = function(t, n) {
                t.pending_buf[t.pending++] = n >>> 8 & 255, t.pending_buf[t.pending++] = 255 & n
            },
            Dt = function(t, n) {
                var i, r, s = t.max_chain_length,
                    e = t.strstart,
                    u = t.prev_length,
                    o = t.nice_match,
                    h = t.strstart > t.w_size - Tt ? t.strstart - (t.w_size - Tt) : 0,
                    c = t.window,
                    a = t.w_mask,
                    f = t.prev,
                    v = t.strstart + bt,
                    l = c[e + u - 1],
                    d = c[e + u];
                t.prev_length >= t.good_match && (s >>= 2), o > t.lookahead && (o = t.lookahead);
                do {
                    if (c[(i = n) + u] === d && c[i + u - 1] === l && c[i] === c[e] && c[++i] === c[e + 1]) {
                        e += 2, i++;
                        do {} while (c[++e] === c[++i] && c[++e] === c[++i] && c[++e] === c[++i] && c[++e] === c[++i] && c[++e] === c[++i] && c[++e] === c[++i] && c[++e] === c[++i] && c[++e] === c[++i] && e < v);
                        if (r = bt - (v - e), e = v - bt, r > u) {
                            if (t.match_start = n, u = r, r >= o) break;
                            l = c[e + u - 1], d = c[e + u]
                        }
                    }
                } while ((n = f[n & a]) > h && 0 != --s);
                return u <= t.lookahead ? u : t.lookahead
            },
            Ut = function(t) {
                var n, i, r, s, e, u, o, h, c, a, f = t.w_size;
                do {
                    if (s = t.window_size - t.lookahead - t.strstart, t.strstart >= f + (f - Tt)) {
                        t.window.set(t.window.subarray(f, f + f), 0), t.match_start -= f, t.strstart -= f, t.block_start -= f, n = i = t.hash_size;
                        do {
                            r = t.head[--n], t.head[n] = r >= f ? r - f : 0
                        } while (--i);
                        n = i = f;
                        do {
                            r = t.prev[--n], t.prev[n] = r >= f ? r - f : 0
                        } while (--i);
                        s += f
                    }
                    if (0 === t.strm.avail_in) break;
                    if (u = t.strm, o = t.window, h = t.strstart + t.lookahead, c = s, a = void 0, (a = u.avail_in) > c && (a = c), i = 0 === a ? 0 : (u.avail_in -= a, o.set(u.input.subarray(u.next_in, u.next_in + a), h), 1 === u.state.wrap ? u.adler = B(u.adler, o, a, h) : 2 === u.state.wrap && (u.adler = F(u.adler, o, a, h)), u.next_in += a, u.total_in += a, a), t.lookahead += i, t.lookahead + t.insert >= 3)
                        for (e = t.strstart - t.insert, t.ins_h = t.window[e], t.ins_h = _t(t, t.ins_h, t.window[e + 1]); t.insert && (t.ins_h = _t(t, t.ins_h, t.window[e + 3 - 1]), t.prev[e & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = e, e++, t.insert--, !(t.lookahead + t.insert < 3)););
                } while (t.lookahead < Tt && 0 !== t.strm.avail_in)
            },
            jt = function(t, n) {
                for (var i, r;;) {
                    if (t.lookahead < Tt) {
                        if (Ut(t), t.lookahead < Tt && n === et) return 1;
                        if (0 === t.lookahead) break
                    }
                    if (i = 0, t.lookahead >= 3 && (t.ins_h = _t(t, t.ins_h, t.window[t.strstart + 3 - 1]), i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), 0 !== i && t.strstart - i <= t.w_size - Tt && (t.match_length = Dt(t, i)), t.match_length >= 3)
                        if (r = rt(t, t.strstart - t.match_start, t.match_length - 3), t.lookahead -= t.match_length, t.match_length <= t.max_lazy_match && t.lookahead >= 3) {
                            t.match_length--;
                            do {
                                t.strstart++, t.ins_h = _t(t, t.ins_h, t.window[t.strstart + 3 - 1]), i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart
                            } while (0 != --t.match_length);
                            t.strstart++
                        } else t.strstart += t.match_length, t.match_length = 0, t.ins_h = t.window[t.strstart], t.ins_h = _t(t, t.ins_h, t.window[t.strstart + 1]);
                    else r = rt(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++;
                    if (r && (xt(t, !1), 0 === t.strm.avail_out)) return 1
                }
                return t.insert = t.strstart < 2 ? t.strstart : 2, n === ht ? (xt(t, !0), 0 === t.strm.avail_out ? 3 : 4) : t.last_lit && (xt(t, !1), 0 === t.strm.avail_out) ? 1 : 2
            },
            zt = function(t, n) {
                for (var i, r, s;;) {
                    if (t.lookahead < Tt) {
                        if (Ut(t), t.lookahead < Tt && n === et) return 1;
                        if (0 === t.lookahead) break
                    }
                    if (i = 0, t.lookahead >= 3 && (t.ins_h = _t(t, t.ins_h, t.window[t.strstart + 3 - 1]), i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), t.prev_length = t.match_length, t.prev_match = t.match_start, t.match_length = 2, 0 !== i && t.prev_length < t.max_lazy_match && t.strstart - i <= t.w_size - Tt && (t.match_length = Dt(t, i), t.match_length <= 5 && (t.strategy === yt || 3 === t.match_length && t.strstart - t.match_start > 4096) && (t.match_length = 2)), t.prev_length >= 3 && t.match_length <= t.prev_length) {
                        s = t.strstart + t.lookahead - 3, r = rt(t, t.strstart - 1 - t.prev_match, t.prev_length - 3), t.lookahead -= t.prev_length - 1, t.prev_length -= 2;
                        do {
                            ++t.strstart <= s && (t.ins_h = _t(t, t.ins_h, t.window[t.strstart + 3 - 1]), i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart)
                        } while (0 != --t.prev_length);
                        if (t.match_available = 0, t.match_length = 2, t.strstart++, r && (xt(t, !1), 0 === t.strm.avail_out)) return 1
                    } else if (t.match_available) {
                        if ((r = rt(t, 0, t.window[t.strstart - 1])) && xt(t, !1), t.strstart++, t.lookahead--, 0 === t.strm.avail_out) return 1
                    } else t.match_available = 1, t.strstart++, t.lookahead--
                }
                return t.match_available && (r = rt(t, 0, t.window[t.strstart - 1]), t.match_available = 0), t.insert = t.strstart < 2 ? t.strstart : 2, n === ht ? (xt(t, !0), 0 === t.strm.avail_out ? 3 : 4) : t.last_lit && (xt(t, !1), 0 === t.strm.avail_out) ? 1 : 2
            };

        function qt(t, n, i, r, s) {
            this.good_length = t, this.max_lazy = n, this.nice_length = i, this.max_chain = r, this.func = s
        }
        var Bt = [new qt(0, 0, 0, 0, (function(t, n) {
            var i = 65535;
            for (i > t.pending_buf_size - 5 && (i = t.pending_buf_size - 5);;) {
                if (t.lookahead <= 1) {
                    if (Ut(t), 0 === t.lookahead && n === et) return 1;
                    if (0 === t.lookahead) break
                }
                t.strstart += t.lookahead, t.lookahead = 0;
                var r = t.block_start + i;
                if ((0 === t.strstart || t.strstart >= r) && (t.lookahead = t.strstart - r, t.strstart = r, xt(t, !1), 0 === t.strm.avail_out)) return 1;
                if (t.strstart - t.block_start >= t.w_size - Tt && (xt(t, !1), 0 === t.strm.avail_out)) return 1
            }
            return t.insert = 0, n === ht ? (xt(t, !0), 0 === t.strm.avail_out ? 3 : 4) : (t.strstart > t.block_start && (xt(t, !1), t.strm.avail_out), 1)
        })), new qt(4, 4, 8, 4, jt), new qt(4, 5, 16, 8, jt), new qt(4, 6, 32, 32, jt), new qt(4, 4, 16, 16, zt), new qt(8, 16, 32, 32, zt), new qt(8, 16, 128, 128, zt), new qt(8, 32, 128, 256, zt), new qt(32, 128, 258, 1024, zt), new qt(32, 258, 258, 4096, zt)];

        function Ht() {
            this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = St, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new Uint16Array(1146), this.dyn_dtree = new Uint16Array(122), this.bl_tree = new Uint16Array(78), Ct(this.dyn_ltree), Ct(this.dyn_dtree), Ct(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new Uint16Array(16), this.heap = new Uint16Array(573), Ct(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new Uint16Array(573), Ct(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0
        }
        var Ft = function(t) {
                if (!t || !t.state) return Ot(t, vt);
                t.total_in = t.total_out = 0, t.data_type = Et;
                var n = t.state;
                return n.pending = 0, n.pending_out = 0, n.wrap < 0 && (n.wrap = -n.wrap), n.status = n.wrap ? 42 : Nt, t.adler = 2 === n.wrap ? 0 : 1, n.last_flush = et, tt(n), at
            },
            Gt = function(t) {
                var n = Ft(t);
                return n === at && function(t) {
                    t.window_size = 2 * t.w_size, Ct(t.head), t.max_lazy_match = Bt[t.level].max_lazy, t.good_match = Bt[t.level].good_length, t.nice_match = Bt[t.level].nice_length, t.max_chain_length = Bt[t.level].max_chain, t.strstart = 0, t.block_start = 0, t.lookahead = 0, t.insert = 0, t.match_length = t.prev_length = 2, t.match_available = 0, t.ins_h = 0
                }(t.state), n
            },
            Vt = function(t, n, i, r, s, e) {
                if (!t) return vt;
                var u = 1;
                if (n === wt && (n = 6), r < 0 ? (u = 0, r = -r) : r > 15 && (u = 2, r -= 16), s < 1 || s > 9 || i !== St || r < 8 || r > 15 || n < 0 || n > 9 || e < 0 || e > gt) return Ot(t, vt);
                8 === r && (r = 9);
                var o = new Ht;
                return t.state = o, o.strm = t, o.wrap = u, o.gzhead = null, o.w_bits = r, o.w_size = 1 << o.w_bits, o.w_mask = o.w_size - 1, o.hash_bits = s + 7, o.hash_size = 1 << o.hash_bits, o.hash_mask = o.hash_size - 1, o.hash_shift = ~~((o.hash_bits + 3 - 1) / 3), o.window = new Uint8Array(2 * o.w_size), o.head = new Uint16Array(o.hash_size), o.prev = new Uint16Array(o.w_size), o.lit_bufsize = 1 << s + 6, o.pending_buf_size = 4 * o.lit_bufsize, o.pending_buf = new Uint8Array(o.pending_buf_size), o.d_buf = 1 * o.lit_bufsize, o.l_buf = 3 * o.lit_bufsize, o.level = n, o.strategy = e, o.method = i, Gt(t)
            },
            Jt = function(t, n) {
                var i, r;
                if (!t || !t.state || n > ct || n < 0) return t ? Ot(t, vt) : vt;
                var s = t.state;
                if (!t.output || !t.input && 0 !== t.avail_in || s.status === kt && n !== ht) return Ot(t, 0 === t.avail_out ? dt : vt);
                s.strm = t;
                var e = s.last_flush;
                if (s.last_flush = n, 42 === s.status)
                    if (2 === s.wrap) t.adler = 0, Pt(s, 31), Pt(s, 139), Pt(s, 8), s.gzhead ? (Pt(s, (s.gzhead.text ? 1 : 0) + (s.gzhead.hcrc ? 2 : 0) + (s.gzhead.extra ? 4 : 0) + (s.gzhead.name ? 8 : 0) + (s.gzhead.comment ? 16 : 0)), Pt(s, 255 & s.gzhead.time), Pt(s, s.gzhead.time >> 8 & 255), Pt(s, s.gzhead.time >> 16 & 255), Pt(s, s.gzhead.time >> 24 & 255), Pt(s, 9 === s.level ? 2 : s.strategy >= pt || s.level < 2 ? 4 : 0), Pt(s, 255 & s.gzhead.os), s.gzhead.extra && s.gzhead.extra.length && (Pt(s, 255 & s.gzhead.extra.length), Pt(s, s.gzhead.extra.length >> 8 & 255)), s.gzhead.hcrc && (t.adler = F(t.adler, s.pending_buf, s.pending, 0)), s.gzindex = 0, s.status = 69) : (Pt(s, 0), Pt(s, 0), Pt(s, 0), Pt(s, 0), Pt(s, 0), Pt(s, 9 === s.level ? 2 : s.strategy >= pt || s.level < 2 ? 4 : 0), Pt(s, 3), s.status = Nt);
                    else {
                        var u = St + (s.w_bits - 8 << 4) << 8;
                        u |= (s.strategy >= pt || s.level < 2 ? 0 : s.level < 6 ? 1 : 6 === s.level ? 2 : 3) << 6, 0 !== s.strstart && (u |= 32), u += 31 - u % 31, s.status = Nt, Mt(s, u), 0 !== s.strstart && (Mt(s, t.adler >>> 16), Mt(s, 65535 & t.adler)), t.adler = 1
                    } if (69 === s.status)
                    if (s.gzhead.extra) {
                        for (i = s.pending; s.gzindex < (65535 & s.gzhead.extra.length) && (s.pending !== s.pending_buf_size || (s.gzhead.hcrc && s.pending > i && (t.adler = F(t.adler, s.pending_buf, s.pending - i, i)), Lt(t), i = s.pending, s.pending !== s.pending_buf_size));) Pt(s, 255 & s.gzhead.extra[s.gzindex]), s.gzindex++;
                        s.gzhead.hcrc && s.pending > i && (t.adler = F(t.adler, s.pending_buf, s.pending - i, i)), s.gzindex === s.gzhead.extra.length && (s.gzindex = 0, s.status = 73)
                    } else s.status = 73;
                if (73 === s.status)
                    if (s.gzhead.name) {
                        i = s.pending;
                        do {
                            if (s.pending === s.pending_buf_size && (s.gzhead.hcrc && s.pending > i && (t.adler = F(t.adler, s.pending_buf, s.pending - i, i)), Lt(t), i = s.pending, s.pending === s.pending_buf_size)) {
                                r = 1;
                                break
                            }
                            r = s.gzindex < s.gzhead.name.length ? 255 & s.gzhead.name.charCodeAt(s.gzindex++) : 0, Pt(s, r)
                        } while (0 !== r);
                        s.gzhead.hcrc && s.pending > i && (t.adler = F(t.adler, s.pending_buf, s.pending - i, i)), 0 === r && (s.gzindex = 0, s.status = 91)
                    } else s.status = 91;
                if (91 === s.status)
                    if (s.gzhead.comment) {
                        i = s.pending;
                        do {
                            if (s.pending === s.pending_buf_size && (s.gzhead.hcrc && s.pending > i && (t.adler = F(t.adler, s.pending_buf, s.pending - i, i)), Lt(t), i = s.pending, s.pending === s.pending_buf_size)) {
                                r = 1;
                                break
                            }
                            r = s.gzindex < s.gzhead.comment.length ? 255 & s.gzhead.comment.charCodeAt(s.gzindex++) : 0, Pt(s, r)
                        } while (0 !== r);
                        s.gzhead.hcrc && s.pending > i && (t.adler = F(t.adler, s.pending_buf, s.pending - i, i)), 0 === r && (s.status = Rt)
                    } else s.status = Rt;
                if (s.status === Rt && (s.gzhead.hcrc ? (s.pending + 2 > s.pending_buf_size && Lt(t), s.pending + 2 <= s.pending_buf_size && (Pt(s, 255 & t.adler), Pt(s, t.adler >> 8 & 255), t.adler = 0, s.status = Nt)) : s.status = Nt), 0 !== s.pending) {
                    if (Lt(t), 0 === t.avail_out) return s.last_flush = -1, at
                } else if (0 === t.avail_in && It(n) <= It(e) && n !== ht) return Ot(t, dt);
                if (s.status === kt && 0 !== t.avail_in) return Ot(t, dt);
                if (0 !== t.avail_in || 0 !== s.lookahead || n !== et && s.status !== kt) {
                    var o = s.strategy === pt ? function(t, n) {
                        for (var i;;) {
                            if (0 === t.lookahead && (Ut(t), 0 === t.lookahead)) {
                                if (n === et) return 1;
                                break
                            }
                            if (t.match_length = 0, i = rt(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++, i && (xt(t, !1), 0 === t.strm.avail_out)) return 1
                        }
                        return t.insert = 0, n === ht ? (xt(t, !0), 0 === t.strm.avail_out ? 3 : 4) : t.last_lit && (xt(t, !1), 0 === t.strm.avail_out) ? 1 : 2
                    }(s, n) : s.strategy === mt ? function(t, n) {
                        for (var i, r, s, e, u = t.window;;) {
                            if (t.lookahead <= bt) {
                                if (Ut(t), t.lookahead <= bt && n === et) return 1;
                                if (0 === t.lookahead) break
                            }
                            if (t.match_length = 0, t.lookahead >= 3 && t.strstart > 0 && (r = u[s = t.strstart - 1]) === u[++s] && r === u[++s] && r === u[++s]) {
                                e = t.strstart + bt;
                                do {} while (r === u[++s] && r === u[++s] && r === u[++s] && r === u[++s] && r === u[++s] && r === u[++s] && r === u[++s] && r === u[++s] && s < e);
                                t.match_length = bt - (e - s), t.match_length > t.lookahead && (t.match_length = t.lookahead)
                            }
                            if (t.match_length >= 3 ? (i = rt(t, 1, t.match_length - 3), t.lookahead -= t.match_length, t.strstart += t.match_length, t.match_length = 0) : (i = rt(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++), i && (xt(t, !1), 0 === t.strm.avail_out)) return 1
                        }
                        return t.insert = 0, n === ht ? (xt(t, !0), 0 === t.strm.avail_out ? 3 : 4) : t.last_lit && (xt(t, !1), 0 === t.strm.avail_out) ? 1 : 2
                    }(s, n) : Bt[s.level].func(s, n);
                    if (3 !== o && 4 !== o || (s.status = kt), 1 === o || 3 === o) return 0 === t.avail_out && (s.last_flush = -1), at;
                    if (2 === o && (n === ut ? st(s) : n !== ct && (nt(s, 0, 0, !1), n === ot && (Ct(s.head), 0 === s.lookahead && (s.strstart = 0, s.block_start = 0, s.insert = 0))), Lt(t), 0 === t.avail_out)) return s.last_flush = -1, at
                }
                return n !== ht ? at : s.wrap <= 0 ? ft : (2 === s.wrap ? (Pt(s, 255 & t.adler), Pt(s, t.adler >> 8 & 255), Pt(s, t.adler >> 16 & 255), Pt(s, t.adler >> 24 & 255), Pt(s, 255 & t.total_in), Pt(s, t.total_in >> 8 & 255), Pt(s, t.total_in >> 16 & 255), Pt(s, t.total_in >> 24 & 255)) : (Mt(s, t.adler >>> 16), Mt(s, 65535 & t.adler)), Lt(t), s.wrap > 0 && (s.wrap = -s.wrap), 0 !== s.pending ? at : ft)
            },
            Wt = function(t, n) {
                var i = n.length;
                if (!t || !t.state) return vt;
                var r = t.state,
                    s = r.wrap;
                if (2 === s || 1 === s && 42 !== r.status || r.lookahead) return vt;
                if (1 === s && (t.adler = B(t.adler, n, i, 0)), r.wrap = 0, i >= r.w_size) {
                    0 === s && (Ct(r.head), r.strstart = 0, r.block_start = 0, r.insert = 0);
                    var e = new Uint8Array(r.w_size);
                    e.set(n.subarray(i - r.w_size, i), 0), n = e, i = r.w_size
                }
                var u = t.avail_in,
                    o = t.next_in,
                    h = t.input;
                for (t.avail_in = i, t.next_in = 0, t.input = n, Ut(r); r.lookahead >= 3;) {
                    var c = r.strstart,
                        a = r.lookahead - 2;
                    do {
                        r.ins_h = _t(r, r.ins_h, r.window[c + 3 - 1]), r.prev[c & r.w_mask] = r.head[r.ins_h], r.head[r.ins_h] = c, c++
                    } while (--a);
                    r.strstart = c, r.lookahead = 2, Ut(r)
                }
                return r.strstart += r.lookahead, r.block_start = r.strstart, r.insert = r.lookahead, r.lookahead = 0, r.match_length = r.prev_length = 2, r.match_available = 0, t.next_in = o, t.input = h, t.avail_in = u, r.wrap = s, at
            },
            Kt = {
                deflateInit: function(t, n) {
                    return Vt(t, n, St, 15, 8, At)
                },
                deflateInit2: Vt,
                deflateReset: Gt,
                deflateResetKeep: Ft,
                deflateSetHeader: function(t, n) {
                    return t && t.state ? 2 !== t.state.wrap ? vt : (t.state.gzhead = n, at) : vt
                },
                deflate: Jt,
                deflateEnd: function(t) {
                    if (!t || !t.state) return vt;
                    var n = t.state.status;
                    return 42 !== n && 69 !== n && 73 !== n && 91 !== n && n !== Rt && n !== Nt && n !== kt ? Ot(t, vt) : (t.state = null, n === Nt ? Ot(t, lt) : at)
                },
                deflateSetDictionary: Wt,
                deflateInfo: "pako deflate (from Nodeca project)"
            },
            Yt = function(t, n) {
                return Object.prototype.hasOwnProperty.call(t, n)
            },
            Xt = {
                assign: function(t) {
                    for (var n = Array.prototype.slice.call(arguments, 1); n.length;) {
                        var i = n.shift();
                        if (i) {
                            if ("object" != typeof i) throw new TypeError(i + "must be non-object");
                            for (var r in i) Yt(i, r) && (t[r] = i[r])
                        }
                    }
                    return t
                },
                flattenChunks: function(t) {
                    for (var n = 0, i = 0, r = t.length; i < r; i++) n += t[i].length;
                    var s = new Uint8Array(n),
                        e = (i = 0, 0);
                    for (r = t.length; i < r; i++) {
                        var u = t[i];
                        s.set(u, e), e += u.length
                    }
                    return s
                }
            },
            $t = !0;
        try {
            String.fromCharCode.apply(null, new Uint8Array(1))
        } catch (t) {
            $t = !1
        }
        for (var Zt = new Uint8Array(256), Qt = 0; Qt < 256; Qt++) Zt[Qt] = Qt >= 252 ? 6 : Qt >= 248 ? 5 : Qt >= 240 ? 4 : Qt >= 224 ? 3 : Qt >= 192 ? 2 : 1;
        Zt[254] = Zt[254] = 1;
        var tn = function(t, n) {
                if (void 0 === n && (n = t.length), n < 65534 && t.subarray && $t) return String.fromCharCode.apply(null, t.length === n ? t : t.subarray(0, n));
                for (var i = "", r = 0; r < n; r++) i += String.fromCharCode(t[r]);
                return i
            },
            nn = {
                string2buf: function(t) {
                    if ("function" == typeof TextEncoder && TextEncoder.prototype.encode) return (new TextEncoder).encode(t);
                    var n, i, r, s, e, u = t.length,
                        o = 0;
                    for (s = 0; s < u; s++) 55296 == (64512 & (i = t.charCodeAt(s))) && s + 1 < u && 56320 == (64512 & (r = t.charCodeAt(s + 1))) && (i = 65536 + (i - 55296 << 10) + (r - 56320), s++), o += i < 128 ? 1 : i < 2048 ? 2 : i < 65536 ? 3 : 4;
                    for (n = new Uint8Array(o), e = 0, s = 0; e < o; s++) 55296 == (64512 & (i = t.charCodeAt(s))) && s + 1 < u && 56320 == (64512 & (r = t.charCodeAt(s + 1))) && (i = 65536 + (i - 55296 << 10) + (r - 56320), s++), i < 128 ? n[e++] = i : i < 2048 ? (n[e++] = 192 | i >>> 6, n[e++] = 128 | 63 & i) : i < 65536 ? (n[e++] = 224 | i >>> 12, n[e++] = 128 | i >>> 6 & 63, n[e++] = 128 | 63 & i) : (n[e++] = 240 | i >>> 18, n[e++] = 128 | i >>> 12 & 63, n[e++] = 128 | i >>> 6 & 63, n[e++] = 128 | 63 & i);
                    return n
                },
                buf2string: function(t, n) {
                    var i, r, s = n || t.length;
                    if ("function" == typeof TextDecoder && TextDecoder.prototype.decode) return (new TextDecoder).decode(t.subarray(0, n));
                    var e = new Array(2 * s);
                    for (r = 0, i = 0; i < s;) {
                        var u = t[i++];
                        if (u < 128) e[r++] = u;
                        else {
                            var o = Zt[u];
                            if (o > 4) e[r++] = 65533, i += o - 1;
                            else {
                                for (u &= 2 === o ? 31 : 3 === o ? 15 : 7; o > 1 && i < s;) u = u << 6 | 63 & t[i++], o--;
                                o > 1 ? e[r++] = 65533 : u < 65536 ? e[r++] = u : (u -= 65536, e[r++] = 55296 | u >> 10 & 1023, e[r++] = 56320 | 1023 & u)
                            }
                        }
                    }
                    return tn(e, r)
                },
                utf8border: function(t, n) {
                    (n = n || t.length) > t.length && (n = t.length);
                    for (var i = n - 1; i >= 0 && 128 == (192 & t[i]);) i--;
                    return i < 0 || 0 === i ? n : i + Zt[t[i]] > n ? i : n
                }
            };
        var rn = function() {
                this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0
            },
            sn = Object.prototype.toString,
            en = V,
            un = J,
            on = W,
            hn = K,
            cn = Y,
            an = X,
            fn = $,
            vn = Z,
            ln = Q;

        function dn(t) {
            this.options = Xt.assign({
                level: fn,
                method: ln,
                chunkSize: 16384,
                windowBits: 15,
                memLevel: 8,
                strategy: vn
            }, t || {});
            var n = this.options;
            n.raw && n.windowBits > 0 ? n.windowBits = -n.windowBits : n.gzip && n.windowBits > 0 && n.windowBits < 16 && (n.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new rn, this.strm.avail_out = 0;
            var i = Kt.deflateInit2(this.strm, n.level, n.method, n.windowBits, n.memLevel, n.strategy);
            if (i !== cn) throw new Error(G[i]);
            if (n.header && Kt.deflateSetHeader(this.strm, n.header), n.dictionary) {
                var r = void 0;
                if (r = "string" == typeof n.dictionary ? nn.string2buf(n.dictionary) : "[object ArrayBuffer]" === sn.call(n.dictionary) ? new Uint8Array(n.dictionary) : n.dictionary, (i = Kt.deflateSetDictionary(this.strm, r)) !== cn) throw new Error(G[i]);
                this._dict_set = !0
            }
        }

        function wn(t, n) {
            return (n = n || {}).gzip = !0,
                function(t, n) {
                    var i = new dn(n = n || {});
                    if (i.push(t, !0), i.err) throw i.msg || G[i.err];
                    return i.result
                }(t, n)
        }
        return dn.prototype.push = function(t, n) {
                var i, r, s = this.strm,
                    e = this.options.chunkSize;
                if (this.ended) return !1;
                for (r = n === ~~n ? n : !0 === n ? hn : en, "string" == typeof t ? s.input = nn.string2buf(t) : "[object ArrayBuffer]" === sn.call(t) ? s.input = new Uint8Array(t) : s.input = t, s.next_in = 0, s.avail_in = s.input.length;;)
                    if (0 === s.avail_out && (s.output = new Uint8Array(e), s.next_out = 0, s.avail_out = e), (r === un || r === on) && s.avail_out <= 6) this.onData(s.output.subarray(0, s.next_out)), s.avail_out = 0;
                    else {
                        if ((i = Kt.deflate(s, r)) === an) return s.next_out > 0 && this.onData(s.output.subarray(0, s.next_out)), i = Kt.deflateEnd(this.strm), this.onEnd(i), this.ended = !0, i === cn;
                        if (0 !== s.avail_out) {
                            if (r > 0 && s.next_out > 0) this.onData(s.output.subarray(0, s.next_out)), s.avail_out = 0;
                            else if (0 === s.avail_in) break
                        } else this.onData(s.output)
                    } return !0
            }, dn.prototype.onData = function(t) {
                this.chunks.push(t)
            }, dn.prototype.onEnd = function(t) {
                t === cn && (this.result = Xt.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg
            },
            function(t, n, i) {
                var r = wn(t);
                return r = "base64" === n ? btoa(tn(r)) : r.buffer, i && i(r), r
            }
    }
    rh.init();
    var eh = function(t) {
        function n(n) {
            var i = t.call(this, n) || this;
            return i.algorithm = un.GZIP, i.Ww = sh(), i.Kw = function(t, n, r) {
                r(i.Ww(t, n))
            }, i.compress = uh(), "undefined" != typeof CompressionStream && ri || (i.compress = i.Kw, i.getCompressorSourceCode = function() {
                return sh.toString()
            }), i
        }
        return H(n, t), n.prototype.compressSync = function(t, n) {
            return this.Ww(t, n)
        }, n.prototype.getCompressorSourceCode = function() {
            return uh.toString()
        }, n
    }(dn);

    function uh() {
        return function(t, n, i) {
            var r = new Response(t).body.pipeThrough(new CompressionStream("gzip")),
                s = new Response(r).arrayBuffer();
            "base64" !== n ? s.then((function(t) {
                return i(t)
            })) : s.then((function(t) {
                return n = t, new Promise((function(t) {
                    var i = new FileReader;
                    i.onload = function(n) {
                        return t(n.target.result.split(",")[1])
                    }, i.readAsDataURL(new Blob([n]))
                }));
                var n
            })).then((function(t) {
                return i(t)
            }))
        }
    }
    var oh, hh, ch = function(t) {
            function n() {
                var n = null !== t && t.apply(this, arguments) || this;
                return n.algorithm = un.UNCOMPRESSED, n
            }
            return H(n, t), n.prototype.compress = function(t, n, i) {
                i(this.compressSync(t, n))
            }, n.prototype.compressSync = function(t, n) {
                return t
            }, n.prototype.getCompressorSourceCode = function() {
                return function() {
                    return function(t, n, i) {
                        return i(t)
                    }
                }.toString()
            }, n
        }(dn),
        ah = function() {
            function t() {}
            return t.create = function(t) {
                return this.instance ? this.instance : rh.isCompressionEnabled() ? this.instance = new eh(t) : new ch(t)
            }, t
        }(),
        fh = function() {
            function t() {}
            return t.prototype.setItem = function(t, n) {
                window.sessionStorage.setItem(t, n)
            }, t.prototype.getItem = function(t) {
                return window.sessionStorage.getItem(t)
            }, t.prototype.removeItem = function(t) {
                window.sessionStorage.removeItem(t)
            }, t
        }(),
        vh = function() {
            function t() {}
            return t.prototype.setItem = function(t, n) {
                window.localStorage.setItem(t, n)
            }, t.prototype.getItem = function(t) {
                return window.localStorage.getItem(t)
            }, t.prototype.removeItem = function(t) {
                window.localStorage.removeItem(t)
            }, t
        }(),
        lh = ["visit", 2],
        dh = ["page", 3],
        wh = ["nextPageOnly", 4],
        yh = function() {
            function t(t, n) {
                this.M = t, this.ud = n, this.Yw = {}, this.Xw = {}
            }
            return t.prototype.set = function(t, n, i, r) {
                var s, e;
                if (t > 0 && Rt(n) && Rt(i) && !Nt(n) && !Nt(i)) {
                    var u = this.M.anonymizeEmail(csString(n)),
                        o = this.M.anonymizeEmail(csString(i));
                    if (s = [u.slice(0, 512), o.slice(0, 255)], e = "" !== i, !Tt(r) || csArray.prototype.indexOf.call(lh, r) >= 0) {
                        var h = this.getCustomVariablesSession();
                        e ? h[t] = s : delete h[t], this.setCustomVariableSession(h)
                    }(!Tt(r) || csArray.prototype.indexOf.call(dh, r) >= 0) && (e ? this.Yw[t] = s : delete this.Yw[t]), Tt(r) && csArray.prototype.indexOf.call(wh, r) >= 0 && (e ? this.Xw[t] = s : delete this.Xw[t])
                }
            }, t.prototype.getCustomVariablesSession = function() {
                var t = this.ud.get();
                if (!t) return {};
                var n = window.csJSON.parse(t);
                return null !== n && bt(n) ? n : {}
            }, t.prototype.setCustomVariableSession = function(t) {
                this.ud.set(window.csJSON.stringify(t))
            }, t.prototype.removeCustomVariablesSession = function() {
                this.ud.remove()
            }, t.prototype.getRequestParameters = function() {
                var t = this.getCustomVariablesSession();
                for (var n in this.Xw) this.Xw.hasOwnProperty(n) && (this.Yw[n] = this.Xw[n]);
                for (var n in this.Yw) this.Yw.hasOwnProperty(n) && (t[n] = this.Yw[n]);
                if (window.csJSON.stringify(t).length <= 2) return {};
                var i = {
                    cvars: this.$w(t)
                };
                return this.Yw && window.csJSON.stringify(this.Yw).length > 2 && (i.cvarp = this.$w(this.Yw)), i
            }, t.prototype.deleteNextPageOnlyCustomVariables = function() {
                if (Object.keys(this.Xw).length > 0)
                    for (var t in this.Xw) this.Xw[t] === this.Yw[t] && (delete this.Yw[t], delete this.Xw[t])
            }, t.prototype.$w = function(t) {
                for (var n in t)
                    if (t.hasOwnProperty(n)) {
                        var i = parseInt(n, 10),
                            r = t[n],
                            s = r[0],
                            e = r[1];
                        o = 1, h = 20, (!(Et(u = i) && u >= o && u <= h) || s.length > 512 || e.length > 255) && delete t[n]
                    } var u, o, h, c = function(t) {
                    var n;
                    for (n in t) return !1;
                    return !0
                }(t) ? [] : t;
                return window.csJSON.stringify(c)
            }, t
        }(),
        ph = ["setCustomVariable"],
        mh = function() {
            function t(t, n) {
                this.oh = t, this.Qt = n
            }
            return t.prototype.init = function() {
                var t = this;
                this.oh.register(ph, (function(n, i, r, s) {
                    t.Qt.set(n, i, r, s)
                }))
            }, t.prototype.onAfterArtificialPageView = function() {
                this.Qt.deleteNextPageOnlyCustomVariables()
            }, t.prototype.onAfterNaturalPageView = function() {
                this.Qt.deleteNextPageOnlyCustomVariables()
            }, t.prototype.onOptout = function() {
                this.Qt.removeCustomVariablesSession()
            }, t
        }(),
        gh = function() {
            function t(t) {
                this.M = t
            }
            return t.prototype.getUrlMaskingPattern = function(n) {
                for (var i = [], r = 0, s = csString.prototype.split.call(n, "/"); r < s.length; r++) {
                    var e = s[r];
                    X(e, t.Zw) ? csArray.prototype.push.call(i, {
                        key: e,
                        value: "CS_ANONYMIZED_".concat(csString.prototype.toUpperCase.call(csString.prototype.slice.call(e, 1)))
                    }) : csArray.prototype.push.call(i, {
                        key: e,
                        value: null
                    })
                }
                return i
            }, t.prototype.anonymizeUrl = function(t, n) {
                var i = this.M.anonymizeEmail(t);
                return i = this.M.anonymizeJwt(i), n.length > 0 ? this.Qw(i, n) : i
            }, t.prototype.removeQueryString = function(t) {
                var n = this.ty(t),
                    i = n.path;
                return "" !== n.queryString ? "".concat(i, "?") : i
            }, t.prototype.ty = function(t) {
                var n = csString.prototype.indexOf.call(t, "?"),
                    i = "",
                    r = "";
                return -1 !== n ? (i = csString.prototype.slice.call(t, 0, n), r = csString.prototype.slice.call(t, n, t.length)) : i = t, {
                    path: i,
                    queryString: r
                }
            }, t.prototype.Qw = function(t, n) {
                for (var i = this.ty(t), r = i.path, s = i.queryString, e = csString.prototype.split.call(r, "/"), u = 0, o = n; u < o.length; u++) {
                    var h = o[u],
                        c = this.ny(e, h);
                    if (null !== c) return "".concat(c).concat(s)
                }
                return t
            }, t.prototype.ny = function(n, i) {
                if (n.length < i.length) return null;
                for (var r = "", s = 0; s < n.length; s += 1)
                    if (s >= i.length) r += "".concat(n[s], "/");
                    else if (X(i[s].key, t.Zw)) r += "".concat(i[s].value, "/");
                else {
                    if (n[s] !== i[s].key) return null;
                    r += "".concat(n[s], "/")
                }
                return csString.prototype.slice.call(r, 0, -1)
            }, t.Zw = ":", t
        }(),
        Ah = function() {
            function t(t, n) {
                this.ec = t, this.P = n
            }
            return t.prototype.getEventTargetPath = function(t) {
                var n = ti(t);
                return this.ec.getElementPath(n, F({
                    dynamicIdRegex: this.P.dynamicIdRegex
                }, this.P.pathComputationRules))
            }, t.prototype.getEventTargetPathAndTargetLink = function(t) {
                var n = ti(t),
                    i = this.ec.getElementPathAndFirstAnchorParent(n, F({
                        dynamicIdRegex: this.P.dynamicIdRegex
                    }, this.P.pathComputationRules)),
                    r = i.path,
                    s = i.firstAnchorParent;
                return {
                    path: r,
                    targetLink: this.iy(s) ? s.href : ""
                }
            }, t.prototype.hasValidEventTarget = function(t) {
                var n = ti(t);
                return this.ec.isValidElement(n)
            }, t.prototype.getElementPath = function(t) {
                return this.ec.getElementPath(t, F({
                    dynamicIdRegex: this.P.dynamicIdRegex
                }, this.P.pathComputationRules))
            }, t.prototype.iy = function(t) {
                var n;
                return null !== t && t.hasAttribute("href") && !X(null !== (n = t.getAttribute("href")) && void 0 !== n ? n : "", "#")
            }, t
        }(),
        Eh = function() {
            function t(t) {
                this.ia = t
            }
            return t.prototype.transformEvent = function(t, n) {
                var i = this.sy(t, n),
                    r = this.ia.getElementPath(t);
                return this.ey(r, i)
            }, t.prototype.sy = function(t, n) {
                if (function(t) {
                        return void 0 !== t.x && void 0 !== t.y
                    }(n)) {
                    var i = t.getBoundingClientRect();
                    n.x = Math.round(i.left + n.x + ai.windowOffsetX()), n.y = Math.round(i.top + n.y + ai.windowOffsetY())
                }
                return n
            }, t.prototype.ey = function(t, n) {
                return Ps(n) && (n.tgt = "".concat(t).concat(nh).concat(n.tgt)),
                    function(t) {
                        return void 0 !== t.tgtHM
                    }(n) && (n.tgtHM = "".concat(t).concat(nh).concat(n.tgtHM)),
                    function(t) {
                        return void 0 !== t.tgtLk
                    }(n) && (n.tgtLk = "".concat(t).concat(nh).concat(n.tgtLk)), n
            }, t
        }(),
        Sh = function() {
            function t(t) {
                this.ia = t
            }
            return t.prototype.transformEvent = function(t, n) {
                var i = this.ia.getElementPath(t);
                return {
                    iframePath: n.iframePath ? "".concat(i).concat(nh).concat(n.iframePath) : i,
                    commands: n.commands
                }
            }, t
        }(),
        bh = function() {
            function t(t) {
                this.ia = t
            }
            return t.prototype.transformEvent = function(t, n) {
                if (0 === n.products.length) return n;
                var i = this.ia.getElementPath(t),
                    r = csArray.prototype.map.call(n.products, (function(t) {
                        return F(F({}, t), {
                            targetPath: "".concat(i).concat(nh).concat(t.targetPath)
                        })
                    }));
                return F(F({}, n), {
                    products: r
                })
            }, t
        }(),
        Th = function() {
            function t(t) {
                this.Ln = t, this.uy = {
                    clientX: 2,
                    clientY: 3
                }, this.oy = {
                    clientX: 1,
                    clientY: 2
                }, this.hy = [Mn.POINTER_DOWN, Mn.POINTER_MOVE, Mn.POINTER_UP], this.vy = [Mn.TOUCH_START, Mn.TOUCH_MOVE, Mn.TOUCH_END]
            }
            return t.prototype.transformEvents = function(t, n) {
                var i = this;
                if (!fi.isConnected(t)) return n.events = csArray.prototype.filter.call(n.events, (function(t) {
                    return t.type !== Mn.VISIBILITY_CHANGE
                })), 0 === n.events.length || (Kt.warn("IframeRecordingEventsTransformer received event ".concat(Ht.RecordingEvent, "\n        from disconnected iframe, content:").concat(csJSON.stringify(n.events))), n.events = []), n;
                var r = this.Ln.getId(t);
                if (void 0 === r) return Kt.error("IframeRecordingEventsTransformer received event ".concat(Ht.RecordingEvent, "\n        from unidentified iframe, content:").concat(csJSON.stringify(n.events))), n.events = [], n;
                var s = null;
                csArray.prototype.some.call(n.events, (function(t) {
                    return i.ly(t) || i.wy(t)
                })) && (s = t.getBoundingClientRect());
                for (var e = 0, u = n.events; e < u.length; e++) {
                    var o = u[e];
                    this.ly(o) ? this.yy(s, o) : this.wy(o) && this.py(s, o), o.context = o.context && o.context.length > 0 ? "".concat(r, "/").concat(o.context) : "".concat(r)
                }
                return n
            }, t.prototype.py = function(t, n) {
                this.my(this.oy, t, n)
            }, t.prototype.yy = function(t, n) {
                this.my(this.uy, t, n)
            }, t.prototype.my = function(t, n, i) {
                i.args && (i.args[t.clientX] = Math.round(n.left + i.args[t.clientX]), i.args[t.clientY] = Math.round(n.top + i.args[t.clientY]))
            }, t.prototype.ly = function(t) {
                return -1 !== csArray.prototype.indexOf.call(this.hy, t.type)
            }, t.prototype.wy = function(t) {
                return -1 !== csArray.prototype.indexOf.call(this.vy, t.type)
            }, t
        }(),
        Rh = function() {
            function t(t) {
                this.gy = t
            }
            return t.prototype.start = function() {
                var t = this;
                this.gy.onEvent((function(n) {
                    return t.gr(n)
                })), this.gy.start()
            }, t.prototype.stop = function() {
                this.gy.stop()
            }, t.prototype.gr = function(t) {
                var n = "Content Security Policy error. Violated directive: ".concat(t.violatedDirective, " - Source file: ").concat(t.sourceFile);
                Kt.warn(n)
            }, t
        }(),
        Nh = function() {
            function t() {
                var t = this;
                this.Na = {
                    boundElement: document,
                    type: "securitypolicyviolation",
                    listener: function(n) {
                        return t.securityPolicyViolationListener(n)
                    }
                }
            }
            return t.prototype.start = function() {
                qn(this.Na)
            }, t.prototype.stop = function() {
                Bn(this.Na)
            }, t.prototype.onEvent = function(t) {
                this.bi = t
            }, t.prototype.Ay = function(n) {
                if (!n) return !1;
                var i = n.disposition;
                return St(n.sourceFile) && csArray.prototype.some.call(t.Ey, (function(t) {
                    return csString.prototype.indexOf.call(n.sourceFile, t) > 0
                })) && "report" !== i
            }, t.prototype.securityPolicyViolationListener = function(t) {
                this.Ay(t) && this.bi({
                    violatedDirective: t.violatedDirective,
                    sourceFile: t.sourceFile
                })
            }, t.Ey = ["contentsquare", "cdnssl.clicktale.net", "localhost", "website.com/build/e2e"], G([tn("Event handler type: securitypolicyviolation")], t.prototype, "securityPolicyViolationListener", null), t
        }(),
        kh = function() {
            function t() {}
            return t.prototype.init = function() {
                this.Sy = new Rh(new Nh), this.Sy.start()
            }, t.prototype.onOptout = function() {
                this.Sy.stop()
            }, t
        }(),
        Oh = function() {
            function t(t, n, i, r) {
                this.P = t, this.Z = n, this.D = i, this.Ws = r
            }
            return t.prototype.init = function() {
                var t, n, i, r, s, e, u, o, h, c, a, f, v, l, d, w, y, p, m, g, A, E, S, b, T, R, N, k, O, I, C, _, L, x, P = this;
                this.Ws.schedule((function() {
                    t = new po(P.Ws), n = new lt, i = new gh(n), s = new Qo(window.location, i), (r = new nn(P.P, s, P.Z)).init()
                })), this.Ws.schedule((function() {
                    if (e = new fh, u = new vh, m = new xo(window.location, r), (h = new Wo(P.P, r)).init(), (new kh).init(), g = ah.create(Kt.warn), p = new yn(g), P.P.useMalkaPipeline) {
                        var n = p.create("".concat(P.P.getQuotaServiceUri(), "/quota"), !0);
                        (a = new fo(P.P, n, t, m, s)).init()
                    } else a = new ao(P.P, m, s)
                })), this.Ws.schedule((function() {
                    o = new kn(P.P, r, h, e), c = new vo(o, a)
                })), this.Ws.schedule((function() {
                    f = new An(P.P, r, h, e), v = new ho(P.P, f, c), P.D.setContext(v, c), a.setVisitorService(v)
                })), this.Ws.schedule((function() {
                    l = new wo(v, c), d = new Ln(P.P, r, h, e), w = new No(window.location, d), y = new ko(w), E = new lo(P.P, v, w);
                    var t = new _i;
                    L = new Ah(U, P.P), k = new Eh(L), O = new Sh(L), I = new bh(L), C = new Th(t), _ = new ih(k, O, I, C), N = new Vo([Fo.UXA]), S = new Ho(N, _), b = new Io(s), T = new _o(b, N);
                    var i = new Pn(P.P, r, h, e);
                    x = new yh(n, i), R = new mh(N, x);
                    var u = new pn(v, c, w, x, P.P),
                        o = new zn,
                        a = new jn(o, window.location);
                    A = new Bo(P.P, u, a);
                    var f = new Ko(P.P, o);
                    h.setStates(u, f)
                })), this.Ws.schedule((function() {
                    new uo(P.P, v, w, E, l, A, h, m).compute((function(e) {
                        P.Ws.schedule((function() {
                            S.init();
                            var o = new th,
                                h = new Ao(P.P, r, u),
                                a = new To(P.P, h, t),
                                f = new bo(N, a),
                                l = new Mo(P.P, r, u),
                                d = new Do(t, window.location, l),
                                w = new zo(N, d),
                                m = new Xo(N, P.P),
                                A = new Yo(P.P, v, c);
                            e ? (t.emitInitTracking(), new eo(A, g, v, c, t, N, S, P.P, w, d, f, a, n, L, i, s, m, o, _, x, R, b, T, P.Ws, p).start()) : new Ro(t, N, S, w, d, y, f).start()
                        }))
                    }))
                }))
            }, t
        }();
    ! function(t) {
        var n, i = "{domain}/tag/bridge.html?v={version}#{token}",
            r = {
                loadBundle: function(t) {
                    var o = t.source,
                        h = t.data;
                    if (e(h)) {
                        var f = function() {
                            var n, i, r, e = s("{domain}/tag/tag.bundle.js?v={version}", h);
                            n = e, i = function() {
                                return o.postMessage("csBundleLoaded", t.origin)
                            }, (r = document.createElement("script")).type = "text/javascript", r.async = !0, r.src = n, r.onload = i, r.charset = "utf-8", document.head.appendChild(r)
                        };
                        n = h.token, a(r.loadBundle), u(t.origin) ? f() : function(t, n) {
                            var r = s(i, t),
                                e = function(t) {
                                    var n = document.createElement("iframe");
                                    return n.src = t, n.id = "content-square-bridge", n.setAttribute("style", "display: none !important; visibility: hidden !important;"), n
                                }(r),
                                u = function(t) {
                                    t.source === e.contentWindow && "TOKEN_VALID" === t.data && (a(u), e.remove(), n())
                                };
                            c(u), document.head.appendChild(e)
                        }(h, f)
                    }
                }
            };

        function s(t, n) {
            return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(t, "{version}", n.version), "{token}", n.token), "{domain}", n.domain)
        }

        function e(t) {
            return t && "csBundleInjection" === t.type && u(t.domain) && h(t.version) && o(t.token)
        }

        function u(t) {
            return /^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com)$/.test(t)
        }

        function o(t) {
            return /^[a-zA-Z0-9]+$/.test(t)
        }

        function h(t) {
            return /^[a-zA-Z0-9\.]+$/.test(t)
        }

        function c(t) {
            window.addEventListener("message", t, !1)
        }

        function a(t) {
            window.removeEventListener("message", t, !1)
        }
        t.getToken = function() {
            return n
        }, t.isAuthorizedIncomingMessage = e, t.isAuthorizedDomain = u, t.isAuthorizedToken = o, t.isAuthorizedTagVersion = h, t.isActivable = function() {
            var t = window.opener || window.parent;
            return window !== t && window.addEventListener
        }, t.waitForBundleInjection = function() {
            c(r.loadBundle)
        }, t.listen = c, t.removeListener = a
    }(oh || (oh = {})),
    function(t) {
        var n, i = window.opener || window.parent,
            r = [/^https:\/\/app\.contentsquare\.com$/, /^https:\/\/dev-app\.contentsquare\.com$/, /^https:\/\/staging-app\.contentsquare\.com$/, /^https:\/\/.*\.test\.contentsquare\.com$/],
            s = {
                ping: function(t) {
                    "ping" === t.data && e(t.origin) && (n = t.origin, h(s.ping), o(s.insertMessageScript), u("".concat("utils.js", "?cb=").concat((new csDate).getTime())))
                },
                insertMessageScript: c((function(t) {
                    var n = t.data;
                    "string" == typeof n && "ping" !== n && (h(s.insertMessageScript), u(n))
                }))
            };

        function e(t) {
            return csArray.prototype.some.call(r, (function(n) {
                return n.test(t)
            }))
        }

        function u(t, i) {
            var r = document.createElement("script");
            r.type = "text/javascript", r.async = !0;
            var s = csString.prototype.replace.call(n, /^https?:/, "");
            r.src = "".concat(s, "/").concat("tag", "/").concat(t), r.onload = i, r.charset = "utf-8", document.getElementsByTagName("head")[0].appendChild(r)
        }

        function o(t) {
            window.addEventListener("message", t, !1)
        }

        function h(t) {
            window.removeEventListener("message", t, !1)
        }

        function c(t) {
            return function(i) {
                i.origin === n && t(i)
            }
        }
        t.getToken = function() {
            return oh.getToken()
        }, t.isActivable = function() {
            return window !== i && window.addEventListener
        }, t.isAuthorizedDomain = e, t.waitForConnection = function() {
            o(s.ping), oh.waitForBundleInjection()
        }, t.listen = o, t.removeListener = h, t.secureListener = c, t.post = function(t) {
            n && i.postMessage(t, n)
        }
    }(hh || (hh = {}));
    var Ih, Ch = window.CSFrameCommunication || hh,
        _h = function(t) {
            function n() {
                return null !== t && t.apply(this, arguments) || this
            }
            return H(n, t), n.prototype.emitTrackingContextResultMessage = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onTrackingContextResultCallback && r.onTrackingContextResultCallback(t)
                }
            }, n.prototype.emitAfterPageViewCallback = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onAfterPageViewCallback && r.onAfterPageViewCallback(t)
                }
            }, n.prototype.emitIntegrationSessionKeyCallback = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onIntegrationSessionKeyCallback && r.onIntegrationSessionKeyCallback(t)
                }
            }, n.prototype.emitParentRecordingStatusChange = function(t) {
                for (var n = 0, i = this.listeners; n < i.length; n++) {
                    var r = i[n];
                    r.onParentRecordingStatusChange && r.onParentRecordingStatusChange(t)
                }
            }, n
        }(yo),
        Lh = ["trackTransaction"],
        xh = function() {
            function t(t) {
                this.by = t
            }
            return t.prototype.init = function() {
                this.by.register(Es), this.by.register(ph), this.by.register(du), this.by.register(wu), this.by.register(lu), this.by.register(Os), this.by.register(Is), this.by.register(Cs), this.by.register(_s), this.by.register(Lh), this.by.register(bu), this.by.register(Tu), this.by.register(Uo), this.by.register(jo), this.by.register(xu), this.by.register(Pu), this.by.register(Eo), this.by.register(So)
            }, t.prototype.onStartTracking = function() {
                this.by.start()
            }, t.prototype.onOptout = function() {
                this.by.stop()
            }, t
        }(),
        Ph = function(t) {
            function n(n, i) {
                var r = t.call(this) || this;
                return r.oh = n, r.Ty = i, r.Gh = [], r
            }
            return H(n, t), n.prototype.onStart = function() {
                this.commandsBatchReady()
            }, n.prototype.onStop = function() {
                this.Gh = []
            }, n.prototype.register = function(t) {
                for (var n = this, i = function(t) {
                        r.oh.register([t], (function() {
                            for (var i = [], r = 0; r < arguments.length; r++) i[r] = arguments[r];
                            return n.send(t, i)
                        }))
                    }, r = this, s = 0, e = t; s < e.length; s++) {
                    i(e[s])
                }
            }, n.prototype.send = function(t, n) {
                csArray.prototype.push.call(this.Gh, {
                    name: t,
                    params: n
                }), this.isStarted && this.commandsBatchReady()
            }, n.prototype.commandsBatchReady = function() {
                if (0 !== this.Gh.length) {
                    var t = {
                        commands: this.Gh
                    };
                    this.Ty.sendToParent(Ht.Commands, t), this.Gh = []
                }
            }, G([tn("Commands.iframe.commandsBatch.send")], n.prototype, "send", null), G([Hi(), tn("send iframe commands batch")], n.prototype, "commandsBatchReady", null), n
        }(pi),
        Mh = function() {
            function t(t) {
                void 0 === t && (t = 25), this.Ry = t, this.Ny = []
            }
            return t.prototype.reset = function() {
                this.Ny = []
            }, t.prototype.getMessages = function() {
                return this.Ny
            }, t.prototype.addMessage = function(t) {
                this.Ny.length < this.Ry ? csArray.prototype.push.call(this.Ny, t) : this.Ny.length === this.Ry && (this.ky(t), csArray.prototype.push.call(this.Ny, t))
            }, t.prototype.ky = function(t) {
                t.type = Ht.ChildLogMessage, t.content = {
                    message: "Buffer is full, events might be missing.",
                    errorCode: "",
                    level: nt.warn
                }
            }, t
        }(),
        Dh = function(t) {
            function n(n) {
                var i = t.call(this) || this;
                return i.buffer = new Mh(n), i
            }
            return H(n, t), n
        }(pi),
        Uh = function(t) {
            function n(n, i, r, s) {
                var e = t.call(this, 25) || this;
                return e.P = n, e.wi = i, e.Oy = r, e.Iy = s, e.Cy = null, e._y = {
                    boundElement: window,
                    type: "message",
                    listener: function(t) {
                        return e.Ov(t)
                    }
                }, e
            }
            return H(n, t), n.prototype.onStart = function() {
                qn(this._y, !1), this.Ly()
            }, n.prototype.onStop = function() {
                Bn(this._y, !1), this.Cy && (Ft.closeChannelPort(this.Cy), this.Cy = null)
            }, n.prototype.sendToParent = function(t, n) {
                var i = this.buildChildBaseMessage(t, n);
                this.Sw(i)
            }, n.prototype.Ly = function() {
                var t = this.buildChildBaseMessage(Ht.Discovery);
                Ft.sendPostMessage(window.parent, "*", t)
            }, n.prototype.buildChildBaseMessage = function(t, n) {
                var i = Ft.buildBaseMessage(t, Bt.Child, this.P.projectId);
                return n && (i.content = n), i
            }, n.prototype.Sw = function(t) {
                null !== this.Cy ? Ft.sendChannelMessage(this.Cy, t) : this.buffer.addMessage(t)
            }, n.prototype.xy = function(t, n) {
                var i = this,
                    r = Ft.getNewChannelMessage();
                this.Cy = r.port1, this.Cy.onmessage = function(t) {
                    i.Vv(t)
                };
                var s = this.buildChildBaseMessage(Ht.Discovery);
                s.id = n, Ft.sendPostMessage(window.parent, t, s, [r.port2]), this.sendAllMessagesFromBuffer()
            }, n.prototype.Vv = function(t) {
                switch (t.data.type) {
                    case Ht.TrackingContextResultMessage:
                        this.Iy.emitTrackingContextResultMessage(t.data.content);
                        break;
                    case Ht.IntegrationCallback:
                        var n = t.data.content;
                        n.initiator === qt.AfterPageView ? this.Iy.emitAfterPageViewCallback(n) : n.initiator === qt.GetSessionKey ? this.Iy.emitIntegrationSessionKeyCallback(n) : Kt.warn("Iframe child received unknown IntegrationCallback type from parent : ".concat(csJSON.stringify(t.data)));
                        break;
                    case Ht.Stop:
                        this.wi.emitOptout();
                        break;
                    case Ht.RecordingStatus:
                        var i = t.data.content;
                        this.Oy.setRecordingStatus(i), this.Iy.emitParentRecordingStatusChange(i);
                        break;
                    default:
                        Kt.warn("Iframe child received unknown channelMessage type from parent : ".concat(csJSON.stringify(t.data)))
                }
            }, n.prototype.Ov = function(t) {
                if (null === this.Cy && Ft.isMessageValid(t, Bt.Parent, this.P.projectId, this.P.hostnames)) switch (t.data.type) {
                    case Ht.Stop:
                        this.wi.emitOptout();
                        break;
                    case Ht.Discovery:
                        if (!Et(t.data.id) || t.data.id < 0) return void Kt.warn("Iframe child received discovery without valid id from parent (".concat(t.origin, ") : ").concat(csJSON.stringify(t.data)));
                        this.xy(t.origin, t.data.id);
                        break;
                    default:
                        Kt.warn("Iframe child received unknown postMessage type from parent (".concat(t.origin, ") : ").concat(csJSON.stringify(t.data)))
                }
            }, n.prototype.sendAllMessagesFromBuffer = function() {
                if (null !== this.Cy) {
                    for (var t = 0, n = this.buffer.getMessages(); t < n.length; t++) {
                        var i = n[t];
                        Ft.sendChannelMessage(this.Cy, i)
                    }
                    this.Py(), this.buffer.reset()
                }
            }, n.prototype.Py = function() {
                var t = Ft.buildBaseMessage(Ht.EndOfBufferedMessages, Bt.Child, this.P.projectId);
                Ft.sendChannelMessage(this.Cy, t)
            }, n
        }(Dh),
        jh = function() {
            function t(t) {
                this.Ty = t
            }
            return t.prototype.onStartTracking = function() {
                this.Ty.start()
            }, t.prototype.onOptout = function() {
                this.Ty.stop()
            }, t
        }(),
        zh = function() {
            function t(t, n, i, r) {
                this.jh = t, this.zh = n, this.Ty = i, this.Oy = r
            }
            return t.prototype.init = function() {
                var t = this;
                this.jh.onChildMessage((function(n, i, r) {
                    return t.zh.emitIframeEvent(n, i, r)
                })), this.jh.setRecordingStatusCallback((function() {
                    return t.Oy.getRecordingStatus()
                }))
            }, t.prototype.onStartTracking = function() {
                this.jh.start()
            }, t.prototype.onOptout = function() {
                this.jh.stop()
            }, t.prototype.onIframeRecordingUserEvent = function(t) {
                var n = {
                    events: t,
                    containsUserEvent: !0
                };
                this.Ty.sendToParent(Ht.RecordingEvent, n)
            }, t.prototype.onIframeRecordingBrowserEvent = function(t) {
                var n = {
                    events: t,
                    containsUserEvent: !1
                };
                this.Ty.sendToParent(Ht.RecordingEvent, n)
            }, t.prototype.onIframeAnalysisEvent = function(t) {
                this.Ty.sendToParent(Ht.AnalysisEvent, t)
            }, t.prototype.onIframeJavascriptError = function(t) {
                this.Ty.sendToParent(Ht.JavascriptError, t)
            }, t.prototype.onIframeApiError = function(t) {
                this.Ty.sendToParent(Ht.ApiError, t)
            }, t.prototype.onIframeDetailedApiError = function(t) {
                this.Ty.sendToParent(Ht.DetailedApiError, t)
            }, t.prototype.onIframeEmerchandisingMessage = function(t) {
                this.Ty.sendToParent(Ht.EmerchandisingMessage, t)
            }, t.prototype.onIframeCommands = function(t) {
                this.Ty.sendToParent(Ht.Commands, t)
            }, t.prototype.onIframeIntegrationCallback = function(t) {
                this.Ty.sendToParent(Ht.IntegrationCallback, t)
            }, t.prototype.onTrackingContextRequestCallback = function(t) {
                this.Ty.sendToParent(Ht.TrackingContextRequestMessage, t)
            }, t.prototype.onTrackingContextResultCallback = function(t) {
                this.jh.sendToChildren(Ht.TrackingContextResultMessage, t)
            }, t.prototype.onAfterPageViewCallback = function(t) {
                this.jh.sendToChildren(Ht.IntegrationCallback, t)
            }, t.prototype.onIntegrationSessionKeyCallback = function(t) {
                this.jh.sendToChildren(Ht.IntegrationCallback, t)
            }, t.prototype.onParentRecordingStatusChange = function(t) {
                this.jh.sendToChildren(Ht.RecordingStatus, t)
            }, t
        }(),
        qh = function(t) {
            function n(n, i, r, s, e) {
                var u = t.call(this) || this;
                return u.Xc = n, u.su = i, u.Ty = r, u.ua = s, u.ha = e, u
            }
            return H(n, t), n.prototype.init = function() {
                var t, n, i = this;
                this.Xc.onEvent((function(t) {
                    return i.gr(t)
                })), this.su.onEvent((function(t) {
                    return i.gr(t)
                })), null === (t = this.ua) || void 0 === t || t.onEvent((function(t) {
                    return i.gr(t)
                })), null === (n = this.ha) || void 0 === n || n.onEvent((function(t) {
                    return i.gr(t)
                }))
            }, n.prototype.onStart = function() {
                var t, n;
                this.Xc.start(), this.su.start(), null === (t = this.ua) || void 0 === t || t.start(), null === (n = this.ha) || void 0 === n || n.start()
            }, n.prototype.onStop = function() {
                var t, n;
                this.Xc.stop(), this.su.stop(), null === (t = this.ua) || void 0 === t || t.stop(), null === (n = this.ha) || void 0 === n || n.stop()
            }, n.prototype.gr = function(t) {
                this.isStarted && t.type !== fs.RESIZE && this.Ty.sendToParent(Ht.AnalysisEvent, t)
            }, n
        }(pi),
        Bh = function() {
            function t(t, n, i, r, s) {
                this.P = t, this.ia = n, this._n = i, this.Ty = r, this.vt = s
            }
            return t.prototype.init = function() {
                var t, n;
                this.P.accessibilityEnabled && (t = new nu, n = new iu);
                var i = new Gs(this.P, this.ia, this._n),
                    r = this.vt.isInWebViewContext() ? {
                        collectGestureVelocity: !0,
                        collectGestureDistance: !0
                    } : {
                        collectGestureVelocity: !1,
                        collectGestureDistance: !1
                    },
                    s = new qs(this.P, this.ia, new $u(Kt), r);
                this.My = new qh(i, s, this.Ty, t, n), this.My.init()
            }, t.prototype.onStartTracking = function() {
                this.My.start()
            }, t.prototype.onOptout = function() {
                this.My.stop()
            }, t
        }(),
        Hh = function(t) {
            function n(n, i, r, s, e, u, o, h, c, a, f, v, l) {
                var d = t.call(this) || this;
                return d.P = n, d.Mi = i, d.Di = r, d.Ui = s, d.ji = e, d.zi = u, d.qi = o, d.li = h, d.Hi = c, d.Pn = a, d.Wi = f, d.Ty = v, d.$i = l, d.nr = new yi, d.ir = !1, d.Li = [], d.Dy = !1, d.ur = function(t) {
                    return d.aa(t)
                }, d.hr = function(t) {
                    return d.cr(t)
                }, d
            }
            return H(n, t), n.prototype.init = function() {
                this.wr()
            }, n.prototype.wr = function() {
                var t = this;
                oi(this.$i, (function(n) {
                    return n.onEvent(t.ur)
                })), this.Di.onEvent(this.ur), this.Ui.onEvent(this.ur), this.zi.onEvent(this.ur), this.ji.onEvent(this.hr), this.li.onEvent(this.ur), this.Hi.onEvent(this.ur), this.qi.onEvent(this.hr), this.Pn.onTextNodeToEncrypt(this.ur), this.Wi.onEvent(this.ur)
            }, n.prototype.blockSendingEventsFromSerialization = function() {
                this.ir = !1
            }, n.prototype.allowSendingEventsFromSerialization = function() {
                this.ir = !0
            }, n.prototype.aa = function(t) {
                this.Uy(t), this.jy()
            }, n.prototype.cr = function(t) {
                this.zy(t), this.jy()
            }, n.prototype.zy = function(t) {
                csArray.prototype.push.call(this.Li, t), this.Dy = !0
            }, n.prototype.Uy = function(t) {
                csArray.prototype.push.call(this.Li, t)
            }, n.prototype.jy = function() {
                if (this.ir) {
                    var t = {
                        containsUserEvent: this.Dy,
                        events: this.Li
                    };
                    this.Ty.sendToParent(Ht.RecordingEvent, t), this.Li = [], this.Dy = !1
                }
            }, n.prototype.onStart = function() {
                oi(this.$i, (function(t) {
                    return t.start()
                })), this.Mi.start(), this.Wi.start(), this.Hi.start(), this.Ui.start(), this.Di.start(), this.zi.start(), this.qi.start(), this.P.emitDebugEvents && this.nr.emit("replayRecordingStarted")
            }, n.prototype.onStop = function() {
                oi(this.$i, (function(t) {
                    return t.stop()
                })), this.Mi.stop(), this.Di.stop(), this.Ui.stop(), this.zi.stop(), this.ji.stop(), this.qi.stop(), this.Wi.stop()
            }, n.prototype.addInitialDom = function(t) {
                for (var n = 0; n < this.Li.length; n += 1) {
                    if (this.Li[n].date > t.date) return csArray.prototype.splice.call(this.Li, n, 0, t), this.Dy = !0, void this.jy()
                }
                this.zy(t), this.jy()
            }, n
        }(pi),
        Fh = function() {
            function t(t) {
                this.P = t
            }
            return t.prototype.isAllowedByConsent = function() {
                return !this.P.consentRequired
            }, t
        }(),
        Gh = function() {
            function t() {
                this.qy = null
            }
            return t.prototype.getRecordingStatus = function() {
                return null === this.qy ? {
                    isRecording: !1
                } : this.qy
            }, t.prototype.setRecordingStatus = function(t) {
                this.qy = t
            }, t
        }(),
        Vh = function() {
            function t() {}
            return t.isWebViewLocalAssetsSupported = function() {
                return "URL" in window
            }, t
        }(),
        Jh = function() {
            function t(t, n, i, r, s, e, u, o) {
                this.P = t, this.M = n, this.xn = i, this.ph = r, this.Iy = s, this.li = e, this.Ty = u, this.By = o
            }
            return t.prototype.init = function() {
                var t = this,
                    n = new gh(this.M),
                    i = new Qo(window.location, n),
                    r = new Fh(this.P),
                    s = new Qr;
                if (this.gh = new Hr(r, this.P, i, s), this.gh.init(), this.Hy = new Gh, this.Hy.setRecordingStatus({
                        isRecording: !0,
                        isMutationTrackerStarted: !0,
                        PIISelectors: this.xn.getPIISelectors(),
                        capturedElementSelector: this.ph.getWhitelistedElementsSelector(),
                        useAnonymization: this.gh.shouldUseAnonymization()
                    }), Vh.isWebViewLocalAssetsSupported()) {
                    var e = function(n) {
                            t.Fy(n)
                        },
                        u = function(t) {
                            return Kt.error("An error occurred while fetching a styleSheet: " + t)
                        },
                        o = new Set,
                        h = function(t) {
                            return !o.has(t)
                        },
                        c = function(t) {
                            return o.add(t)
                        };
                    this.li.onEvent((function(n) {
                        n && n.args && n.args.length > 0 && t.Gy(n.args[0])
                    })), this.li.onStyleSheetFound((function(n) {
                        t.By.getStyleSheetAssets(n, e, u, h, c)
                    }))
                }
            }, t.prototype.onStartTracking = function() {
                this.Iy.emitParentRecordingStatusChange(this.Hy.getRecordingStatus())
            }, t.prototype.Gy = function(t) {
                this.Ty.sendToParent(Ht.Assets, {
                    assets: [{
                        assetId: t
                    }]
                })
            }, t.prototype.Fy = function(t) {
                if (0 !== t.size) {
                    var n = [];
                    t.forEach((function(t) {
                        csArray.prototype.push.call(n, {
                            assetId: t
                        })
                    })), this.Ty.sendToParent(Ht.Assets, {
                        assets: n
                    })
                }
            }, t
        }(),
        Wh = function() {
            function t(t) {
                this.Vy = t
            }
            return t.prototype.getStyleSheetAssets = function(t, n, i, r, s) {
                var e = this,
                    u = new Set;
                if (Qi(t)) {
                    this.Vy.getResourceContentText(t, (function(t, o) {
                        var h = e.Jy(t, o);
                        csArray.prototype.forEach.call(h, (function(t) {
                            u.add(t), Qi(t) && r(t) && (null == s || s(t), e.getStyleSheetAssets(t, n, i, r, s))
                        })), n(u)
                    }), (function(t) {
                        return i(t)
                    }))
                }
            }, t.prototype.Jy = function(t, n) {
                return this.Wy(t, Ki(n))
            }, t.prototype.Wy = function(t, n) {
                return csArray.prototype.map.call(csArray.prototype.filter.call(csArray.prototype.filter.call(n, (function(t) {
                    return !$i(t)
                })), (function(t) {
                    return !Zi(t)
                })), (function(n) {
                    return function(t, n) {
                        return new csURL(t, n).href
                    }(n, t)
                }))
            }, t
        }(),
        Kh = function() {
            function t() {}
            return t.prototype.getResourceContentText = function(t, n, i) {
                var r = this.Ky((function(i) {
                    n(t, i.responseText)
                }), i);
                r.open("GET", t), r.send()
            }, t.prototype.Ky = function(t, n) {
                var i = new XMLHttpRequest;
                return i.onreadystatechange = function() {
                    i.readyState === XMLHttpRequest.DONE && (200 === i.status ? t(i) : n(i.statusText))
                }, i
            }, t
        }(),
        Yh = function() {
            function t(t, n, i, r, s, e, u, o, h, c, a, f, v, l) {
                this.P = t, this.Ee = n, this._n = i, this.M = r, this.Ln = s, this.xn = e, this.su = u, this.wi = o, this.Ty = h, this.Oy = c, this.oh = a, this.Iy = f, this.vt = v, this.Ws = l
            }
            return t.prototype.init = function() {
                var t = this,
                    n = new xi(this.xn);
                this.ph = new zi(this.M, this.P), this.ph.init();
                var i = new nr,
                    r = new sr(this.Ws, this.Ln),
                    s = new yr(window.crypto),
                    e = new mr(window.crypto);
                e.init(), s.init();
                var u = new cr,
                    o = new cr,
                    h = new cr,
                    c = new cr,
                    a = new cr;
                this.Pn = new or(this.Ln, this.P, e, s, u, o, h, a, c, this.Ee), this.Pn.init();
                var f, v = new hr(this.Pn),
                    l = [new zr, n, this.ph, v, i],
                    d = new jr;
                if (d.isSupported() && csArray.prototype.push.call(l, d.getProcessor()), this.mh()) {
                    var w = new Cr(this.Ln);
                    f = new Dr(l, this.Ln, w)
                } else f = new Ur(l);
                this.fi = new Si(f, this.Ln, this.ph, this.Pn), this.ji = new ei(this._n, this.Ln, this.xn, this.Pn), this.ji.init(), this.Ui = new vi(this.fi, r, i, this.wi, this.Ln, this.xn);
                var y = new Gr;
                if (this.Yy = new Hh(this.P, y, new Ci(this.Ln, this.xn, i, y), this.Ui, this.ji, new Gi(window.location, this.M), new gr(this.su, this.Ln, this.xn), i, new ir(window), this.Pn, d, this.Ty, []), this.oh.register(ss, (function() {
                        return t.Oy.getRecordingStatus().isRecording
                    })), this.oh.register(ns, (function(n) {
                        t.ph.setWhitelistedElementsSelector(n)
                    })), this.oh.register(is, (function(n) {
                        t.xn.setPIISelectors(n)
                    })), this.oh.register(rs, (function(n) {
                        t.Pn.setEncryptionSelectors(n)
                    })), r.init(), this.Yy.init(), this.vt.isInWebViewContext()) {
                    var p = new Wh(new Kh),
                        m = new Jh(this.P, this.M, this.xn, this.ph, this.Iy, i, this.Ty, p);
                    this.wi.addListener(m), m.init()
                }
            }, t.prototype.onParentRecordingStatusChange = function(t) {
                t.PIISelectors && this.xn.setPIISelectors(t.PIISelectors), t.capturedElementSelector && this.ph.setWhitelistedElementsSelector(t.capturedElementSelector), void 0 !== t.useAnonymization && this.fi.setAnonymization(t.useAnonymization), t.encryptionSelectors && this.Pn.setEncryptionSelectors(t.encryptionSelectors), t.isRecording ? this.Yy.start() : this.Yy.stop(), t.isMutationTrackerStarted ? this.Ui.start() : this.Ui.stop()
            }, t.prototype.onInitialDomStart = function() {
                this.Yy.blockSendingEventsFromSerialization()
            }, t.prototype.onInitialDomDone = function(t) {
                this.ji.start(), this.Yy.allowSendingEventsFromSerialization(), this.Yy.addInitialDom(t)
            }, t.prototype.mh = function() {
                return Fr.isAsyncSerializationSupported() && this.P.asyncSerializerEnabled
            }, t
        }(),
        Xh = function() {
            function t(t, n) {
                this.Xy = t, this.$y = n
            }
            return t.prototype.init = function() {
                var t = this;
                this.Xy.onWebViewEvent((function(n, i) {
                    t.$y.emitWebviewEventToBridge(n, i)
                }))
            }, t.prototype.onStartTracking = function() {
                this.Xy.start()
            }, t.prototype.onOptout = function() {
                this.Xy.stop()
            }, t
        }();
    ! function(t) {
        t[t.PAGE_VIEW = 4] = "PAGE_VIEW", t[t.TAP = 6] = "TAP", t[t.LONG_PRESS = 8] = "LONG_PRESS", t[t.DRAG = 9] = "DRAG", t[t.FLICK = 10] = "FLICK"
    }(Ih || (Ih = {}));
    var $h, Zh = function() {
        function t() {
            this.Zy = 1
        }
        return t.prototype.transformEvent = function(t) {
            switch (t.type) {
                case fs.TAP:
                    return {
                        version: this.Zy, type: Ih.TAP, data: {
                            path: t.tgt
                        }
                    };
                case fs.DRAG:
                    var n = t;
                    return {
                        version: this.Zy, type: Ih.DRAG, data: {
                            path: n.tgt,
                            direction: n.fd,
                            distance: n.distance,
                            velocity: n.velocity
                        }
                    };
                case fs.FLICK:
                    var i = t;
                    return {
                        version: this.Zy, type: Ih.FLICK, data: {
                            path: i.tgt,
                            direction: i.fd,
                            distance: i.distance,
                            velocity: i.velocity
                        }
                    };
                default:
                    return null
            }
        }, t
    }();
    ! function(t) {
        t.isCSJavascriptBridgeDefined = function() {
            return "object" == typeof window.CSJavascriptBridge && "function" == typeof window.CSJavascriptBridge.optIn && "function" == typeof window.CSJavascriptBridge.optOut && "function" == typeof window.CSJavascriptBridge.sendEvent && "function" == typeof window.CSJavascriptBridge.sendDynamicVar && "function" == typeof window.CSJavascriptBridge.sendTransaction
        }, t.sendAnalysisEvent = function(t) {
            window.CSJavascriptBridge.sendEvent(csJSON.stringify(t))
        }, t.sendSREvent = function(t) {
            if (window.CSJavascriptBridge.sendSREvent)
                for (var n = 0, i = t.events; n < i.length; n++) {
                    var r = i[n];
                    window.CSJavascriptBridge.sendSREvent(csJSON.stringify(r))
                }
        }, t.sendLog = function(t) {
            window.CSJavascriptBridge && window.CSJavascriptBridge.sendLog && window.CSJavascriptBridge.sendLog(csJSON.stringify(t))
        }, t.sendOptIn = function() {
            window.CSJavascriptBridge.optIn()
        }, t.sendOptOut = function() {
            window.CSJavascriptBridge.optOut()
        }, t.sendDynamicVariable = function(t, n) {
            window.CSJavascriptBridge.sendDynamicVar(t, n)
        }, t.sendTransaction = function(t, n, i, r) {
            window.CSJavascriptBridge.sendTransaction(t, n, i, r)
        }, t.sendAssets = function(t, n) {
            if (window.CSJavascriptBridge.sendAssets) {
                var i = csJSON.stringify(t);
                window.CSJavascriptBridge.sendAssets(i, n)
            } else window.CSJavascriptBridge.sendSRAssets && window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(t, (function(t) {
                return t.assetId
            })))
        }
    }($h || ($h = {}));
    var Qh = function() {
            function t(t, n, i) {
                this.Qy = t, this.tp = n, this.np = i
            }
            return t.prototype.emitWebviewEventToBridge = function(t, n) {
                var i = this;
                switch (t) {
                    case Ht.AnalysisEvent:
                        var r = this.np.transformEvent(n);
                        r && $h.sendAnalysisEvent(r);
                        break;
                    case Ht.RecordingEvent:
                        $h.sendSREvent(n);
                        break;
                    case Ht.ChildLogMessage:
                        $h.sendLog(n);
                        break;
                    case Ht.Commands:
                        Kt.tryToExecute("SDKMessageUtils.sendMessage.sendCommandMessage: ".concat(n), (function() {
                            i.ip(n)
                        }))();
                        break;
                    case Ht.Assets:
                        var s = n,
                            e = s.assets,
                            u = s.serializationId;
                        $h.sendAssets(e, u)
                }
            }, t.prototype.ip = function(t) {
                for (var n = 0, i = t.commands; n < i.length; n++) {
                    var r = i[n];
                    switch (!0) {
                        case csArray.prototype.indexOf.call(jo, r.name) >= 0:
                            $h.sendOptIn();
                            break;
                        case csArray.prototype.indexOf.call(Uo, r.name) >= 0:
                            $h.sendOptOut();
                            break;
                        case csArray.prototype.indexOf.call(Es, r.name) >= 0:
                            this.rp(r);
                            break;
                        case csArray.prototype.indexOf.call(lu, r.name) >= 0:
                            this.sp(r);
                            break;
                        case csArray.prototype.indexOf.call(Is, r.name) >= 0:
                            this.ep(r);
                            break;
                        case csArray.prototype.indexOf.call(Cs, r.name) >= 0:
                            this.up(r);
                            break;
                        case csArray.prototype.indexOf.call(_s, r.name) >= 0:
                            this.op();
                            break;
                        case csArray.prototype.indexOf.call(Lh, r.name) >= 0:
                            this.ep(r), this.op();
                            break;
                        default:
                            Kt.warn("WebviewBridgeEventEmitter received an unknown command: ".concat(csJSON.stringify(r)))
                    }
                }
            }, t.prototype.rp = function(t) {
                if (1 === t.params.length) {
                    var n = t.params[0];
                    if (ms.isValid(n.key, n.value)) {
                        var i = this.Qy.anonymizeEmail(n.key),
                            r = this.Qy.anonymizeEmail(n.value);
                        $h.sendDynamicVariable(i, r)
                    }
                }
            }, t.prototype.sp = function(t) {
                if (1 === t.params.length) {
                    var n = t.params[0];
                    if (St(n)) {
                        var i = {
                            type: Ih.PAGE_VIEW,
                            version: 1,
                            data: {
                                url: n
                            }
                        };
                        $h.sendAnalysisEvent(i)
                    }
                }
            }, t.prototype.ep = function(t) {
                if (1 === t.params.length) {
                    var n = t.params[0];
                    n.value && (n.revenue = n.value), this.tp.addTransaction(n)
                }
            }, t.prototype.up = function(t) {
                if (1 === t.params.length) {
                    var n = t.params[0];
                    this.tp.addItem(n)
                }
            }, t.prototype.op = function() {
                var t = this.tp.getTransaction(),
                    n = this.tp.getItems();
                bs.isValid(t) && ($h.sendTransaction(t.id ? t.id : null, t.revenue, t.currency ? t.currency : "", n.length ? n : void 0), this.tp.clear())
            }, t
        }(),
        tc = function() {
            function t(t) {
                this.Ty = t, this.Lh = {}
            }
            return t.prototype.handleCommand = function(t) {
                Nt(t) && this.xh(t)
            }, t.prototype.executeRegisteredCallbacks = function(t) {
                var n = t.trackingContext;
                if (n)
                    if (t.callbackId) {
                        var i = this.Lh[t.callbackId];
                        i && this.Ph(i, n)
                    } else
                        for (var r in this.Lh) this.Ph(this.Lh[r], n)
            }, t.prototype.xh = function(t) {
                var n = Q.integer(),
                    i = {
                        callbackId: n,
                        initiator: qt.AfterPageView
                    };
                this.Lh[n] = t, this.Ty.sendToParent(Ht.IntegrationCallback, i)
            }, t.prototype.Ph = function(t, n) {
                setTimeout((function() {
                    t(n)
                }))
            }, t
        }(),
        nc = function() {
            function t(t) {
                this.Ty = t, this.Mh = {}
            }
            return t.prototype.handleCommand = function(t) {
                bt(t) && Nt(t.callback) && this.Uh(t.callback)
            }, t.prototype.executePendingCallbacks = function(t) {
                var n = t.trackingContext,
                    i = t.callbackId;
                if (i && n) {
                    var r = this.Mh[i];
                    r && (delete this.Mh[i], this.Ph(r, n.sessionKey))
                }
            }, t.prototype.Uh = function(t) {
                var n = Q.integer(),
                    i = {
                        callbackId: n,
                        initiator: qt.GetSessionKey
                    };
                this.Mh[n] = t, this.Ty.sendToParent(Ht.IntegrationCallback, i)
            }, t.prototype.Ph = function(t, n) {
                setTimeout((function() {
                    t(n)
                }))
            }, t
        }();
    var ic, rc, sc = function() {
            function t(t, n, i, r) {
                this.Ty = t, this.By = n, this.li = i, this.Fr = r
            }
            return t.prototype.handleCommand = function(t) {
                var n = t && t.withLocalAssets,
                    i = new Set,
                    r = new Set;
                n && Vh.isWebViewLocalAssetsSupported() ? (this.li.enable(), this.li.onEvent((function(t) {
                    t && t.args && t.args.length > 0 && i.add(t.args[0])
                })), this.li.onStyleSheetFound((function(t) {
                    r.add(t)
                }))) : (this.li.disable(), Vh.isWebViewLocalAssetsSupported() || Kt.warn("Local asset is not supported on this browser"));
                var s = this.Fr.serialize(document),
                    e = csJSON.stringify(s);
                if (n) {
                    var u = zu.generate();
                    return this.hp(i, r, u), {
                        serializedDom: e,
                        serializationId: u
                    }
                }
                return e
            }, t.prototype.hp = function(t, n, i) {
                var r = this;
                0 === n.size ? this.Fy(t, i) : this.cp(t, n, i, (function(t, n) {
                    return r.Fy(t, n)
                }))
            }, t.prototype.cp = function(t, n, i, r) {
                var s = this,
                    e = 0,
                    u = 0,
                    o = function(t) {
                        return !n.has(t)
                    },
                    h = function(t) {
                        return n.add(t)
                    },
                    c = function(s) {
                        var o;
                        o = t, s.forEach((function(t) {
                            o.add(t)
                        })), ++e + u === n.size && r(t, i)
                    },
                    a = function(s) {
                        u++, Kt.error("An error occurred while fetching a styleSheet: " + s), e + u === n.size && r(t, i)
                    };
                n.forEach((function(t) {
                    s.By.getStyleSheetAssets(t, c, a, o, h)
                }))
            }, t.prototype.Fy = function(t, n) {
                var i = [];
                t.forEach((function(t) {
                    csArray.prototype.push.call(i, {
                        assetId: t
                    })
                })), this.Ty.sendToParent(Ht.Assets, {
                    assets: i,
                    serializationId: n
                })
            }, t
        }(),
        ec = function() {
            function t(t, n) {
                this.Ty = t, this.jh = n, this.ap = {}
            }
            return t.prototype.handleCommand = function(t, n) {
                bt(t) && Nt(n) && this.Uh(t, n)
            }, t.prototype.executePendingCommand = function(t) {
                var n = t.trackingContext,
                    i = t.callbackId;
                if (i && n)
                    if (this.ap[i]) {
                        var r = this.ap[i],
                            s = r[0],
                            e = r[1];
                        s && (delete this.ap[i], this.Ph(n, s, e))
                    } else this.jh.sendToChildren(Ht.TrackingContextResultMessage, t)
            }, t.prototype.Uh = function(t, n) {
                var i = Q.integer();
                this.ap[i] = [t, n], this.Ty.sendToParent(Ht.TrackingContextRequestMessage, {
                    callbackId: i
                })
            }, t.prototype.Ph = function(t, n, i) {
                setTimeout((function() {
                    var r = as(t, n);
                    i(r)
                }))
            }, t
        }(),
        uc = ["serializeWebView"],
        oc = function() {
            function t(t, n, i) {
                this.oh = t, this.Ty = n, this.jh = i
            }
            return t.prototype.init = function() {
                var t = this;
                this.fp = new tc(this.Ty), this.vp = new nc(this.Ty), this.lp = new ec(this.Ty, this.jh);
                var n = new Wh(new Kh),
                    i = new nr,
                    r = new Or([i]);
                this.dp = new sc(this.Ty, n, i, r), this.oh.register(ds, (function(n) {
                    t.fp.handleCommand(n)
                })), this.oh.register(ws, (function(n) {
                    return t.vp.handleCommand(n)
                })), this.oh.register(uc, (function(n) {
                    return t.dp.handleCommand(n)
                })), this.oh.register(ys, (function(n, i) {
                    t.lp.handleCommand(n, i)
                }))
            }, t.prototype.onAfterPageViewCallback = function(t) {
                this.fp.executeRegisteredCallbacks(t)
            }, t.prototype.onIntegrationSessionKeyCallback = function(t) {
                this.vp.executePendingCallbacks(t)
            }, t.prototype.onTrackingContextResultCallback = function(t) {
                this.lp.executePendingCommand(t)
            }, t
        }(),
        hc = function() {
            function t(t, n, i, r, s, e, u, o) {
                var h = this;
                this.wp = t, this.wi = n, this.P = i, this.Ty = r, this.Oy = s, this.oh = e, this.vt = u, this.Ws = o, this.Kl = function() {
                    h.oh.start(), h.Xl.start()
                }
            }
            return t.prototype.start = function() {
                var t, n, i, r, s, e, u, o, h, c, a = this;
                this.Ws.schedule((function() {
                    t = new Ah(U, a.P), n = new Au(t), i = new lt, r = ah.create(Kt.warn), s = new Bh(a.P, t, n, a.Ty, a.vt)
                })), this.Ws.schedule((function() {
                    if (a.vt.isInWebViewContext()) {
                        var t = new Zh,
                            n = new Qh(i, new Rs(i, null, null), t),
                            r = new Xh(a.Ty, n);
                        r.init(), a.wi.addListener(r)
                    } else {
                        var s = new jh(a.Ty);
                        a.wi.addListener(s)
                    }
                })), this.Ws.schedule((function() {
                    u = new _i, e = new Gu(a.P)
                })), Fr.isRecordingSupported() && this.Ws.schedule((function() {
                    var t = new $u(Kt),
                        s = new Yh(a.P, r, n, i, u, e, t, a.wi, a.Ty, a.Oy, a.oh, a.wp, a.vt, a.Ws);
                    a.wi.addListener(s), a.wp.addListener(s), s.init()
                })), this.Ws.schedule((function() {
                    c = new Wu(a.P, e);
                    var n = new Eh(t),
                        i = new Sh(t),
                        r = new bh(t),
                        s = new Th(u);
                    h = new ih(n, i, r, s), o = new zh(c, h, a.Ty, a.Oy)
                })), this.Ws.schedule((function() {
                    h.addListener(o), a.wp.addListener(o), a.wi.addListener(o), a.wi.addListener(s)
                })), this.Ws.schedule((function() {
                    var t = new oc(a.oh, a.Ty, c);
                    a.wp.addListener(t), t.init()
                })), this.Ws.schedule((function() {
                    o.init(), s.init()
                })), this.Xl = new Eu, this.Ws.schedule((function() {
                    a.Xl.onLoad((function() {
                        a.wi.emitStartTracking()
                    })), a.Kl()
                }))
            }, t
        }(),
        cc = function(t) {
            function n(n) {
                void 0 === n && (n = 500);
                var i = t.call(this, 2500) || this;
                return i.yp = n, i.pp = !1, i
            }
            return H(n, t), n.prototype.onStart = function() {
                this.mp()
            }, n.prototype.onStop = function() {
                this.buffer.reset(), this.gp && window.clearInterval(this.gp)
            }, n.prototype.sendToParent = function(t, n) {
                var i;
                if (this.pp) null === (i = this.Ap) || void 0 === i || i.call(this, t, n);
                else {
                    var r = this.buildChildBaseMessage(t, n);
                    this.buffer.addMessage(r)
                }
            }, n.prototype.onWebViewEvent = function(t) {
                this.Ap = t
            }, n.prototype.sendAllMessagesFromBuffer = function() {
                var t, n = this.buffer.getMessages();
                if (0 !== n.length) {
                    for (var i = 0, r = n; i < r.length; i++) {
                        var s = r[i];
                        null === (t = this.Ap) || void 0 === t || t.call(this, s.type, s.content)
                    }
                    this.buffer.reset()
                }
            }, n.prototype.buildChildBaseMessage = function(t, n) {
                return {
                    type: t,
                    content: n
                }
            }, n.prototype.mp = function() {
                var t = this;
                this.pp = $h.isCSJavascriptBridgeDefined(), this.pp ? this.sendAllMessagesFromBuffer() : this.gp = window.setInterval((function() {
                    t.pp = $h.isCSJavascriptBridgeDefined(), t.pp && (t.sendAllMessagesFromBuffer(), window.clearInterval(t.gp))
                }), this.yp)
            }, n
        }(Dh),
        ac = function(t) {
            function n(n, i) {
                var r = t.call(this) || this;
                return r.Fi = n, r.Ty = i, r
            }
            return H(n, t), n.prototype.onStart = function() {
                var t = this;
                this.Fi.subscribe(n.Er, (function(n) {
                    return t.gr(n)
                }))
            }, n.prototype.onStop = function() {
                this.Fi.unsubscribe(n.Er)
            }, n.prototype.gr = function(t) {
                this.isStarted && this.Ty.sendToParent(Ht.JavascriptError, t)
            }, n.Er = "ChildJavaScriptErrorsService", n
        }(pi),
        fc = function() {
            function t(t) {
                this.Ty = t
            }
            return t.prototype.init = function() {
                var t = new Uu;
                this.Ep = new ac(t, this.Ty)
            }, t.prototype.onStartTracking = function() {
                this.Ep.start()
            }, t.prototype.onOptout = function() {
                this.Ep.stop()
            }, t
        }(),
        vc = function() {
            function t(t, n, i) {
                this.P = t, this.vt = n, this.Ws = i
            }
            return t.prototype.init = function() {
                var t, n, i, r, s, e, u, o = this;
                this.Ws.schedule((function() {
                    t = new po(o.Ws), n = new _h, i = new Gh;
                    var e = [Fo.UXA];
                    o.vt.isInWebViewContext() ? (window.cs_wvt = window.cs_wvt || [], csArray.prototype.push.call(e, Fo.WVT), r = new cc) : r = new Uh(o.P, t, i, n), s = new Vo(e)
                })), this.Ws.schedule((function() {
                    e = new Ph(s, r), u = new xh(e)
                })), this.Ws.schedule((function() {
                    u.init()
                })), this.Ws.schedule((function() {
                    if ((o.P.customErrorsEnabled || o.P.jsCustomErrorsEnabled) && e.register(io), o.P.jsErrorsEnabled) {
                        var n = new fc(r);
                        n.init(), t.addListener(n)
                    }
                })), this.Ws.schedule((function() {
                    t.addListener(u)
                })), this.Ws.schedule((function() {
                    t.emitInitTracking()
                })), this.Ws.schedule((function() {
                    new hc(n, t, o.P, r, i, s, o.vt, o.Ws).start()
                }))
            }, t
        }(),
        lc = function() {
            function t(t, n, i) {
                void 0 === n && (n = 30), void 0 === i && (i = 0);
                var r = this;
                this.Sp = t, this.bp = n, this.Tp = i, this.Rp = [], this.Y = !1, this.Np = 0, this.kp = function() {
                    for (r.Np = 0; r.Rp.length;) {
                        if (r.Np >= r.bp) return void setTimeout(r.kp, r.Tp);
                        var t = pt(),
                            n = csArray.prototype.shift.call(r.Rp);
                        if (!n) break;
                        r.runTask(n);
                        var i = pt() - t;
                        r.Np += i
                    }
                    r.Y = !1
                }
            }
            return t.prototype.schedule = function(t, n) {
                void 0 === n && (n = !1), this.Sp && !n ? (csArray.prototype.push.call(this.Rp, t), this.Op()) : t()
            }, t.prototype.Op = function() {
                var t = this;
                this.Y || (this.Y = !0, setTimeout((function() {
                    t.kp()
                })))
            }, t.prototype.runTask = function(t) {
                t()
            }, t.prototype.runPendingTasks = function() {
                var t = this;
                csArray.prototype.forEach.call(this.Rp, (function(n) {
                    t.runTask(n)
                })), this.Rp = []
            }, t.prototype.clearQueue = function() {
                this.Rp = []
            }, t.prototype.isEmpty = function() {
                return 0 === this.Rp.length
            }, G([tn("TaskScheduler"), Zn("runTask")], t.prototype, "runTask", null), G([Zn("runPendingTasks")], t.prototype, "runPendingTasks", null), t
        }(),
        dc = function() {
            function t(t, n, i) {
                this.P = t, this.vt = n, this.D = i
            }
            return t.prototype.start = function() {
                var t, n, i, r, s;
                if (!window.UXAnalytics) {
                    var e = new lc(!!(null === (t = this.P.taskSchedulerOptions) || void 0 === t ? void 0 : t.enabled), null === (n = this.P.taskSchedulerOptions) || void 0 === n ? void 0 : n.maxProcessingTime, null === (i = this.P.taskSchedulerOptions) || void 0 === i ? void 0 : i.waitDuration),
                        u = new sn(this.vt, this.P);
                    u.init();
                    var o = new on(this.P, u);
                    if (this.vt.isTopWindowTracker() && o.canTrack()) {
                        if ((null === (r = window.CSProtectnativeFunctionsLogs) || void 0 === r ? void 0 : r.Warning) && Kt.warn("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Warning)), null === (s = window.CSProtectnativeFunctionsLogs) || void 0 === s ? void 0 : s.Critical) return void Kt.error("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Critical));
                        new Oh(this.P, u, this.D, e).init()
                    } else if (!this.vt.isTopWindowTracker() && o.canTrackInChild()) {
                        new vc(this.P, this.vt, e).init()
                    }
                    window.UXAnalytics = {}, !window.CSFrameCommunication && Ch.isActivable() && (window.CSFrameCommunication = Ch, Ch.waitForConnection())
                }
            }, G([Zn("main.start"), tn("main.start")], t.prototype, "start", null), t
        }(),
        wc = function() {
            function t() {}
            return t.prototype.send = function(t, n, i) {
                void 0 === i && (i = nt.warn);
                var r = {
                    message: t,
                    errorCode: n,
                    level: i
                };
                $h.sendLog(r)
            }, t
        }();
    try {
        var yc = new st(window.CS_CONF);
        window._uxa = window._uxa || [], yc.processOptionOverrides(window._uxa);
        var pc = new et(window, yc);
        pc.init();
        var mc = new Jt;
        if (Yt = Kt, Kt.computeIsActive(yc.validationRate), pc.isTopWindowTracker()) {
            var gc = new xt(yc, mc);
            Kt.setStrategy(gc)
        } else if (pc.isInIframeContext()) {
            var Ac = new Vt(yc);
            Kt.setStrategy(Ac)
        } else if (pc.isInWebViewContext()) {
            var Ec = new wc;
            Kt.setStrategy(Ec)
        }
        void 0 === ic && (ic = 50), void 0 === rc && (rc = .1), Yn = Kt.isPerfLoggingActive() && function() {
            var t;
            if (!(null === (t = window.performance) || void 0 === t ? void 0 : t.mark)) return !1;
            var n = "isPerformanceMeasureSupported",
                i = "".concat(n, "_a");
            return performance.mark(i), void 0 !== performance.measure(n, i)
        }(), Yn && (Wn = ic, Kn = rc), new dc(yc, pc, mc).start()
    } catch (Oi) {}
}();